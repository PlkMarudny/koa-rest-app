var AsharqBreakingNewsApp=function(){var e=void 0!==typeof self?self:this;function t(){}const n=e=>e;function r(e,t){for(const n in t)e[n]=t[n];return e}function i(e){return e()}function o(){return Object.create(null)}function s(e){e.forEach(i)}function a(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(e,t,n){e.$$.on_destroy.push(u(t,n))}function f(e,t,n,r){if(e){const i=d(e,t,n,r);return e[0](i)}}function d(e,t,n,i){return e[1]&&i?r(n.ctx.slice(),e[1](i(t))):n.ctx}function h(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function p(e,t,n,r,i,o,s){const a=h(t,r,i,o);if(a){const i=d(t,n,r,s);e.p(i,a)}}function m(e){return null==e?"":e}function g(e,t,n=t){return e.set(n),t}function v(e){return e&&a(e.destroy)?e.destroy:t}const y="undefined"!=typeof window;let w=y?()=>window.performance.now():()=>Date.now(),b=y?e=>requestAnimationFrame(e):t;const x=new Set;function C(e){x.forEach((t=>{t.c(e)||(x.delete(t),t.f())})),0!==x.size&&b(C)}function $(e){let t;return 0===x.size&&b(C),{promise:new Promise((n=>{x.add(t={c:e,f:n})})),abort(){x.delete(t)}}}function E(e,t){e.appendChild(t)}function S(e,t,n){e.insertBefore(t,n||null)}function _(e){e.parentNode.removeChild(e)}function k(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function T(e){return document.createElement(e)}function O(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function N(e){return document.createTextNode(e)}function A(){return N(" ")}function I(){return N("")}function M(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function j(e){return function(t){return t.preventDefault(),e.call(this,t)}}function L(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function D(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function P(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:D(e,r,t[r])}function R(e,t,n){t in e?e[t]=n:D(e,t,n)}function z(e){return""===e?void 0:+e}function U(e){return Array.from(e.childNodes)}function q(e,t){t=""+t,e.data!==t&&(e.data=t)}function F(e,t){e.value=null==t?"":t}function B(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}let H;function W(){if(void 0===H){H=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){H=!0}}return H}function Y(e,t){const n=getComputedStyle(e),r=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(e.style.position="relative");const i=T("iframe");i.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${r};`),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=W();let s;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=M(window,"message",(e=>{e.source===i.contentWindow&&t()}))):(i.src="about:blank",i.onload=()=>{s=M(i.contentWindow,"resize",t)}),E(e,i),()=>{(o||s&&i.contentWindow)&&s(),_(i)}}function G(e,t,n){e.classList[n?"add":"remove"](t)}function V(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}class K{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=T(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)S(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(_)}}const J=new Set;let X=0,Q;function Z(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function ee(e,t,n,r,i,o,s,a=0){const c=16.666/r;let u="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*o(e);u+=100*e+`%{${s(r,1-r)}}\n`}const l=u+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${Z(l)}_${a}`,d=e.ownerDocument;J.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(T("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${l}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${f} ${r}ms linear ${i}ms 1 both`,X+=1,f}function te(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),X-=i,X||ne())}function ne(){b((()=>{X||(J.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),J.clear())}))}function re(e,r,i,o){if(!r)return t;const s=e.getBoundingClientRect();if(r.left===s.left&&r.right===s.right&&r.top===s.top&&r.bottom===s.bottom)return t;const{delay:a=0,duration:c=300,easing:u=n,start:l=w()+a,end:f=l+c,tick:d=t,css:h}=i(e,{from:r,to:s},o);let p=!0,m=!1,g;function v(){h&&(g=ee(e,0,1,c,a,u,h)),a||(m=!0)}function y(){h&&te(e,g),p=!1}return $((e=>{if(!m&&e>=l&&(m=!0),m&&e>=f&&(d(1,0),y()),!p)return!1;if(m){const t=e-l,n=0+1*u(t/c);d(n,1-n)}return!0})),v(),d(0,1),y}function ie(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,oe(e,i)}}function oe(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i="none"===r.transform?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function se(e){Q=e}function ae(){if(!Q)throw new Error("Function called outside component initialization");return Q}function ce(e){ae().$$.before_update.push(e)}function ue(e){ae().$$.on_mount.push(e)}function le(e){ae().$$.after_update.push(e)}function fe(e){ae().$$.on_destroy.push(e)}function de(){const e=ae();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=V(t,n);r.slice().forEach((t=>{t.call(e,i)}))}}}function he(e,t){ae().$$.context.set(e,t)}function pe(e){return ae().$$.context.get(e)}function me(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const ge=[],ve=[],ye=[],we=[],be=Promise.resolve();let xe=!1;function Ce(){xe||(xe=!0,be.then(Te))}function $e(){return Ce(),be}function Ee(e){ye.push(e)}function Se(e){we.push(e)}let _e=!1;const ke=new Set;function Te(){if(!_e){_e=!0;do{for(let e=0;e<ge.length;e+=1){const t=ge[e];se(t),Oe(t.$$)}for(ge.length=0;ve.length;)ve.pop()();for(let e=0;e<ye.length;e+=1){const t=ye[e];ke.has(t)||(ke.add(t),t())}ye.length=0}while(ge.length);for(;we.length;)we.pop()();xe=!1,_e=!1,ke.clear()}}function Oe(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ee)}}let Ne;function Ae(){return Ne||(Ne=Promise.resolve(),Ne.then((()=>{Ne=null}))),Ne}function Ie(e,t,n){e.dispatchEvent(V(`${t?"intro":"outro"}${n}`))}const Me=new Set;let je;function Le(){je={r:0,c:[],p:je}}function De(){je.r||s(je.c),je=je.p}function Pe(e,t){e&&e.i&&(Me.delete(e),e.i(t))}function Re(e,t,n,r){if(e&&e.o){if(Me.has(e))return;Me.add(e),je.c.push((()=>{Me.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const ze={duration:0};function Ue(e,r,i){let o=r(e,i),s=!1,c,u,l=0;function f(){c&&te(e,c)}function d(){const{delay:r=0,duration:i=300,easing:a=n,tick:d=t,css:h}=o||ze;h&&(c=ee(e,0,1,i,r,a,h,l++)),d(0,1);const p=w()+r,m=p+i;u&&u.abort(),s=!0,Ee((()=>Ie(e,!0,"start"))),u=$((t=>{if(s){if(t>=m)return d(1,0),Ie(e,!0,"end"),f(),s=!1;if(t>=p){const e=a((t-p)/i);d(e,1-e)}}return s}))}let h=!1;return{start(){h||(te(e),a(o)?(o=o(),Ae().then(d)):d())},invalidate(){h=!1},end(){s&&(f(),s=!1)}}}function qe(e,r,i){let o=r(e,i),c=!0,u;const l=je;function f(){const{delay:r=0,duration:i=300,easing:a=n,tick:f=t,css:d}=o||ze;d&&(u=ee(e,1,0,i,r,a,d));const h=w()+r,p=h+i;Ee((()=>Ie(e,!1,"start"))),$((t=>{if(c){if(t>=p)return f(0,1),Ie(e,!1,"end"),--l.r||s(l.c),!1;if(t>=h){const e=a((t-h)/i);f(1-e,e)}}return c}))}return l.r+=1,a(o)?Ae().then((()=>{o=o(),f()})):f(),{end(t){t&&o.tick&&o.tick(1,0),c&&(u&&te(e,u),c=!1)}}}function Fe(e,r,i,o){let c=r(e,i),u=o?0:1,l=null,f=null,d=null;function h(){d&&te(e,d)}function p(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:i=0,duration:o=300,easing:a=n,tick:m=t,css:g}=c||ze,v={start:w()+i,b:r};r||(v.group=je,je.r+=1),l?f=v:(g&&(h(),d=ee(e,u,r,o,i,a,g)),r&&m(0,1),l=p(v,o),Ee((()=>Ie(e,r,"start"))),$((t=>{if(f&&t>f.start&&(l=p(f,o),f=null,Ie(e,l.b,"start"),g&&(h(),d=ee(e,u,l.b,l.duration,0,a,c.css))),l)if(t>=l.end)m(u=l.b,1-u),Ie(e,l.b,"end"),f||(l.b?h():--l.group.r||s(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;u=l.a+l.d*a(e/l.duration),m(u,1-u)}return!(!l&&!f)})))}return{run(e){a(c)?Ae().then((()=>{c=c(),m(e)})):m(e)},end(){h(),l=f=null}}}const Be="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:e;function He(e,t){e.d(1),t.delete(e.key)}function We(e,t){Re(e,1,1,(()=>{t.delete(e.key)}))}function Ye(e,t){e.f(),He(e,t)}function Ge(e,t){e.f(),We(e,t)}function Ve(e,t,n,r,i,o,s,a,c,u,l,f){let d=e.length,h=o.length,p=d;const m={};for(;p--;)m[e[p].key]=p;const g=[],v=new Map,y=new Map;for(p=h;p--;){const e=f(i,o,p),a=n(e);let c=s.get(a);c?r&&c.p(e,t):(c=u(a,e),c.c()),v.set(a,g[p]=c),a in m&&y.set(a,Math.abs(p-m[a]))}const w=new Set,b=new Set;function x(e){Pe(e,1),e.m(a,l),s.set(e.key,e),l=e.first,h--}for(;d&&h;){const t=g[h-1],n=e[d-1],r=t.key,i=n.key;t===n?(l=t.first,d--,h--):v.has(i)?!s.has(r)||w.has(r)?x(t):b.has(i)?d--:y.get(r)>y.get(i)?(b.add(r),x(t)):(w.add(i),d--):(c(n,s),d--)}for(;d--;){const t=e[d];v.has(t.key)||c(t,s)}for(;h;)x(g[h-1]);return g}function Ke(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)i[e]||(n[e]=a[e],i[e]=1);e[o]=a}else for(const e in s)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function Je(e){return"object"==typeof e&&null!==e?e:{}}function Xe(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Qe(e){e&&e.c()}function Ze(e,t,n){const{fragment:r,on_mount:o,on_destroy:c,after_update:u}=e.$$;r&&r.m(t,n),Ee((()=>{const t=o.map(i).filter(a);c?c.push(...t):s(t),e.$$.on_mount=[]})),u.forEach(Ee)}function et(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(e,t){-1===e.$$.dirty[0]&&(ge.push(e),Ce(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function nt(e,n,r,i,a,c,u=[-1]){const l=Q;se(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:u};let h=!1;if(d.ctx=r?r(e,f,((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=i)&&(d.bound[t]&&d.bound[t](i),h&&tt(e,t)),n})):[],d.update(),h=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const e=U(n.target);d.fragment&&d.fragment.l(e),e.forEach(_)}else d.fragment&&d.fragment.c();n.intro&&Pe(e.$$.fragment),Ze(e,n.target,n.anchor),Te()}se(l)}class rt{$destroy(){et(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}class it extends rt{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const ot="http://clu-gra-vha01b:8177",st="http://10.20.64.27:1880/play",at="http://10.20.64.27:1880/stop",ct=12e3,ut="couchdb",lt="http://bn.corp.asharq.net:5984",ft="editor",dt="editor",ht="basharqbn",pt="http://bn.corp.asharq.net:5984",mt="editor",gt="editor",vt="basharqbncfg",yt="http://psv-gra-vze19b:54000/",wt=1.77777777778;function bt(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function xt(e){const t=e-1;return t*t*t+1}function Ct(e,{delay:t=0,duration:r=400,easing:i=n}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:i,css:e=>"opacity: "+e*o}}function $t(e,{delay:t=0,duration:n=400,easing:r=xt,x:i=0,y:o=0,opacity:s=0}){const a=getComputedStyle(e),c=+a.opacity,u="none"===a.transform?"":a.transform,l=c*(1-s);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${u} translate(${(1-e)*i}px, ${(1-e)*o}px);\n\t\t\topacity: ${c-l*t}`}}var Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function St(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function _t(e){var t={exports:{}};return e(t,t.exports),t.exports}function kt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}
/*! store2 - v2.12.0 - 2020-08-12
    * Copyright (c) 2020 Nathan Bubna; Licensed (MIT OR GPL-3.0) */var Tt=_t((function(e){!function(t,n){var r={version:"2.12.0",areas:{},apis:{},inherit:function(e,t){for(var n in e)t.hasOwnProperty(n)||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},stringify:function(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)},parse:function(e,t){try{return JSON.parse(e,t||r.revive)}catch(t){return e}},fn:function(e,t){for(var n in r.storeAPI[e]=t,r.apis)r.apis[n][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,n){e.setItem(t,n)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,n){var i=r.inherit(r.storeAPI,(function(e,t,n){return 0===arguments.length?i.getAll():"function"==typeof t?i.transact(e,t,n):void 0!==t?i.set(e,t,n):"string"==typeof e||"number"==typeof e?i.get(e):"function"==typeof e?i.each(e):e?i.setAll(e,t):i.clear()}));i._id=e;try{var o="__store2_test";t.setItem(o,"ok"),i._area=t,t.removeItem(o)}catch(e){i._area=r.storage("fake")}return i._ns=n||"",r.areas[e]||(r.areas[e]=i._area),r.apis[i._ns+i._id]||(r.apis[i._ns+i._id]=i),i},storeAPI:{area:function(e,t){var n=this[e];return n&&n.area||(n=r.Store(e,t,this._ns),this[e]||(this[e]=n)),n},namespace:function(e,t){if(!e)return this._ns?this._ns.substring(0,this._ns.length-1):"";var n=e,i=this[n];if(!(i&&i.namespace||(i=r.Store(this._id,this._area,this._ns+n+"."),this[n]||(this[n]=i),t)))for(var o in r.areas)i.area(o,r.areas[o]);return i},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var n=0,i=r.length(this._area);n<i;n++){var o=this._out(r.key(this._area,n));if(void 0!==o&&!1===e.call(this,o,this.get(o),t))break;i>r.length(this._area)&&(i--,n--)}return t||this},keys:function(e){return this.each((function(e,t,n){n.push(e)}),e||[])},get:function(e,t){var n=r.get(this._area,this._in(e)),i;return"function"==typeof t&&(i=t,t=null),null!==n?r.parse(n,i):null!=t?t:n},getAll:function(e){return this.each((function(e,t,n){n[e]=t}),e||{})},transact:function(e,t,n){var r=this.get(e,n),i=t(r);return this.set(e,void 0===i?r:i),this},set:function(e,t,n){var i=this.get(e);return null!=i&&!1===n?t:r.set(this._area,this._in(e),r.stringify(t),n)||i},setAll:function(e,t){var n,r;for(var i in e)r=e[i],this.set(i,r,t)!==r&&(n=!0);return n},add:function(e,t){var n=this.get(e);if(n instanceof Array)t=n.concat(t);else if(null!==n){var i=typeof n;if(i===typeof t&&"object"===i){for(var o in t)n[o]=t[o];t=n}else t=n+t}return r.set(this._area,this._in(e),r.stringify(t)),t},remove:function(e,t){var n=this.get(e,t);return r.remove(this._area,this._in(e)),n},clear:function(){return this._ns?this.each((function(e){r.remove(this._area,this._in(e))}),1):r.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in r.areas)r.areas.hasOwnProperty(t)&&(this._area=r.areas[t],this.clear());return this._area=e,this},_in:function(e){return"string"!=typeof e&&(e=r.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storage:function(e){return r.inherit(r.storageAPI,{items:{},name:e})},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var n in this.items)if(this.has(n)&&e===t++)return n},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e)}}},i=r.Store("local",function(){try{return localStorage}catch(e){}}());i.local=i,i._=r,i.area("session",function(){try{return sessionStorage}catch(e){}}()),i.area("page",r.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],(function(){return i})):e.exports?e.exports=i:(t.store&&(r.conflict=t.store),t.store=i)}(Et,Et&&Et.define)}));function Ot(e){let n,r,i,o,s,a,c,u,l,f,d,h,p,m,g,v;return{c(){n=T("h1"),r=N(e[0]),i=A(),o=T("ul"),s=A(),a=T("ul"),a.innerHTML='<li><h4>New: Manual playout</h4></li> \n  <li><h4>New: Focus is set on an added line</h4></li> \n  <li><h4>New: Ctrl+Enter adds a new line below the currently edited</h4></li> \n  <li><h4>New: Shift+Enter adds a new line above the currently edited</h4></li> \n  <li><h4>New: Reorder lines using a mouse, click on the message and drag</h4></li> \n  <li><p>This is a help page, can be displayed anytime.</p> \n    <img src="build/assets/png/help.png" alt="location of the help button" class="svelte-6qvclf"></li>',c=A(),u=T("br"),l=A(),f=T("h2"),f.textContent="Breaking News general information",d=A(),h=T("ul"),h.innerHTML="<li>Messages are saved on every keystroke.</li> \n  <li>Every line can be deleted, but the message group cannot.</li> \n  <li>Preview is generated automatically.</li>",p=A(),m=T("h2"),m.textContent='How to use "Breaking News"',g=A(),v=T("ul"),v.innerHTML='<li>Double click on the &quot;عاجل&quot; to add a new group of stories</li> \n  <li>Double click on the group name to edit messages</li> \n  <img src="build/assets/png/group.png" alt="location of the help button" class="svelte-6qvclf"> \n  <li>Choose the destination, it can be different for each line</li> \n  <img src="build/assets/png/destination.png" alt="destination" class="svelte-6qvclf"> \n  <li>\n    Press &#39;play&#39; to play and &#39;stop&#39; to terminate the playout at any time (this\n    works for on-air and website messages). The counter is displayed measuring\n    how long a message is on-air. <br>&#39;AutoPlay&#39; buttons allows to automatically\n    play all the lines of text - you can set a duration for each line.\n  </li> \n  <img src="build/assets/png/playstop.png" alt="playout" class="svelte-6qvclf">',D(n,"class","svelte-6qvclf"),D(f,"class","svelte-6qvclf"),D(m,"class","svelte-6qvclf")},m(e,t){S(e,n,t),E(n,r),S(e,i,t),S(e,o,t),S(e,s,t),S(e,a,t),S(e,c,t),S(e,u,t),S(e,l,t),S(e,f,t),S(e,d,t),S(e,h,t),S(e,p,t),S(e,m,t),S(e,g,t),S(e,v,t)},p(e,[t]){1&t&&q(r,e[0])},i:t,o:t,d(e){e&&_(n),e&&_(i),e&&_(o),e&&_(s),e&&_(a),e&&_(c),e&&_(u),e&&_(l),e&&_(f),e&&_(d),e&&_(h),e&&_(p),e&&_(m),e&&_(g),e&&_(v)}}}function Nt(e,t,n){let{message:r}=t;return e.$set=e=>{"message"in e&&n(0,r=e.message)},[r]}class At extends rt{constructor(e){super(),nt(this,e,Nt,Ot,c,{message:0})}}function It(e){let t,n,r,i,o,s;return{c(){t=T("div"),n=T("label"),n.textContent="duration per line (s)",r=A(),i=T("input"),D(n,"class","svelte-2hth8v"),D(i,"class","seconds svelte-2hth8v"),D(i,"type","number"),D(i,"min","4"),D(i,"max","360"),D(t,"class","inputs svelte-2hth8v")},m(a,c){S(a,t,c),E(t,n),E(t,r),E(t,i),F(i,e[0]),o||(s=M(i,"input",e[9]),o=!0)},p(e,t){1&t&&z(i.value)!==e[0]&&F(i,e[0])},d(e){e&&_(t),o=!1,s()}}}function Mt(e){let n,r,i,o,a,c,u,l,f,d,h,p,m=e[2]&&It(e);return{c(){n=T("button"),n.textContent="Close",r=A(),i=T("h2"),o=N(e[1]),a=A(),m&&m.c(),c=A(),u=T("div"),l=T("button"),l.textContent="Cancel",f=A(),d=T("button"),d.textContent="Yalla!",D(n,"class","close svelte-2hth8v"),D(i,"class","svelte-2hth8v"),D(l,"class","svelte-2hth8v"),D(d,"class","svelte-2hth8v"),D(u,"class","buttons svelte-2hth8v")},m(t,s){S(t,n,s),S(t,r,s),S(t,i,s),E(i,o),S(t,a,s),m&&m.m(t,s),S(t,c,s),S(t,u,s),E(u,l),E(u,f),E(u,d),h||(p=[M(n,"click",e[3]),M(l,"click",e[3]),M(d,"click",e[4])],h=!0)},p(e,[t]){2&t&&q(o,e[1]),e[2]?m?m.p(e,t):(m=It(e),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},i:t,o:t,d(e){e&&_(n),e&&_(r),e&&_(i),e&&_(a),m&&m.d(e),e&&_(c),e&&_(u),h=!1,s(p)}}}function jt(e,t,n){let{message:r}=t,{value:i}=t,{hasForm:o=!1}=t,{onCancel:s=(()=>{})}=t,{onOkay:a=(()=>{})}=t;const{close:c}=pe("simple-modal");let u=()=>{};function l(){s(),c()}function f(){a(i),c()}function d(){i=z(this.value),n(0,i)}return e.$set=e=>{"message"in e&&n(1,r=e.message),"value"in e&&n(0,i=e.value),"hasForm"in e&&n(2,o=e.hasForm),"onCancel"in e&&n(5,s=e.onCancel),"onOkay"in e&&n(6,a=e.onOkay)},e.$$.update=()=>{e.$$.dirty},[i,r,o,l,f,s,a,c,u,d]}class Lt extends rt{constructor(e){super(),nt(this,e,jt,Mt,c,{message:1,value:0,hasForm:2,onCancel:5,onOkay:6})}}function Dt(e){let n,r,i,o;return{c(){n=T("div"),r=T("a"),r.innerHTML='<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" id="svg67" version="1.1" viewBox="0 0 18.848 18.848" height="18.848" width="18.848"><defs id="defs55"><clipPath id="clip-path"><path fill="none" d="M9.424-19A9.471,9.471,0,0,0,0-9.576,9.471,9.471,0,0,0,9.424-.152a9.471,9.471,0,0,0,9.424-9.424A9.521,9.521,0,0,0,9.424-19Zm0,17.632A8.272,8.272,0,0,1,1.216-9.576a8.272,8.272,0,0,1,8.208-8.208,8.272,8.272,0,0,1,8.208,8.208A8.272,8.272,0,0,1,9.424-1.368Z" data-name="Path 63" id="Path_63"></path></clipPath><clipPath id="clip-path-2"><path fill="none" d="M-890,743H510V-157H-890Z" data-name="Path 62" id="Path_62"></path></clipPath><clipPath id="clip-path-3"><path fill="none" d="M10.26-5.168a.762.762,0,0,1-.76.76H9.272a.762.762,0,0,1-.76-.76v-6.308a.762.762,0,0,1,.76-.76H9.5a.762.762,0,0,1,.76.76Z" data-name="Path 66" id="Path_66"></path></clipPath><clipPath id="clip-path-5"><path fill="none" d="M9.424-13.072a.836.836,0,0,0,.836-.836.836.836,0,0,0-.836-.836.836.836,0,0,0-.836.836A.836.836,0,0,0,9.424-13.072Z" data-name="Path 69" id="Path_69"></path></clipPath></defs><g transform="translate(0,19)" id="Group_62" data-name="Group 62" clip-path="url(#clip-path)"><g id="Group_61" data-name="Group 61" clip-path="url(#clip-path-2)"><path id="Path_61" data-name="Path 61" d="M -5,-24 H 23.848 V 4.848 H -5 Z" style="fill:#010101"></path></g></g><g transform="translate(-20.565838,0.037563)"><path id="path3789" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Lato;-inkscape-font-specification:Lato;stroke-width:0.35308316" d="m 27.426454,5.2341775 q 0.218912,-0.2047882 0.480194,-0.3883915\n          0.268343,-0.1836032 0.579056,-0.3248365 0.317775,-0.1412332\n          0.67792,-0.2189115 0.367206,-0.08474 0.790906,-0.08474 0.557871,0\n          1.031003,0.1624183 0.480193,0.1624182 0.826214,0.4590081\n          0.346022,0.2965898 0.543748,0.7202896 0.197727,0.4236998\n          0.197727,0.9533245 0,0.5366864 -0.162418,0.9250779 -0.155357,0.3883915\n          -0.402515,0.6849813 -0.240097,0.2895282 -0.529625,0.5084398\n          -0.282466,0.2118499 -0.536686,0.4025148 -0.25422,0.1906649\n          -0.437823,0.3813298 -0.176542,0.1906649 -0.204789,0.4236998 l\n          -0.12711,1.0804341 H 29.290734 L 29.205994,9.7465802 Q\n          29.177747,9.4288054 29.326042,9.1957705 29.474337,8.955674\n          29.714433,8.7508857 29.95453,8.5390358 30.244058,8.3413093\n          30.533586,8.136521 30.780744,7.8893628 q 0.25422,-0.2471582\n          0.4237,-0.5578714 0.16948,-0.3177748 0.16948,-0.7555979 0,-0.3036515\n          -0.120048,-0.5508097 -0.120048,-0.2471582 -0.324837,-0.4166382\n          -0.204788,-0.1765415 -0.487254,-0.2683432 -0.275405,-0.091802\n          -0.59318,-0.091802 -0.430762,0 -0.741475,0.105925 -0.303651,0.1059249\n          -0.515501,0.2330348 -0.21185,0.12711 -0.346022,0.2330349\n          -0.12711,0.105925 -0.211849,0.105925 -0.176542,0 -0.275405,-0.1624183\n          z m 1.377025,8.4386875 q 0,-0.183603 0.06356,-0.346022\n          0.07062,-0.162418 0.183603,-0.282466 0.120048,-0.120048\n          0.282467,-0.190665 0.162418,-0.07062 0.346021,-0.07062 0.183603,0\n          0.346022,0.07062 0.162418,0.07062 0.282466,0.190665 0.120048,0.120048\n          0.190665,0.282466 0.07062,0.162419 0.07062,0.346022 0,0.190665\n          -0.07062,0.353083 -0.07062,0.155357 -0.190665,0.275405\n          -0.120048,0.120048 -0.282466,0.183603 -0.162419,0.07062\n          -0.346022,0.07062 -0.183603,0 -0.346021,-0.07062 -0.162419,-0.06356\n          -0.282467,-0.183603 -0.112987,-0.120048 -0.183603,-0.275405\n          -0.06356,-0.162418 -0.06356,-0.353083 z"></path></g></svg>',D(r,"href","javascript:;"),D(r,"rel","noopener noreferrer"),D(r,"class","leftalign")},m(t,s){S(t,n,s),E(n,r),i||(o=M(r,"click",e[0]),i=!0)},p:t,i:t,o:t,d(e){e&&_(n),i=!1,o()}}}function Pt(e,t,n){const r=de();let i=!1,{duration:o}=t;const s=()=>n(3,i=!i),{open:a}=pe("simple-modal"),c=()=>{a(At,{message:"Breaking News help page"},{transitionBgProps:{duration:50},transitionWindow:$t,transitionWindowProps:{y:100,duration:250}})},u=()=>{a(Lt,{message:"Auto playout",value:o,hasForm:!0,onCancel:l,onOkay:f},{transitionBgProps:{duration:100},transitionWindow:Ct,transitionWindowProps:{y:100,duration:100}},{closeButton:!1,closeOnEsc:!1,closeOnOuterClick:!1})},l=e=>{n(3,i=!1),status=-1},f=e=>{status=1,n(3,i=!1),r("okay",{duration:e,loop:1})};return e.$set=e=>{"duration"in e&&n(1,o=e.duration)},e.$$.update=()=>{8&e.$$.dirty&&i&&u()},[c,o,s]}class Rt extends rt{constructor(e){super(),nt(this,e,Pt,Dt,c,{duration:1,toggle:2})}get toggle(){return this.$$.ctx[2]}}function zt(e){let t,n,i,o,c,u,l,f,d,h,p=e[0].closeButton&&Ut(e);const m=[e[2]];var g=e[1];function v(e){let t={};for(let e=0;e<m.length;e+=1)t=r(t,m[e]);return{props:t}}if(g)var y=new g(v());return{c(){t=T("div"),n=T("div"),i=T("div"),p&&p.c(),o=A(),c=T("div"),y&&Qe(y.$$.fragment),D(c,"class","content svelte-fnsfcv"),D(c,"style",e[12]),D(i,"class","window svelte-fnsfcv"),D(i,"role","dialog"),D(i,"aria-modal","true"),D(i,"style",e[11]),D(n,"class","window-wrap svelte-fnsfcv"),D(t,"class","bg svelte-fnsfcv"),D(t,"style",e[10])},m(r,s){S(r,t,s),E(t,n),E(n,i),p&&p.m(i,null),E(i,o),E(i,c),y&&Ze(y,c,null),e[42](i),e[43](n),e[44](t),f=!0,d||(h=[M(i,"introstart",(function(){a(e[6])&&e[6].apply(this,arguments)})),M(i,"outrostart",(function(){a(e[7])&&e[7].apply(this,arguments)})),M(i,"introend",(function(){a(e[8])&&e[8].apply(this,arguments)})),M(i,"outroend",(function(){a(e[9])&&e[9].apply(this,arguments)})),M(t,"click",e[19])],d=!0)},p(n,r){e=n,e[0].closeButton?p?(p.p(e,r),1&r[0]&&Pe(p,1)):(p=Ut(e),p.c(),Pe(p,1),p.m(i,o)):p&&(Le(),Re(p,1,1,(()=>{p=null})),De());const s=4&r[0]?Ke(m,[Je(e[2])]):{};if(g!==(g=e[1])){if(y){Le();const e=y;Re(e.$$.fragment,1,0,(()=>{et(e,1)})),De()}g?(y=new g(v()),Qe(y.$$.fragment),Pe(y.$$.fragment,1),Ze(y,c,null)):y=null}else g&&y.$set(s);(!f||4096&r[0])&&D(c,"style",e[12]),(!f||2048&r[0])&&D(i,"style",e[11]),(!f||1024&r[0])&&D(t,"style",e[10])},i(n){f||(Pe(p),y&&Pe(y.$$.fragment,n),Ee((()=>{u||(u=Fe(i,e[15],e[0].transitionWindowProps,!0)),u.run(1)})),Ee((()=>{l||(l=Fe(t,e[14],e[0].transitionBgProps,!0)),l.run(1)})),f=!0)},o(n){Re(p),y&&Re(y.$$.fragment,n),u||(u=Fe(i,e[15],e[0].transitionWindowProps,!1)),u.run(0),l||(l=Fe(t,e[14],e[0].transitionBgProps,!1)),l.run(0),f=!1},d(n){n&&_(t),p&&p.d(),y&&et(y),e[42](null),n&&u&&u.end(),e[43](null),e[44](null),n&&l&&l.end(),d=!1,s(h)}}}function Ut(e){let t,n,r,i,o;const s=[Ft,qt],a=[];function c(e,n){return 1&n[0]&&(t=!!e[16](e[0].closeButton)),t?0:1}return n=c(e,[-1]),r=a[n]=s[n](e),{c(){r.c(),i=I()},m(e,t){a[n].m(e,t),S(e,i,t),o=!0},p(e,t){let o=n;n=c(e,t),n===o?a[n].p(e,t):(Le(),Re(a[o],1,1,(()=>{a[o]=null})),De(),r=a[n],r||(r=a[n]=s[n](e),r.c()),Pe(r,1),r.m(i.parentNode,i))},i(e){o||(Pe(r),o=!0)},o(e){Re(r),o=!1},d(e){a[n].d(e),e&&_(i)}}}function qt(e){let n,r,i;return{c(){n=T("button"),D(n,"class","close svelte-fnsfcv"),D(n,"style",e[13])},m(t,o){S(t,n,o),r||(i=M(n,"click",e[17]),r=!0)},p(e,t){8192&t[0]&&D(n,"style",e[13])},i:t,o:t,d(e){e&&_(n),r=!1,i()}}}function Ft(e){let t,n;var r=e[0].closeButton;function i(e){return{props:{onClose:e[17]}}}if(r)var o=new r(i(e));return{c(){o&&Qe(o.$$.fragment),t=I()},m(e,r){o&&Ze(o,e,r),S(e,t,r),n=!0},p(e,n){if(r!==(r=e[0].closeButton)){if(o){Le();const e=o;Re(e.$$.fragment,1,0,(()=>{et(e,1)})),De()}r?(o=new r(i(e)),Qe(o.$$.fragment),Pe(o.$$.fragment,1),Ze(o,t.parentNode,t)):o=null}},i(e){n||(o&&Pe(o.$$.fragment,e),n=!0)},o(e){o&&Re(o.$$.fragment,e),n=!1},d(e){e&&_(t),o&&et(o,e)}}}function Bt(e){let t,n,r,i,o=e[1]&&zt(e);const s=e[41].default,a=f(s,e,e[40],null);return{c(){o&&o.c(),t=A(),a&&a.c()},m(s,c){o&&o.m(s,c),S(s,t,c),a&&a.m(s,c),n=!0,r||(i=M(window,"keydown",e[18]),r=!0)},p(e,n){e[1]?o?(o.p(e,n),2&n[0]&&Pe(o,1)):(o=zt(e),o.c(),Pe(o,1),o.m(t.parentNode,t)):o&&(Le(),Re(o,1,1,(()=>{o=null})),De()),a&&a.p&&512&n[1]&&p(a,s,e,e[40],n,null,null)},i(e){n||(Pe(o),Pe(a,e),n=!0)},o(e){Re(o),Re(a,e),n=!1},d(e){o&&o.d(e),e&&_(t),a&&a.d(e),r=!1,i()}}}function Ht(e,t,n){const r=he,i=it;let{key:o="simple-modal"}=t,{closeButton:s=!0}=t,{closeOnEsc:a=!0}=t,{closeOnOuterClick:c=!0}=t,{styleBg:u={top:0,left:0}}=t,{styleWindow:l={}}=t,{styleContent:f={}}=t,{styleCloseButton:d={}}=t,{setContext:h=r}=t,{transitionBg:p=Ct}=t,{transitionBgProps:m={duration:250}}=t,{transitionWindow:g=p}=t,{transitionWindowProps:v=m}=t;const y={closeButton:s,closeOnEsc:a,closeOnOuterClick:c,styleBg:u,styleWindow:l,styleContent:f,styleCloseButton:d,transitionBg:p,transitionBgProps:m,transitionWindow:g,transitionWindowProps:v};let w={...y},b=null,x=null,C,$,E;const S=e=>e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),_=e=>Object.keys(e).reduce(((t,n)=>`${t}; ${S(n)}: ${e[n]}`),""),k=e=>i&&i.isPrototypeOf&&i.isPrototypeOf(e),T=()=>{};let O=T,N=T,A=T,I=T;const M=(e,t={},r={},i={})=>{n(1,b=e),n(2,x=t),n(0,w={...y,...r}),n(6,O=i.onOpen||T),n(7,N=i.onClose||T),n(8,A=i.onOpened||T),n(9,I=i.onClosed||T)},j=(e={})=>{n(7,N=e.onClose||N),n(9,I=e.onClosed||I),n(1,b=null),n(2,x=null)},L=e=>{if(w.closeOnEsc&&b&&"Escape"===e.key&&(e.preventDefault(),j()),b&&"Tab"===e.key){const t=E.querySelectorAll("*"),n=Array.from(t).filter((e=>e.tabIndex>=0));let r=n.indexOf(document.activeElement);-1===r&&e.shiftKey&&(r=0),r+=n.length+(e.shiftKey?-1:1),r%=n.length,n[r].focus(),e.preventDefault()}},D=e=>{!w.closeOnOuterClick||e.target!==C&&e.target!==$||(e.preventDefault(),j())};h(o,{open:M,close:j});let{$$slots:P={},$$scope:R}=t,z,U,q,F,B,H;function W(e){ve[e?"unshift":"push"]((()=>{n(5,E=e)}))}function Y(e){ve[e?"unshift":"push"]((()=>{n(4,$=e)}))}function G(e){ve[e?"unshift":"push"]((()=>{n(3,C=e)}))}return e.$set=e=>{"key"in e&&n(20,o=e.key),"closeButton"in e&&n(21,s=e.closeButton),"closeOnEsc"in e&&n(22,a=e.closeOnEsc),"closeOnOuterClick"in e&&n(23,c=e.closeOnOuterClick),"styleBg"in e&&n(24,u=e.styleBg),"styleWindow"in e&&n(25,l=e.styleWindow),"styleContent"in e&&n(26,f=e.styleContent),"styleCloseButton"in e&&n(27,d=e.styleCloseButton),"setContext"in e&&n(28,h=e.setContext),"transitionBg"in e&&n(29,p=e.transitionBg),"transitionBgProps"in e&&n(30,m=e.transitionBgProps),"transitionWindow"in e&&n(31,g=e.transitionWindow),"transitionWindowProps"in e&&n(32,v=e.transitionWindowProps),"$$scope"in e&&n(40,R=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(10,z=_(w.styleBg)),1&e.$$.dirty[0]&&n(11,U=_(w.styleWindow)),1&e.$$.dirty[0]&&n(12,q=_(w.styleContent)),1&e.$$.dirty[0]&&n(13,F=_(w.styleCloseButton)),1&e.$$.dirty[0]&&n(14,B=w.transitionBg),1&e.$$.dirty[0]&&n(15,H=w.transitionWindow)},[w,b,x,C,$,E,O,N,A,I,z,U,q,F,B,H,k,j,L,D,o,s,a,c,u,l,f,d,h,p,m,g,v,r,i,y,S,_,T,M,R,P,W,Y,G]}class Wt extends rt{constructor(e){super(),nt(this,e,Ht,Bt,c,{key:20,closeButton:21,closeOnEsc:22,closeOnOuterClick:23,styleBg:24,styleWindow:25,styleContent:26,styleCloseButton:27,setContext:28,transitionBg:29,transitionBgProps:30,transitionWindow:31,transitionWindowProps:32},[-1,-1])}}function Yt(e){let n,r,i,o,s,a;return{c(){n=T("button"),r=N(e[0]),i=A(),o=N(e[1]),B(n,"--color",e[3]),B(n,"--bgColor",e[2]),D(n,"class","fab svelte-j70qfj")},m(t,c){S(t,n,c),E(n,r),E(n,i),E(n,o),s||(a=M(n,"click",e[4]),s=!0)},p(e,[t]){1&t&&q(r,e[0]),2&t&&q(o,e[1]),8&t&&B(n,"--color",e[3]),4&t&&B(n,"--bgColor",e[2])},i:t,o:t,d(e){e&&_(n),s=!1,a()}}}function Gt(e,t,n){let{label:r}=t,{text:i}=t,{bgColor:o="white"}=t,{color:s="var(--basharqred)"}=t;function a(t){me(e,t)}return e.$set=e=>{"label"in e&&n(0,r=e.label),"text"in e&&n(1,i=e.text),"bgColor"in e&&n(2,o=e.bgColor),"color"in e&&n(3,s=e.color)},[r,i,o,s,a]}class Vt extends rt{constructor(e){super(),nt(this,e,Gt,Yt,c,{label:0,text:1,bgColor:2,color:3})}}const Kt=[];function Jt(e,n=t){let r;const i=[];function o(t){if(c(e,t)&&(e=t,r)){const t=!Kt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Kt.push(n,e)}if(t){for(let e=0;e<Kt.length;e+=2)Kt[e][0](Kt[e+1]);Kt.length=0}}}function s(t){o(t(e))}function a(s,a=t){const c=[s,a];return i.push(c),1===i.length&&(r=n(o)||t),s(e),()=>{const e=i.indexOf(c);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}return{set:o,update:s,subscribe:a}}const Xt=Jt(""),Qt=Jt("");let Zt=Jt(1.25);function en(e,t,n){const r=e.slice();return r[3]=t[n],r[4]=t,r[5]=n,r}function tn(e,t){let n,r,i,o,a=t[3].label+"",c,u,l,f,d,h;function p(){t[2].call(r,t[3])}return{key:e,first:null,c(){n=T("label"),r=T("input"),o=A(),c=N(a),u=A(),l=T("span"),f=A(),D(r,"type","checkbox"),r.__value=i=t[3].value,r.value=r.__value,D(r,"class","svelte-34l1ef"),D(l,"class","checkmark svelte-34l1ef"),D(n,"class","container svelte-34l1ef"),this.first=n},m(e,i){S(e,n,i),E(n,r),r.checked=t[3].checked,E(n,o),E(n,c),E(n,u),E(n,l),E(n,f),d||(h=[M(r,"change",p),M(r,"click",t[1])],d=!0)},p(e,n){t=e,1&n&&i!==(i=t[3].value)&&(r.__value=i),r.value=r.__value,1&n&&(r.checked=t[3].checked),1&n&&a!==(a=t[3].label+"")&&q(c,a)},d(e){e&&_(n),d=!1,s(h)}}}function nn(e){let n,r=[],i=new Map,o=e[0];const s=e=>e[3].id;for(let t=0;t<o.length;t+=1){let n=en(e,o,t),a=s(n);i.set(a,r[t]=tn(a,n))}return{c(){n=T("div");for(let e=0;e<r.length;e+=1)r[e].c();D(n,"class","wrapper svelte-34l1ef")},m(e,t){S(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null)},p(e,[t]){if(1&t){const o=e[0];r=Ve(r,t,s,1,e,o,i,n,He,tn,null,en)}},i:t,o:t,d(e){e&&_(n);for(let e=0;e<r.length;e+=1)r[e].d()}}}function rn(e,t,n){let{tags:r}=t;function i(t){me(e,t)}function o(e){e.checked=this.checked,n(0,r)}return e.$set=e=>{"tags"in e&&n(0,r=e.tags)},[r,i,o]}class on extends rt{constructor(e){super(),nt(this,e,rn,nn,c,{tags:0})}}const sn={};function an(e){let n,r=e[0](e[1],e[2])+"",i;return{c(){n=T("div"),D(n,"class",i="item "+e[3]+" svelte-bdnybl")},m(e,t){S(e,n,t),n.innerHTML=r},p(e,[t]){7&t&&r!==(r=e[0](e[1],e[2])+"")&&(n.innerHTML=r),8&t&&i!==(i="item "+e[3]+" svelte-bdnybl")&&D(n,"class",i)},i:t,o:t,d(e){e&&_(n)}}}function cn(e,t,n){let{isActive:r=!1}=t,{isFirst:i=!1}=t,{isHover:o=!1}=t,{getOptionLabel:s}=t,{item:a}=t,{filterText:c=""}=t,u="";return e.$set=e=>{"isActive"in e&&n(4,r=e.isActive),"isFirst"in e&&n(5,i=e.isFirst),"isHover"in e&&n(6,o=e.isHover),"getOptionLabel"in e&&n(0,s=e.getOptionLabel),"item"in e&&n(1,a=e.item),"filterText"in e&&n(2,c=e.filterText)},e.$$.update=()=>{if(114&e.$$.dirty){const e=[];r&&e.push("active"),i&&e.push("first"),o&&e.push("hover"),a.isGroupHeader&&e.push("groupHeader"),a.isGroupItem&&e.push("groupItem"),n(3,u=e.join(" "))}},[s,a,c,u,r,i,o]}class un extends rt{constructor(e){super(),nt(this,e,cn,an,c,{isActive:4,isFirst:5,isHover:6,getOptionLabel:0,item:1,filterText:2})}}const ln=e=>({item:32&e,i:32&e,hoverItemIndex:2&e}),fn=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function dn(e,t,n){const r=e.slice();return r[23]=t[n],r}function hn(e){let t;return{c(){t=N("Missing template")},m(e,n){S(e,t,n)},d(e){e&&_(t)}}}function pn(e,t){let n,r,i;const o=t[19].default,s=f(o,t,t[18],fn),a=s||hn();return{key:e,first:null,c(){n=T("svelte-virtual-list-row"),a&&a.c(),r=A(),R(n,"class","svelte-p6ehlv"),this.first=n},m(e,t){S(e,n,t),a&&a.m(n,null),E(n,r),i=!0},p(e,t){s&&s.p&&262178&t&&p(s,o,e,e[18],t,ln,fn)},i(e){i||(Pe(a,e),i=!0)},o(e){Re(a,e),i=!1},d(e){e&&_(n),a&&a.d(e)}}}function mn(e){let t,n,r=[],i=new Map,o,s,a,c,u=e[5];const l=e=>e[23].index;for(let t=0;t<u.length;t+=1){let n=dn(e,u,t),o=l(n);i.set(o,r[t]=pn(o,n))}return{c(){t=T("svelte-virtual-list-viewport"),n=T("svelte-virtual-list-contents");for(let e=0;e<r.length;e+=1)r[e].c();B(n,"padding-top",e[6]+"px"),B(n,"padding-bottom",e[7]+"px"),R(n,"class","svelte-p6ehlv"),B(t,"height",e[0]),R(t,"class","svelte-p6ehlv"),Ee((()=>e[22].call(t)))},m(i,u){S(i,t,u),E(t,n);for(let e=0;e<r.length;e+=1)r[e].m(n,null);e[20](n),e[21](t),o=Y(t,e[22].bind(t)),s=!0,a||(c=M(t,"scroll",e[8]),a=!0)},p(e,[o]){if(262178&o){const t=e[5];Le(),r=Ve(r,o,l,1,e,t,i,n,We,pn,null,dn),De()}(!s||64&o)&&B(n,"padding-top",e[6]+"px"),(!s||128&o)&&B(n,"padding-bottom",e[7]+"px"),(!s||1&o)&&B(t,"height",e[0])},i(e){if(!s){for(let e=0;e<u.length;e+=1)Pe(r[e]);s=!0}},o(e){for(let e=0;e<r.length;e+=1)Re(r[e]);s=!1},d(n){n&&_(t);for(let e=0;e<r.length;e+=1)r[e].d();e[20](null),e[21](null),o(),a=!1,c()}}}function gn(e,t,n){let{items:r}=t,{height:i="100%"}=t,{itemHeight:o=40}=t,{hoverItemIndex:s=0}=t,{start:a=0}=t,{end:c=0}=t,u=[],l,f,d,h=0,p,m,g=0,v=0,y;async function w(e,t,r){const{scrollTop:i}=f;await $e();let o=g-i,s=a;for(;o<t&&s<e.length;){let e=l[s-a];e||(n(10,c=s+1),await $e(),e=l[s-a]);const t=u[s]=r||e.offsetHeight;o+=t,s+=1}n(10,c=s);const d=e.length-c;y=(g+o)/c,n(7,v=d*y),u.length=e.length,n(2,f.scrollTop=0,f)}async function b(){const{scrollTop:e}=f,t=a;for(let e=0;e<l.length;e+=1)u[a+e]=o||l[e].offsetHeight;let i=0,s=0;for(;i<r.length;){const t=u[i]||y;if(s+t>e){n(9,a=i),n(6,g=s);break}s+=t,i+=1}for(;i<r.length&&(s+=u[i]||y,i+=1,!(s>e+h)););n(10,c=i);const d=r.length-c;for(y=s/c;i<r.length;)u[i++]=y;if(n(7,v=d*y),a<t){await $e();let n=0,r=0;for(let e=a;e<t;e+=1)l[e-a]&&(n+=u[e],r+=o||l[e-a].offsetHeight);const i=r-n;f.scrollTo(0,e+i)}}ue((()=>{l=d.getElementsByTagName("svelte-virtual-list-row"),n(15,m=!0)}));let{$$slots:x={},$$scope:C}=t;function $(e){ve[e?"unshift":"push"]((()=>{n(3,d=e)}))}function E(e){ve[e?"unshift":"push"]((()=>{n(2,f=e)}))}function S(){h=this.offsetHeight,n(4,h)}return e.$set=e=>{"items"in e&&n(11,r=e.items),"height"in e&&n(0,i=e.height),"itemHeight"in e&&n(12,o=e.itemHeight),"hoverItemIndex"in e&&n(1,s=e.hoverItemIndex),"start"in e&&n(9,a=e.start),"end"in e&&n(10,c=e.end),"$$scope"in e&&n(18,C=e.$$scope)},e.$$.update=()=>{3584&e.$$.dirty&&n(5,p=r.slice(a,c).map(((e,t)=>({index:t+a,data:e})))),38928&e.$$.dirty&&m&&w(r,h,o)},[i,s,f,d,h,p,g,v,b,a,c,r,o,u,l,m,y,w,C,x,$,E,S]}class vn extends rt{constructor(e){super(),nt(this,e,gn,mn,c,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function yn(e,t,n){const r=e.slice();return r[34]=t[n],r[36]=n,r}function wn(e){let t,n;const r=new vn({props:{items:e[4],itemHeight:e[7],$$slots:{default:[bn,({item:e,i:t})=>({34:e,36:t}),({item:e,i:t})=>[0,(e?8:0)|(t?32:0)]]},$$scope:{ctx:e}}});return{c(){t=T("div"),Qe(r.$$.fragment),D(t,"class","listContainer virtualList svelte-ux0sbr")},m(i,o){S(i,t,o),Ze(r,t,null),e[30](t),n=!0},p(e,t){const n={};16&t[0]&&(n.items=e[4]),128&t[0]&&(n.itemHeight=e[7]),4918&t[0]|104&t[1]&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){n||(Pe(r.$$.fragment,e),n=!0)},o(e){Re(r.$$.fragment,e),n=!1},d(n){n&&_(t),et(r),e[30](null)}}}function bn(e){let t,n,r,i;var o=e[2];function a(e){return{props:{item:e[34],filterText:e[12],getOptionLabel:e[5],isFirst:On(e[36]),isActive:Tn(e[34],e[8],e[9]),isHover:Nn(e[1],e[34],e[36],e[4])}}}if(o)var c=new o(a(e));function u(...t){return e[28](e[36],...t)}function l(...t){return e[29](e[34],e[36],...t)}return{c(){t=T("div"),c&&Qe(c.$$.fragment),D(t,"class","listItem")},m(e,o){S(e,t,o),c&&Ze(c,t,null),n=!0,r||(i=[M(t,"mouseover",u),M(t,"click",l)],r=!0)},p(n,r){e=n;const i={};if(8&r[1]&&(i.item=e[34]),4096&r[0]&&(i.filterText=e[12]),32&r[0]&&(i.getOptionLabel=e[5]),32&r[1]&&(i.isFirst=On(e[36])),768&r[0]|8&r[1]&&(i.isActive=Tn(e[34],e[8],e[9])),18&r[0]|40&r[1]&&(i.isHover=Nn(e[1],e[34],e[36],e[4])),o!==(o=e[2])){if(c){Le();const e=c;Re(e.$$.fragment,1,0,(()=>{et(e,1)})),De()}o?(c=new o(a(e)),Qe(c.$$.fragment),Pe(c.$$.fragment,1),Ze(c,t,null)):c=null}else o&&c.$set(i)},i(e){n||(c&&Pe(c.$$.fragment,e),n=!0)},o(e){c&&Re(c.$$.fragment,e),n=!1},d(e){e&&_(t),c&&et(c),r=!1,s(i)}}}function xn(e){let t,n,r=e[4],i=[];for(let t=0;t<r.length;t+=1)i[t]=_n(yn(e,r,t));const o=e=>Re(i[e],1,1,(()=>{i[e]=null}));let s=null;return r.length||(s=Cn(e)),{c(){t=T("div");for(let e=0;e<i.length;e+=1)i[e].c();s&&s.c(),D(t,"class","listContainer svelte-ux0sbr")},m(r,o){S(r,t,o);for(let e=0;e<i.length;e+=1)i[e].m(t,null);s&&s.m(t,null),e[33](t),n=!0},p(e,n){if(32630&n[0]){let a;for(r=e[4],a=0;a<r.length;a+=1){const o=yn(e,r,a);i[a]?(i[a].p(o,n),Pe(i[a],1)):(i[a]=_n(o),i[a].c(),Pe(i[a],1),i[a].m(t,null))}for(Le(),a=r.length;a<i.length;a+=1)o(a);De(),!r.length&&s?s.p(e,n):r.length?s&&(s.d(1),s=null):(s=Cn(e),s.c(),s.m(t,null))}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Pe(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Re(i[e]);n=!1},d(n){n&&_(t),k(i,n),s&&s.d(),e[33](null)}}}function Cn(e){let t,n=!e[10]&&$n(e);return{c(){n&&n.c(),t=I()},m(e,r){n&&n.m(e,r),S(e,t,r)},p(e,r){e[10]?n&&(n.d(1),n=null):n?n.p(e,r):(n=$n(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&_(t)}}}function $n(e){let t,n;return{c(){t=T("div"),n=N(e[11]),D(t,"class","empty svelte-ux0sbr")},m(e,r){S(e,t,r),E(t,n)},p(e,t){2048&t[0]&&q(n,e[11])},d(e){e&&_(t)}}}function En(e){let t,n,r,i,o;var a=e[2];function c(e){return{props:{item:e[34],filterText:e[12],getOptionLabel:e[5],isFirst:On(e[36]),isActive:Tn(e[34],e[8],e[9]),isHover:Nn(e[1],e[34],e[36],e[4])}}}if(a)var u=new a(c(e));function l(...t){return e[31](e[36],...t)}function f(...t){return e[32](e[34],e[36],...t)}return{c(){t=T("div"),u&&Qe(u.$$.fragment),n=A(),D(t,"class","listItem")},m(e,s){S(e,t,s),u&&Ze(u,t,null),E(t,n),r=!0,i||(o=[M(t,"mouseover",l),M(t,"click",f)],i=!0)},p(r,i){e=r;const o={};if(16&i[0]&&(o.item=e[34]),4096&i[0]&&(o.filterText=e[12]),32&i[0]&&(o.getOptionLabel=e[5]),784&i[0]&&(o.isActive=Tn(e[34],e[8],e[9])),18&i[0]&&(o.isHover=Nn(e[1],e[34],e[36],e[4])),a!==(a=e[2])){if(u){Le();const e=u;Re(e.$$.fragment,1,0,(()=>{et(e,1)})),De()}a?(u=new a(c(e)),Qe(u.$$.fragment),Pe(u.$$.fragment,1),Ze(u,t,n)):u=null}else a&&u.$set(o)},i(e){r||(u&&Pe(u.$$.fragment,e),r=!0)},o(e){u&&Re(u.$$.fragment,e),r=!1},d(e){e&&_(t),u&&et(u),i=!1,s(o)}}}function Sn(e){let n,r=e[6](e[34])+"",i;return{c(){n=T("div"),i=N(r),D(n,"class","listGroupTitle svelte-ux0sbr")},m(e,t){S(e,n,t),E(n,i)},p(e,t){80&t[0]&&r!==(r=e[6](e[34])+"")&&q(i,r)},i:t,o:t,d(e){e&&_(n)}}}function _n(e){let t,n,r,i;const o=[Sn,En],s=[];function a(e,t){return e[34].isGroupHeader&&!e[34].isSelectable?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=I()},m(e,n){s[t].m(e,n),S(e,r,n),i=!0},p(e,i){let c=t;t=a(e),t===c?s[t].p(e,i):(Le(),Re(s[c],1,1,(()=>{s[c]=null})),De(),n=s[t],n||(n=s[t]=o[t](e),n.c()),Pe(n,1),n.m(r.parentNode,r))},i(e){i||(Pe(n),i=!0)},o(e){Re(n),i=!1},d(e){s[t].d(e),e&&_(r)}}}function kn(e){let t,n,r,i,o,s=e[3]&&wn(e),a=!e[3]&&xn(e);return{c(){s&&s.c(),t=A(),a&&a.c(),n=I()},m(c,u){s&&s.m(c,u),S(c,t,u),a&&a.m(c,u),S(c,n,u),r=!0,i||(o=M(window,"keydown",e[15]),i=!0)},p(e,r){e[3]?s?(s.p(e,r),8&r[0]&&Pe(s,1)):(s=wn(e),s.c(),Pe(s,1),s.m(t.parentNode,t)):s&&(Le(),Re(s,1,1,(()=>{s=null})),De()),e[3]?a&&(Le(),Re(a,1,1,(()=>{a=null})),De()):a?(a.p(e,r),8&r[0]&&Pe(a,1)):(a=xn(e),a.c(),Pe(a,1),a.m(n.parentNode,n))},i(e){r||(Pe(s),Pe(a),r=!0)},o(e){Re(s),Re(a),r=!1},d(e){s&&s.d(e),e&&_(t),a&&a.d(e),e&&_(n),i=!1,o()}}}function Tn(e,t,n){return t&&t[n]===e[n]}function On(e){return 0===e}function Nn(e,t,n,r){return e===n||1===r.length}function An(e,t,n){const r=de();let{container:i}=t,{Item:o=un}=t,{isVirtualList:s=!1}=t,{items:a=[]}=t,{getOptionLabel:c=((e,t)=>{if(e)return e.isCreator?`Create "${t}"`:e.label})}=t,{getGroupHeaderLabel:u=(e=>e.label)}=t,{itemHeight:l=40}=t,{hoverItemIndex:f=0}=t,{selectedValue:d}=t,{optionIdentifier:h="value"}=t,{hideEmptyState:p=!1}=t,{noOptionsMessage:m="No options"}=t,{isMulti:g=!1}=t,{activeItemIndex:v=0}=t,{filterText:y=""}=t,w=0,b=!1,x,C,$;function E(e){e.isCreator||r("itemSelected",e)}function S(e){b||n(1,f=e)}function _(e){const{item:t,i,event:o}=e;if(o.stopPropagation(),d&&!g&&d[h]===t[h])return k();t.isCreator?r("itemCreated",y):(n(16,v=i),n(1,f=i),E(t))}function k(){r("closeList")}async function T(e){if(s)return;let t=!0;for(;t;)e>0&&f===a.length-1?n(1,f=0):n(1,e<0&&0===f?f=a.length-1:f+=e),t=a[f].isGroupHeader&&!a[f].isSelectable;await $e(),N("hover")}function O(e){switch(e.key){case"ArrowDown":e.preventDefault(),a.length&&T(1);break;case"ArrowUp":e.preventDefault(),a.length&&T(-1);break;case"Enter":if(e.preventDefault(),0===a.length)break;const t=a[f];if(d&&!g&&d[h]===t[h]){k();break}t.isCreator?r("itemCreated",y):(n(16,v=f),E(a[f]));break;case"Tab":if(e.preventDefault(),0===a.length)break;if(d&&d[h]===a[f][h])return k();n(16,v=f),E(a[f])}}function N(e){if(s||!i)return;let t;const r=i.querySelector(".listItem ."+e);r&&(t=i.getBoundingClientRect().bottom-r.getBoundingClientRect().bottom),n(0,i.scrollTop-=t,i)}ue((()=>{if(a.length>0&&!g&&d){const e=a.findIndex((e=>e[h]===d[h]));e&&n(1,f=e)}N("active"),i.addEventListener("scroll",(()=>{clearTimeout(w),w=setTimeout((()=>{b=!1}),100)}),!1)})),fe((()=>{})),ce((()=>{a!==x&&a.length>0&&n(1,f=0),x=a,C=v,$=d}));const A=e=>S(e),I=(e,t,n)=>_({item:e,i:t,event:n});function M(e){ve[e?"unshift":"push"]((()=>{n(0,i=e)}))}const j=e=>S(e),L=(e,t,n)=>_({item:e,i:t,event:n});function D(e){ve[e?"unshift":"push"]((()=>{n(0,i=e)}))}return e.$set=e=>{"container"in e&&n(0,i=e.container),"Item"in e&&n(2,o=e.Item),"isVirtualList"in e&&n(3,s=e.isVirtualList),"items"in e&&n(4,a=e.items),"getOptionLabel"in e&&n(5,c=e.getOptionLabel),"getGroupHeaderLabel"in e&&n(6,u=e.getGroupHeaderLabel),"itemHeight"in e&&n(7,l=e.itemHeight),"hoverItemIndex"in e&&n(1,f=e.hoverItemIndex),"selectedValue"in e&&n(8,d=e.selectedValue),"optionIdentifier"in e&&n(9,h=e.optionIdentifier),"hideEmptyState"in e&&n(10,p=e.hideEmptyState),"noOptionsMessage"in e&&n(11,m=e.noOptionsMessage),"isMulti"in e&&n(17,g=e.isMulti),"activeItemIndex"in e&&n(16,v=e.activeItemIndex),"filterText"in e&&n(12,y=e.filterText)},[i,f,o,s,a,c,u,l,d,h,p,m,y,S,_,O,v,g,w,b,x,C,$,r,E,k,T,N,A,I,M,j,L,D]}class In extends rt{constructor(e){super(),nt(this,e,An,kn,c,{container:0,Item:2,isVirtualList:3,items:4,getOptionLabel:5,getGroupHeaderLabel:6,itemHeight:7,hoverItemIndex:1,selectedValue:8,optionIdentifier:9,hideEmptyState:10,noOptionsMessage:11,isMulti:17,activeItemIndex:16,filterText:12},[-1,-1])}}function Mn(e){let n,r=e[0](e[1])+"";return{c(){n=T("div"),D(n,"class","selection svelte-ch6bh7")},m(e,t){S(e,n,t),n.innerHTML=r},p(e,[t]){3&t&&r!==(r=e[0](e[1])+"")&&(n.innerHTML=r)},i:t,o:t,d(e){e&&_(n)}}}function jn(e,t,n){let{getSelectionLabel:r}=t,{item:i}=t;return e.$set=e=>{"getSelectionLabel"in e&&n(0,r=e.getSelectionLabel),"item"in e&&n(1,i=e.item)},[r,i]}class Ln extends rt{constructor(e){super(),nt(this,e,jn,Mn,c,{getSelectionLabel:0,item:1})}}function Dn(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Pn(e){let t,n,r;function i(...t){return e[7](e[11],...t)}return{c(){t=T("div"),t.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" role="presentation" class="svelte-14r1jr2"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',D(t,"class","multiSelectItem_clear svelte-14r1jr2")},m(e,o){S(e,t,o),n||(r=M(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&_(t),n=!1,r()}}}function Rn(e){let t,n,r=e[4](e[9])+"",i,o,s,a,c,u=!e[2]&&!e[3]&&Pn(e);function l(...t){return e[8](e[11],...t)}return{c(){t=T("div"),n=T("div"),i=A(),u&&u.c(),o=A(),D(n,"class","multiSelectItem_label svelte-14r1jr2"),D(t,"class",s="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-14r1jr2")},m(e,s){S(e,t,s),E(t,n),n.innerHTML=r,E(t,i),u&&u.m(t,null),E(t,o),a||(c=M(t,"click",l),a=!0)},p(i,a){e=i,17&a&&r!==(r=e[4](e[9])+"")&&(n.innerHTML=r),e[2]||e[3]?u&&(u.d(1),u=null):u?u.p(e,a):(u=Pn(e),u.c(),u.m(t,o)),6&a&&s!==(s="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-14r1jr2")&&D(t,"class",s)},d(e){e&&_(t),u&&u.d(),a=!1,c()}}}function zn(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Rn(Dn(e,r,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=I()},m(e,t){for(let n=0;n<i.length;n+=1)i[n].m(e,t);S(e,n,t)},p(e,[t]){if(63&t){let o;for(r=e[0],o=0;o<r.length;o+=1){const s=Dn(e,r,o);i[o]?i[o].p(s,t):(i[o]=Rn(s),i[o].c(),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(e){k(i,e),e&&_(n)}}}function Un(e,t,n){const r=de();let{selectedValue:i=[]}=t,{activeSelectedValue:o}=t,{isDisabled:s=!1}=t,{multiFullItemClearable:a=!1}=t,{getSelectionLabel:c}=t;function u(e,t){t.stopPropagation(),r("multiItemClear",{i:e})}const l=(e,t)=>u(e,t),f=(e,t)=>a?u(e,t):{};return e.$set=e=>{"selectedValue"in e&&n(0,i=e.selectedValue),"activeSelectedValue"in e&&n(1,o=e.activeSelectedValue),"isDisabled"in e&&n(2,s=e.isDisabled),"multiFullItemClearable"in e&&n(3,a=e.multiFullItemClearable),"getSelectionLabel"in e&&n(4,c=e.getSelectionLabel)},[i,o,s,a,c,u,r,l,f]}class qn extends rt{constructor(e){super(),nt(this,e,Un,zn,c,{selectedValue:0,activeSelectedValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function Fn(e){const t=e.getBoundingClientRect(),n={};return n.top=t.top<0,n.left=t.left<0,n.bottom=t.bottom>(window.innerHeight||document.documentElement.clientHeight),n.right=t.right>(window.innerWidth||document.documentElement.clientWidth),n.any=n.top||n.left||n.bottom||n.right,n}function Bn(e,t,n){let r;return function i(){let o=this,s=arguments,a=function(){r=null,n||e.apply(o,s)},c=n&&!r;clearTimeout(r),r=setTimeout(a,t),c&&e.apply(o,s)}}function Hn(e){let n,r;return{c(){n=O("svg"),r=O("path"),D(r,"fill","currentColor"),D(r,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),D(n,"width","100%"),D(n,"height","100%"),D(n,"viewBox","-2 -2 50 50"),D(n,"focusable","false"),D(n,"role","presentation")},m(e,t){S(e,n,t),E(n,r)},p:t,i:t,o:t,d(e){e&&_(n)}}}class Wn extends rt{constructor(e){super(),nt(this,e,null,Hn,c,{})}}function Yn(e){let t,n;const i=[e[18]];var o=e[17];function s(e){let t={};for(let e=0;e<i.length;e+=1)t=r(t,i[e]);return{props:t}}if(o)var a=new o(s());return{c(){a&&Qe(a.$$.fragment),t=I()},m(e,r){a&&Ze(a,e,r),S(e,t,r),n=!0},p(e,n){const r=262144&n[0]?Ke(i,[Je(e[18])]):{};if(o!==(o=e[17])){if(a){Le();const e=a;Re(e.$$.fragment,1,0,(()=>{et(e,1)})),De()}o?(a=new o(s()),Qe(a.$$.fragment),Pe(a.$$.fragment,1),Ze(a,t.parentNode,t)):a=null}else o&&a.$set(r)},i(e){n||(a&&Pe(a.$$.fragment,e),n=!0)},o(e){a&&Re(a.$$.fragment,e),n=!1},d(e){e&&_(t),a&&et(a,e)}}}function Gn(e){let t,n;var r=e[7];function i(e){return{props:{selectedValue:e[3],getSelectionLabel:e[13],activeSelectedValue:e[25],isDisabled:e[10],multiFullItemClearable:e[9]}}}if(r){var o=new r(i(e));o.$on("multiItemClear",e[29]),o.$on("focus",e[32])}return{c(){o&&Qe(o.$$.fragment),t=I()},m(e,r){o&&Ze(o,e,r),S(e,t,r),n=!0},p(e,n){const s={};if(8&n[0]&&(s.selectedValue=e[3]),8192&n[0]&&(s.getSelectionLabel=e[13]),33554432&n[0]&&(s.activeSelectedValue=e[25]),1024&n[0]&&(s.isDisabled=e[10]),512&n[0]&&(s.multiFullItemClearable=e[9]),r!==(r=e[7])){if(o){Le();const e=o;Re(e.$$.fragment,1,0,(()=>{et(e,1)})),De()}r?(o=new r(i(e)),o.$on("multiItemClear",e[29]),o.$on("focus",e[32]),Qe(o.$$.fragment),Pe(o.$$.fragment,1),Ze(o,t.parentNode,t)):o=null}else r&&o.$set(s)},i(e){n||(o&&Pe(o.$$.fragment,e),n=!0)},o(e){o&&Re(o.$$.fragment,e),n=!1},d(e){e&&_(t),o&&et(o,e)}}}function Vn(e){let t,n,i,o=[e[26],{placeholder:e[28]},{style:e[15]}],a={};for(let e=0;e<o.length;e+=1)a=r(a,o[e]);return{c(){t=T("input"),P(t,a),G(t,"svelte-17qb5ew",!0)},m(r,o){S(r,t,o),e[81](t),F(t,e[4]),n||(i=[M(t,"focus",e[32]),M(t,"input",e[82])],n=!0)},p(e,n){P(t,a=Ke(o,[67108864&n[0]&&e[26],268435456&n[0]&&{placeholder:e[28]},32768&n[0]&&{style:e[15]}])),16&n[0]&&t.value!==e[4]&&F(t,e[4]),G(t,"svelte-17qb5ew",!0)},d(r){r&&_(t),e[81](null),n=!1,s(i)}}}function Kn(e){let t,n,i,o=[e[26],{placeholder:e[28]},{style:e[15]},{disabled:!0}],a={};for(let e=0;e<o.length;e+=1)a=r(a,o[e]);return{c(){t=T("input"),P(t,a),G(t,"svelte-17qb5ew",!0)},m(r,o){S(r,t,o),e[79](t),F(t,e[4]),n||(i=[M(t,"focus",e[32]),M(t,"input",e[80])],n=!0)},p(e,n){P(t,a=Ke(o,[67108864&n[0]&&e[26],268435456&n[0]&&{placeholder:e[28]},32768&n[0]&&{style:e[15]},{disabled:!0}])),16&n[0]&&t.value!==e[4]&&F(t,e[4]),G(t,"svelte-17qb5ew",!0)},d(r){r&&_(t),e[79](null),n=!1,s(i)}}}function Jn(e){let t,n,r,i;var o=e[6];function s(e){return{props:{item:e[3],getSelectionLabel:e[13]}}}if(o)var a=new o(s(e));return{c(){t=T("div"),a&&Qe(a.$$.fragment),D(t,"class","selectedItem svelte-17qb5ew")},m(o,s){S(o,t,s),a&&Ze(a,t,null),n=!0,r||(i=M(t,"focus",e[32]),r=!0)},p(e,n){const r={};if(8&n[0]&&(r.item=e[3]),8192&n[0]&&(r.getSelectionLabel=e[13]),o!==(o=e[6])){if(a){Le();const e=a;Re(e.$$.fragment,1,0,(()=>{et(e,1)})),De()}o?(a=new o(s(e)),Qe(a.$$.fragment),Pe(a.$$.fragment,1),Ze(a,t,null)):a=null}else o&&a.$set(r)},i(e){n||(a&&Pe(a.$$.fragment,e),n=!0)},o(e){a&&Re(a.$$.fragment,e),n=!1},d(e){e&&_(t),a&&et(a),r=!1,i()}}}function Xn(e){let t,n,r,i;var o=e[23];function s(e){return{}}if(o)var a=new o({});return{c(){t=T("div"),a&&Qe(a.$$.fragment),D(t,"class","clearSelect svelte-17qb5ew")},m(o,s){S(o,t,s),a&&Ze(a,t,null),n=!0,r||(i=M(t,"click",j(e[24])),r=!0)},p(e,n){if(o!==(o=e[23])){if(a){Le();const e=a;Re(e.$$.fragment,1,0,(()=>{et(e,1)})),De()}o?(a=new o({}),Qe(a.$$.fragment),Pe(a.$$.fragment,1),Ze(a,t,null)):a=null}},i(e){n||(a&&Pe(a.$$.fragment,e),n=!0)},o(e){a&&Re(a.$$.fragment,e),n=!1},d(e){e&&_(t),a&&et(a),r=!1,i()}}}function Qn(e){let t;function n(e,t){return e[22]?er:Zn}let r=n(e),i=r(e);return{c(){t=T("div"),i.c(),D(t,"class","indicator svelte-17qb5ew")},m(e,n){S(e,t,n),i.m(t,null)},p(e,o){r===(r=n(e))&&i?i.p(e,o):(i.d(1),i=r(e),i&&(i.c(),i.m(t,null)))},d(e){e&&_(t),i.d()}}}function Zn(e){let n,r;return{c(){n=O("svg"),r=O("path"),D(r,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n            3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n            1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n            0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n            0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),D(n,"width","100%"),D(n,"height","100%"),D(n,"viewBox","0 0 20 20"),D(n,"focusable","false"),D(n,"class","svelte-17qb5ew")},m(e,t){S(e,n,t),E(n,r)},p:t,d(e){e&&_(n)}}}function er(e){let t;return{c(){t=new K(null)},m(n,r){t.m(e[22],n,r)},p(e,n){4194304&n[0]&&t.p(e[22])},d(e){e&&t.d()}}}function tr(e){let t;return{c(){t=T("div"),t.innerHTML='<svg class="spinner_icon svelte-17qb5ew" viewBox="25 25 50 50"><circle class="spinner_path svelte-17qb5ew" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',D(t,"class","spinner svelte-17qb5ew")},m(e,n){S(e,t,n)},d(e){e&&_(t)}}}function nr(e){let t,n,r,i,o,a,c,u,l,f,d,h=e[17]&&Yn(e),p=e[8]&&e[3]&&e[3].length>0&&Gn(e);function m(e,t){return e[10]?Kn:Vn}let g=m(e),v=g(e),y=!e[8]&&e[27]&&Jn(e),w=e[27]&&e[16]&&!e[10]&&!e[5]&&Xn(e),b=(e[20]||e[19]&&!e[3]||!e[14]&&!e[10]&&!e[5]&&(e[27]&&!e[16]||!e[27]))&&Qn(e),x=e[5]&&tr();return{c(){t=T("div"),h&&h.c(),n=A(),p&&p.c(),r=A(),v.c(),i=A(),y&&y.c(),o=A(),w&&w.c(),a=A(),b&&b.c(),c=A(),x&&x.c(),D(t,"class",u="selectContainer "+e[21]+" svelte-17qb5ew"),D(t,"style",e[12]),G(t,"hasError",e[11]),G(t,"multiSelect",e[8]),G(t,"disabled",e[10]),G(t,"focused",e[2])},m(s,u){S(s,t,u),h&&h.m(t,null),E(t,n),p&&p.m(t,null),E(t,r),v.m(t,null),E(t,i),y&&y.m(t,null),E(t,o),w&&w.m(t,null),E(t,a),b&&b.m(t,null),E(t,c),x&&x.m(t,null),e[83](t),l=!0,f||(d=[M(window,"click",e[33]),M(window,"keydown",e[31]),M(window,"resize",e[30]),M(t,"click",e[34])],f=!0)},p(e,s){e[17]?h?(h.p(e,s),131072&s[0]&&Pe(h,1)):(h=Yn(e),h.c(),Pe(h,1),h.m(t,n)):h&&(Le(),Re(h,1,1,(()=>{h=null})),De()),e[8]&&e[3]&&e[3].length>0?p?(p.p(e,s),264&s[0]&&Pe(p,1)):(p=Gn(e),p.c(),Pe(p,1),p.m(t,r)):p&&(Le(),Re(p,1,1,(()=>{p=null})),De()),g===(g=m(e))&&v?v.p(e,s):(v.d(1),v=g(e),v&&(v.c(),v.m(t,i))),!e[8]&&e[27]?y?(y.p(e,s),134217984&s[0]&&Pe(y,1)):(y=Jn(e),y.c(),Pe(y,1),y.m(t,o)):y&&(Le(),Re(y,1,1,(()=>{y=null})),De()),e[27]&&e[16]&&!e[10]&&!e[5]?w?(w.p(e,s),134284320&s[0]&&Pe(w,1)):(w=Xn(e),w.c(),Pe(w,1),w.m(t,a)):w&&(Le(),Re(w,1,1,(()=>{w=null})),De()),e[20]||e[19]&&!e[3]||!e[14]&&!e[10]&&!e[5]&&(e[27]&&!e[16]||!e[27])?b?b.p(e,s):(b=Qn(e),b.c(),b.m(t,c)):b&&(b.d(1),b=null),e[5]?x||(x=tr(),x.c(),x.m(t,null)):x&&(x.d(1),x=null),(!l||2097152&s[0]&&u!==(u="selectContainer "+e[21]+" svelte-17qb5ew"))&&D(t,"class",u),(!l||4096&s[0])&&D(t,"style",e[12]),2099200&s[0]&&G(t,"hasError",e[11]),2097408&s[0]&&G(t,"multiSelect",e[8]),2098176&s[0]&&G(t,"disabled",e[10]),2097156&s[0]&&G(t,"focused",e[2])},i(e){l||(Pe(h),Pe(p),Pe(y),Pe(w),l=!0)},o(e){Re(h),Re(p),Re(y),Re(w),l=!1},d(n){n&&_(t),h&&h.d(),p&&p.d(),v.d(),y&&y.d(),w&&w.d(),b&&b.d(),x&&x.d(),e[83](null),f=!1,s(d)}}}function rr(e,t,n){const r=de();let{container:i}=t,{input:o}=t,{Item:s=un}=t,{Selection:a=Ln}=t,{MultiSelection:c=qn}=t,{isMulti:u=!1}=t,{multiFullItemClearable:l=!1}=t,{isDisabled:f=!1}=t,{isCreatable:d=!1}=t,{isFocused:h=!1}=t,{selectedValue:p}=t,{filterText:m=""}=t,{placeholder:g="Select..."}=t,{items:v=[]}=t,{itemFilter:y=((e,t,n)=>e.toLowerCase().includes(t.toLowerCase()))}=t,{groupBy:w}=t,{groupFilter:b=(e=>e)}=t,{isGroupHeaderSelectable:x=!1}=t,{getGroupHeaderLabel:C=(e=>e.label)}=t,{getOptionLabel:$=((e,t)=>e.isCreator?`Create "${t}"`:e.label)}=t,{optionIdentifier:E="value"}=t,{loadOptions:S}=t,{hasError:_=!1}=t,{containerStyles:k=""}=t,{getSelectionLabel:T=(e=>{if(e)return e.label})}=t,{createGroupHeaderItem:O=(e=>({value:e,label:e}))}=t,{createItem:N=(e=>({value:e,label:e}))}=t,{isSearchable:A=!0}=t,{inputStyles:I=""}=t,{isClearable:M=!0}=t,{isWaiting:j=!1}=t,{listPlacement:L="auto"}=t,{listOpen:D=!1}=t,{list:P}=t,{isVirtualList:R=!1}=t,{loadOptionsInterval:z=300}=t,{noOptionsMessage:U="No options"}=t,{hideEmptyState:q=!1}=t,{filteredItems:F=[]}=t,{inputAttributes:B={}}=t,{listAutoWidth:H=!0}=t,{itemHeight:W=40}=t,{Icon:Y}=t,{iconProps:G={}}=t,{showChevron:V=!1}=t,{showIndicator:K=!1}=t,{containerClasses:J=""}=t,{indicatorSvg:X}=t,{ClearIcon:Q=Wn}=t,Z,ee,te=[],ne,re,ie,oe,se,ae;async function le(){await $e(),n(4,m="")}let he=!1;const pe=Bn((async()=>{he=!0,n(5,j=!0);let e=await S(m).catch((e=>{console.warn("svelte-select loadOptions error :>> ",e),r("error",{type:"loadOptions",details:e})}));e&&!e.cancelled&&(e?(n(35,v=[...e]),r("loaded",{items:v})):n(35,v=[]),n(5,j=!1),n(2,h=!0),n(36,D=!0))}),z);let me={},ge,ye,we;function be(){let e=!0;if(p){const t=[],r=[];p.forEach((n=>{t.includes(n[E])?e=!1:(t.push(n[E]),r.push(n))})),e||n(3,p=r)}return e}function xe(e){let t=e?e[E]:p[E];return v.find((e=>e[E]===t))}function Ce(e){e&&0!==e.length&&!e.some((e=>"object"!=typeof e))&&p&&(u?!p.some((e=>!e||!e[E])):p[E])&&(Array.isArray(p)?n(3,p=p.map((e=>xe(e)||e))):n(3,p=xe()||p))}async function Ee(e){if(await $e(),D)return P?P.$set({items:e}):void(S&&he&&e.length>0&&Me())}function Se(e){const{detail:t}=e,i=p[t?t.i:p.length-1];1===p.length?n(3,p=void 0):n(3,p=p.filter((e=>e!==i))),r("clear",i),_e()}async function _e(){if(await $e(),!Z||!i)return;const{top:e,height:t,width:n}=i.getBoundingClientRect();Z.style["min-width"]=n+"px",Z.style.width=""+(H?"auto":"100%"),Z.style.left="0","top"===L?Z.style.bottom=t+5+"px":Z.style.top=t+5+"px",Z=Z,"auto"===L&&Fn(Z).bottom&&(Z.style.top="",Z.style.bottom=t+5+"px"),Z.style.visibility=""}function ke(e){if(h)switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault(),n(36,D=!0),n(25,ee=void 0);break;case"Tab":D||n(2,h=!1);break;case"Backspace":if(!u||m.length>0)return;if(u&&p&&p.length>0){if(Se(void 0!==ee?ee:p.length-1),0===ee||void 0===ee)break;n(25,ee=p.length>ee?ee-1:void 0)}break;case"ArrowLeft":if(P&&P.$set({hoverItemIndex:-1}),!u||m.length>0)return;void 0===ee?n(25,ee=p.length-1):p.length>ee&&0!==ee&&n(25,ee-=1);break;case"ArrowRight":if(P&&P.$set({hoverItemIndex:-1}),!u||m.length>0||void 0===ee)return;ee===p.length-1?n(25,ee=void 0):ee<p.length-1&&n(25,ee+=1)}}function Te(){n(2,h=!0),o&&o.focus()}function Oe(){le(),n(25,ee=void 0),P&&(P.$destroy(),n(37,P=void 0),Z&&(Z.parentNode&&Z.parentNode.removeChild(Z),Z=void 0,n(37,P),Z=Z))}function Ne(e){if(!i)return;const t=e.path&&e.path.length>0?e.path[0]:e.target;i.contains(t)||(n(2,h=!1),n(36,D=!1),n(25,ee=void 0),o&&o.blur())}function Ae(){f||(n(2,h=!0),n(36,D=!D))}function Ie(){n(3,p=void 0),n(36,D=!1),r("clear",p),Te()}async function Me(){if(await $e(),Z&&P)return;const e={Item:s,filterText:m,optionIdentifier:E,noOptionsMessage:U,hideEmptyState:q,isVirtualList:R,selectedValue:p,isMulti:u,getGroupHeaderLabel:C,items:F,itemHeight:W};$&&(e.getOptionLabel=$),Z=document.createElement("div"),Object.assign(Z.style,{position:"absolute","z-index":2,visibility:"hidden"}),n(37,P),Z=Z,i&&i.appendChild(Z),n(37,P=new In({target:Z,props:e})),P.$on("itemSelected",(e=>{const{detail:t}=e;if(t){const e=Object.assign({},t);e.isGroupHeader&&!e.isSelectable||(n(3,p=u?p?p.concat([e]):[e]:e),le(),n(3,p),n(48,E),n(8,u),setTimeout((()=>{n(36,D=!1),n(25,ee=void 0)})))}})),P.$on("itemCreated",(e=>{const{detail:t}=e;u?(n(3,p=p||[]),n(3,p=[...p,N(t)])):n(3,p=N(t)),r("itemCreated",t),n(4,m=""),n(36,D=!1),n(25,ee=void 0),le()})),P.$on("closeList",(()=>{n(36,D=!1)})),n(37,P),Z=Z,_e()}function je(e){ve[e?"unshift":"push"]((()=>{n(1,o=e)}))}function Le(){m=this.value,n(4,m)}function De(e){ve[e?"unshift":"push"]((()=>{n(1,o=e)}))}function Pe(){m=this.value,n(4,m)}function Re(e){ve[e?"unshift":"push"]((()=>{n(0,i=e)}))}return ce((()=>{if(u&&p&&p.length>1&&be(),!u&&p&&re!==p&&(re&&JSON.stringify(p[E])===JSON.stringify(re[E])||r("select",p)),u&&JSON.stringify(p)!==JSON.stringify(re)&&be()&&r("select",p),i&&D!==ie&&(D?Me():Oe()),m!==oe&&(m.length>0?(n(2,h=!0),n(36,D=!0),S?pe():(Me(),n(36,D=!0),u&&n(25,ee=void 0))):Ee([]),P&&P.$set({filterText:m})),h!==se&&(h||D?Te():(le(),o&&o.blur())),ae!==F){let e=[...F];if(d&&m){const t=N(m);t.isCreator=!0;const n=e.find((e=>e[E]===t[E]));let r;p&&(u?r=p.find((e=>e[E]===t[E])):p[E]===t[E]&&(r=p)),n||r||(e=[...e,t])}Ee(e)}re=p,ie=D,oe=m,se=h,ae=F})),ue((()=>{h&&o.focus(),D&&Me(),v&&v.length>0&&n(61,ne=JSON.stringify(v))})),fe((()=>{Oe()})),e.$set=e=>{"container"in e&&n(0,i=e.container),"input"in e&&n(1,o=e.input),"Item"in e&&n(39,s=e.Item),"Selection"in e&&n(6,a=e.Selection),"MultiSelection"in e&&n(7,c=e.MultiSelection),"isMulti"in e&&n(8,u=e.isMulti),"multiFullItemClearable"in e&&n(9,l=e.multiFullItemClearable),"isDisabled"in e&&n(10,f=e.isDisabled),"isCreatable"in e&&n(40,d=e.isCreatable),"isFocused"in e&&n(2,h=e.isFocused),"selectedValue"in e&&n(3,p=e.selectedValue),"filterText"in e&&n(4,m=e.filterText),"placeholder"in e&&n(41,g=e.placeholder),"items"in e&&n(35,v=e.items),"itemFilter"in e&&n(42,y=e.itemFilter),"groupBy"in e&&n(43,w=e.groupBy),"groupFilter"in e&&n(44,b=e.groupFilter),"isGroupHeaderSelectable"in e&&n(45,x=e.isGroupHeaderSelectable),"getGroupHeaderLabel"in e&&n(46,C=e.getGroupHeaderLabel),"getOptionLabel"in e&&n(47,$=e.getOptionLabel),"optionIdentifier"in e&&n(48,E=e.optionIdentifier),"loadOptions"in e&&n(49,S=e.loadOptions),"hasError"in e&&n(11,_=e.hasError),"containerStyles"in e&&n(12,k=e.containerStyles),"getSelectionLabel"in e&&n(13,T=e.getSelectionLabel),"createGroupHeaderItem"in e&&n(50,O=e.createGroupHeaderItem),"createItem"in e&&n(51,N=e.createItem),"isSearchable"in e&&n(14,A=e.isSearchable),"inputStyles"in e&&n(15,I=e.inputStyles),"isClearable"in e&&n(16,M=e.isClearable),"isWaiting"in e&&n(5,j=e.isWaiting),"listPlacement"in e&&n(52,L=e.listPlacement),"listOpen"in e&&n(36,D=e.listOpen),"list"in e&&n(37,P=e.list),"isVirtualList"in e&&n(53,R=e.isVirtualList),"loadOptionsInterval"in e&&n(54,z=e.loadOptionsInterval),"noOptionsMessage"in e&&n(55,U=e.noOptionsMessage),"hideEmptyState"in e&&n(56,q=e.hideEmptyState),"filteredItems"in e&&n(38,F=e.filteredItems),"inputAttributes"in e&&n(57,B=e.inputAttributes),"listAutoWidth"in e&&n(58,H=e.listAutoWidth),"itemHeight"in e&&n(59,W=e.itemHeight),"Icon"in e&&n(17,Y=e.Icon),"iconProps"in e&&n(18,G=e.iconProps),"showChevron"in e&&n(19,V=e.showChevron),"showIndicator"in e&&n(20,K=e.showIndicator),"containerClasses"in e&&n(21,J=e.containerClasses),"indicatorSvg"in e&&n(22,X=e.indicatorSvg),"ClearIcon"in e&&n(23,Q=e.ClearIcon)},e.$$.update=()=>{if(1024&e.$$.dirty[0]&&(ge=f),16&e.$$.dirty[1]&&Ce(v),264&e.$$.dirty[0]|131072&e.$$.dirty[1]&&("string"==typeof p?n(3,p={[E]:p,label:p}):u&&Array.isArray(p)&&p.length>0&&n(3,p=p.map((e=>"string"==typeof e?{value:e,label:e}:e)))),16777280&e.$$.dirty[1]&&U&&P&&P.$set({noOptionsMessage:U}),24&e.$$.dirty[0]&&n(27,ye=p&&0===m.length),8&e.$$.dirty[0]|1024&e.$$.dirty[1]&&n(28,we=p?"":g),16384&e.$$.dirty[0]|67108864&e.$$.dirty[1]&&(n(26,me=Object.assign({autocomplete:"off",autocorrect:"off",spellcheck:!1},B)),A||n(26,me.readonly=!0,me)),280&e.$$.dirty[0]|1074755600&e.$$.dirty[1]){let e,t=v;if(v&&v.length>0&&"object"!=typeof v[0]&&(t=v.map(((e,t)=>({index:t,value:e,label:e})))),S&&0===m.length&&ne?(e=JSON.parse(ne),t=JSON.parse(ne)):e=S?0===m.length?[]:t:t.filter((e=>{let t=!0;return u&&p&&(t=!p.some((t=>t[E]===e[E]))),!!t&&(m.length<1||y($(e,m),m,e))})),w){const t=[],r={};e.forEach((e=>{const n=w(e);t.includes(n)||(t.push(n),r[n]=[],n&&r[n].push(Object.assign(O(n,e),{id:n,isGroupHeader:!0,isSelectable:x}))),r[n].push(Object.assign({isGroupItem:!!n},e))}));const i=[];b(t).forEach((e=>{i.push(...r[e])})),n(38,F=i)}else n(38,F=e)}},[i,o,h,p,m,j,a,c,u,l,f,_,k,T,A,I,M,Y,G,V,K,J,X,Q,Ie,ee,me,ye,we,Se,_e,ke,Te,Ne,Ae,v,D,P,F,s,d,g,y,w,b,x,C,$,E,S,O,N,L,R,z,U,q,B,H,W,Z,ne,re,ie,oe,se,ae,he,ge,r,te,le,pe,be,xe,Ce,Ee,Oe,Me,je,Le,De,Pe,Re]}class ir extends rt{constructor(e){super(),nt(this,e,rr,nr,c,{container:0,input:1,Item:39,Selection:6,MultiSelection:7,isMulti:8,multiFullItemClearable:9,isDisabled:10,isCreatable:40,isFocused:2,selectedValue:3,filterText:4,placeholder:41,items:35,itemFilter:42,groupBy:43,groupFilter:44,isGroupHeaderSelectable:45,getGroupHeaderLabel:46,getOptionLabel:47,optionIdentifier:48,loadOptions:49,hasError:11,containerStyles:12,getSelectionLabel:13,createGroupHeaderItem:50,createItem:51,isSearchable:14,inputStyles:15,isClearable:16,isWaiting:5,listPlacement:52,listOpen:36,list:37,isVirtualList:53,loadOptionsInterval:54,noOptionsMessage:55,hideEmptyState:56,filteredItems:38,inputAttributes:57,listAutoWidth:58,itemHeight:59,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,ClearIcon:23,handleClear:24},[-1,-1,-1])}get handleClear(){return this.$$.ctx[24]}}function or(e){let n,r,i,o,s,a,c,u,l,f;return{c(){n=T("div"),r=T("div"),i=T("div"),o=T("div"),s=A(),a=T("span"),a.textContent=":",c=A(),u=T("div"),l=T("div"),D(o,"class","time-card-count svelte-1ravl2m"),G(o,"runningmins",e[0]),G(o,"paused",e[1]),D(i,"class","time-card svelte-1ravl2m"),D(i,"data-type","minutes"),D(i,"data-max","60"),D(a,"class","colon svelte-1ravl2m"),D(l,"class","time-card-count svelte-1ravl2m"),G(l,"runningsecs",e[0]),G(l,"paused",e[1]),D(u,"class","time-card svelte-1ravl2m"),D(u,"data-type","seconds"),D(u,"data-max","60"),D(r,"class",f="timer "+e[1]+" svelte-1ravl2m"),D(n,"class","app svelte-1ravl2m"),D(n,"id","app")},m(e,t){S(e,n,t),E(n,r),E(r,i),E(i,o),E(r,s),E(r,a),E(r,c),E(r,u),E(u,l)},p(e,[t]){1&t&&G(o,"runningmins",e[0]),2&t&&G(o,"paused",e[1]),1&t&&G(l,"runningsecs",e[0]),2&t&&G(l,"paused",e[1]),2&t&&f!==(f="timer "+e[1]+" svelte-1ravl2m")&&D(r,"class",f)},i:t,o:t,d(e){e&&_(n)}}}function sr(e,t,n){let r,i=!1;function o(){n(0,r=!1),n(1,i=!1)}function s(){n(1,i=!1),n(0,r=!0)}function a(){n(1,i=!0)}function c(){o()}return[r,i,s,a,c]}class ar extends rt{constructor(e){super(),nt(this,e,sr,or,c,{TimerStart:2,TimerStop:3,TimerRestart:4})}get TimerStart(){return this.$$.ctx[2]}get TimerStop(){return this.$$.ctx[3]}get TimerRestart(){return this.$$.ctx[4]}}function cr(e){let t,n,i,o,a,c,u,l,f,d,h,p,g,y,w,b,x,C,$,k,O,I,j,P,R,z,U,F,H,W,Y;function V(t){e[36].call(null,t)}let K={items:e[17],inputStyles:"box-sizing: border-box; font-weight: 400;",isClearable:"false",placeholder:"...Select a template",noOptionsMessage:"no templates defined",isDisabled:e[9]};void 0!==e[0]&&(K.selectedValue=e[0]);const J=new ir({props:K});ve.push((()=>Xe(J,"selectedValue",V))),J.$on("select",e[21]);let X={};const Q=new ar({props:X});e[37](Q);const Z=[{tags:e[2]},sn];let ee={};for(let e=0;e<Z.length;e+=1)ee=r(ee,Z[e]);const te=new on({props:ee});return te.$on("click",e[38]),{c(){t=T("div"),n=T("button"),i=A(),o=T("div"),Qe(J.$$.fragment),c=A(),u=T("div"),l=N("❯"),d=A(),h=T("div"),p=T("label"),g=T("span"),y=N("char limit: "),w=T("span"),b=N(e[4]),x=N(" /\r\n      "),C=T("span"),$=N(e[13]),k=A(),O=T("input"),P=A(),R=T("section"),Qe(Q.$$.fragment),z=A(),U=T("div"),Qe(te.$$.fragment),D(n,"class","reorder svelte-1ut78yz"),D(o,"class","itemselect svelte-1ut78yz"),D(u,"class",f="star "+(e[10]?"":"active")+" svelte-1ut78yz"),D(w,"class","svelte-1ut78yz"),G(w,"blink",e[16]),D(p,"class","svelte-1ut78yz"),D(O,"type","text"),D(O,"tabindex",e[3]),O.value=e[1],D(O,"class",I=m("")+" svelte-1ut78yz"),B(O,"--inputfontsize",e[11]),G(O,"onair",e[5]),G(O,"cued",e[6]),G(O,"textlengthlimit",e[14]),G(O,"textlengthlimitbusiness",e[15]),D(h,"class","input-wrapper svelte-1ut78yz"),D(R,"class","smalltimer svelte-1ut78yz"),G(R,"timer",!e[5]),D(U,"class","shiftdown svelte-1ut78yz"),D(t,"class",F=(!0===e[7]?"selected":"")+" "+(!0===e[8]?"grouped":"")+" container svelte-1ut78yz")},m(r,s){S(r,t,s),E(t,n),E(t,i),E(t,o),Ze(J,o,null),E(t,c),E(t,u),E(u,l),E(t,d),E(t,h),E(h,p),E(p,g),E(g,y),E(g,w),E(w,b),E(p,x),E(p,C),E(C,$),E(h,k),E(h,O),E(t,P),E(t,R),Ze(Q,R,null),E(t,z),E(t,U),Ze(te,U,null),H=!0,W||(Y=[M(o,"mousedown",L(e[35])),M(p,"click",L(e[34])),M(O,"focusin",e[18]),M(O,"keyup",e[30]),M(O,"keydown",e[31]),M(O,"blur",e[19]),M(O,"mousedown",L(e[32])),M(O,"click",L(e[33])),v(j=hr.call(null,O)),M(h,"mousedown",L(e[29])),M(R,"click",L(e[28])),M(U,"mousedown",L(e[26])),M(U,"click",L(e[27])),M(t,"click",e[20])],W=!0)},p(e,n){const r={};131072&n[0]&&(r.items=e[17]),512&n[0]&&(r.isDisabled=e[9]),!a&&1&n[0]&&(a=!0,r.selectedValue=e[0],Se((()=>a=!1))),J.$set(r),(!H||1024&n[0]&&f!==(f="star "+(e[10]?"":"active")+" svelte-1ut78yz"))&&D(u,"class",f),(!H||16&n[0])&&q(b,e[4]),65536&n[0]&&G(w,"blink",e[16]),(!H||8192&n[0])&&q($,e[13]),(!H||8&n[0])&&D(O,"tabindex",e[3]),(!H||2&n[0]&&O.value!==e[1])&&(O.value=e[1]),(!H||2048&n[0])&&B(O,"--inputfontsize",e[11]),32&n[0]&&G(O,"onair",e[5]),64&n[0]&&G(O,"cued",e[6]),16384&n[0]&&G(O,"textlengthlimit",e[14]),32768&n[0]&&G(O,"textlengthlimitbusiness",e[15]);const i={};Q.$set(i),32&n[0]&&G(R,"timer",!e[5]);const o=4&n[0]?Ke(Z,[4&n[0]&&{tags:e[2]},0&n&&Je(sn)]):{};te.$set(o),(!H||384&n[0]&&F!==(F=(!0===e[7]?"selected":"")+" "+(!0===e[8]?"grouped":"")+" container svelte-1ut78yz"))&&D(t,"class",F)},i(e){H||(Pe(J.$$.fragment,e),Pe(Q.$$.fragment,e),Pe(te.$$.fragment,e),H=!0)},o(e){Re(J.$$.fragment,e),Re(Q.$$.fragment,e),Re(te.$$.fragment,e),H=!1},d(n){n&&_(t),et(J),e[37](null),et(Q),et(te),W=!1,s(Y)}}}const ur=0;function lr(e,t){t&&(e?(t.TimerRestart(),setTimeout((()=>{t.TimerStart()}),25)):t.TimerStop())}function fr(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)+"px"}function dr(e,t){if("string"==typeof e){const t=2===e.split("/").length?e.split("/")[1]:e.split("/")[0],n=""===t?t:t.split(".").join(" ").replace(/\b\w/g,(e=>e.toUpperCase()));return n}}function hr(e){}function pr(e,t,n){let r,i;l(e,Zt,(e=>n(24,r=e))),l(e,Qt,(e=>n(17,i=e)));const o=de();let{textField:s}=t,{tags:a}=t,{id:c}=t,{tabindex:u}=t,{author:f}=t,{charlimit:d}=t,{onair:h}=t,{cued:p}=t,{template:m}=t,{selected:g=!1}=t,{grouped:v=!1}=t,{protected:y=!1}=t,w,b,x,C,$,E,S;function _(){n(10,w=!0),o("msgfocus",{MessageId:c})}function k(){n(10,w=!1),o("msgblur",{MessageId:c})}function T(e){o("clicked",{MessageId:c,meta:{shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey}})}function O(){o("templateselected",{template:m,MessageId:c})}function N(t){me(e,t)}function A(t){me(e,t)}function I(t){me(e,t)}function M(t){me(e,t)}function j(t){me(e,t)}function L(t){me(e,t)}function D(t){me(e,t)}function P(t){me(e,t)}function R(t){me(e,t)}function z(t){me(e,t)}function U(e){m=e,n(0,m)}function q(e){ve[e?"unshift":"push"]((()=>{n(12,x=e)}))}function F(t){me(e,t)}return ue((()=>{})),e.$set=e=>{"textField"in e&&n(1,s=e.textField),"tags"in e&&n(2,a=e.tags),"id"in e&&n(22,c=e.id),"tabindex"in e&&n(3,u=e.tabindex),"author"in e&&n(23,f=e.author),"charlimit"in e&&n(4,d=e.charlimit),"onair"in e&&n(5,h=e.onair),"cued"in e&&n(6,p=e.cued),"template"in e&&n(0,m=e.template),"selected"in e&&n(7,g=e.selected),"grouped"in e&&n(8,v=e.grouped),"protected"in e&&n(9,y=e.protected)},e.$$.update=()=>{8388610&e.$$.dirty[0]&&n(13,C=void 0!==f&&f.length>0?`${s.length} chars / ${dr(f)}`:s.length+" chars"),19&e.$$.dirty[0]&&n(14,$=s.length>d&&"news"===m.channel),19&e.$$.dirty[0]&&n(15,E=s.length>d&&"business"===m.channel),18&e.$$.dirty[0]&&n(16,S=s.length>d-0),16777216&e.$$.dirty[0]&&n(11,b=fr(r)),4128&e.$$.dirty[0]&&lr(h,x)},[m,s,a,u,d,h,p,g,v,y,w,b,x,C,$,E,S,i,_,k,T,O,c,f,r,o,N,A,I,M,j,L,D,P,R,z,U,q,F]}class mr extends rt{constructor(e){super(),nt(this,e,pr,cr,c,{textField:1,tags:2,id:22,tabindex:3,author:23,charlimit:4,onair:5,cued:6,template:0,selected:7,grouped:8,protected:9},[-1,-1])}}function gr(e){const t=t=>{e&&"function"==typeof e.select&&e.select()};return e.addEventListener("focus",t),{destroy(){e.removeEventListener("focus",t)}}}function vr(e,t=!0){let n=Date.parse(e);if(isNaN(n))return e;{let e=new Date(n);return t?e.toLocaleString(wr(),{timeZoneName:"short"}):e.toUTCString()}}function yr(e){let t=new Date(1970,0,1);return t.setSeconds(e),t}const wr=()=>navigator.language||(navigator.languages||["en"])[0];function br(e){let n,r,i,o,a,c,u,l,f,d,h;return{c(){n=T("div"),r=T("div"),r.innerHTML='<div class="inner svelte-1nk4o01"></div>',i=A(),o=T("div"),a=T("div"),u=A(),l=T("input"),D(r,"class","btn svelte-1nk4o01"),D(a,"class","inner2 svelte-1nk4o01"),D(o,"class",c="btn "+(e[0]?"inactive":"active")+" svelte-1nk4o01"),D(l,"type","text"),l.disabled=e[0],D(l,"class","svelte-1nk4o01"),D(n,"class","svelte-1nk4o01")},m(t,s){S(t,n,s),E(n,r),E(n,i),E(n,o),E(o,a),E(n,u),E(n,l),F(l,e[2]),e[12](l),d||(h=[M(window,"keydown",e[5]),M(r,"click",e[10]),M(o,"click",e[3]),M(l,"input",e[11]),v(f=gr.call(null,l))],d=!0)},p(e,[t]){1&t&&c!==(c="btn "+(e[0]?"inactive":"active")+" svelte-1nk4o01")&&D(o,"class",c),1&t&&(l.disabled=e[0]),4&t&&l.value!==e[2]&&F(l,e[2])},i:t,o:t,d(t){t&&_(n),e[12](null),d=!1,s(h)}}}function xr(e,t,n){let{title:r}=t,{disabled:i=!0}=t,o;const s=de();function a(e){let t=Date.parse(e);if(isNaN(t))return e;{let e=yr(t/1e3);return e.toISOString()}}function c(){const e=new Date;n(6,r=e.toISOString())}async function u(e,t){n(0,i=!i),await $e(),i?f(m):o.focus()}function l(e){let t=e.key,r=e.keyCode;13==r&&e.target&&e.target===o&&(n(0,i=!0),f(m))}function f(e){const t=a(e);s("title",{title:t}),n(6,r=t)}const d=()=>u();function h(){m=this.value,n(2,m),n(6,r)}function p(e){ve[e?"unshift":"push"]((()=>{n(1,o=e)}))}let m;return e.$set=e=>{"title"in e&&n(6,r=e.title),"disabled"in e&&n(0,i=e.disabled)},e.$$.update=()=>{64&e.$$.dirty&&n(2,m=vr(r))},[i,o,m,c,u,l,r,s,a,f,d,h,p]}class Cr extends rt{constructor(e){super(),nt(this,e,xr,br,c,{title:6,disabled:0})}}function $r(e,t=!0){let n=Date.parse(e);if(isNaN(n))return e;{let e=new Date(n);return t?e.toLocaleString(Er(),{timeZoneName:"short"}):e.toUTCString()}}const Er=()=>navigator.language||(navigator.languages||["en"])[0];function Sr(e,t){let n=t;return{update(t){t!==n&&(n=t,e.style.animation="none",e.offsetHeight,e.style.animation=null,e.classList.add("newdatamarker"))}}}const _r=e=>({}),kr=e=>({});function Tr(e){let t;const n=e[9]["custom-tip"],r=f(n,e,e[8],kr);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&256&t&&p(r,n,e,e[8],t,_r,kr)},i(e){t||(Pe(r,e),t=!0)},o(e){Re(r,e),t=!1},d(e){r&&r.d(e)}}}function Or(e){let n,r;return{c(){n=T("div"),r=N(e[0]),D(n,"class","default-tip svelte-1sf1a9f"),D(n,"style",e[6])},m(e,t){S(e,n,t),E(n,r)},p(e,t){1&t&&q(r,e[0])},i:t,o:t,d(e){e&&_(n)}}}function Nr(e){let t,n,r,i,o,s,a;const c=e[9].default,u=f(c,e,e[8],null),l=[Or,Tr],d=[];function h(e,t){return e[0]?0:1}return o=h(e),s=d[o]=l[o](e),{c(){t=T("div"),n=T("span"),u&&u.c(),r=A(),i=T("div"),s.c(),D(n,"class","tooltip-slot"),D(i,"class","tooltip svelte-1sf1a9f"),G(i,"active",e[5]),G(i,"left",e[4]),G(i,"right",e[2]),G(i,"bottom",e[3]),G(i,"top",e[1]),D(t,"class","tooltip-wrapper svelte-1sf1a9f")},m(e,s){S(e,t,s),E(t,n),u&&u.m(n,null),E(t,r),E(t,i),d[o].m(i,null),a=!0},p(e,[t]){u&&u.p&&256&t&&p(u,c,e,e[8],t,null,null);let n=o;o=h(e),o===n?d[o].p(e,t):(Le(),Re(d[n],1,1,(()=>{d[n]=null})),De(),s=d[o],s||(s=d[o]=l[o](e),s.c()),Pe(s,1),s.m(i,null)),32&t&&G(i,"active",e[5]),16&t&&G(i,"left",e[4]),4&t&&G(i,"right",e[2]),8&t&&G(i,"bottom",e[3]),2&t&&G(i,"top",e[1])},i(e){a||(Pe(u,e),Pe(s),a=!0)},o(e){Re(u,e),Re(s),a=!1},d(e){e&&_(t),u&&u.d(e),d[o].d()}}}function Ar(e,t,n){let{tip:r=""}=t,{top:i=!1}=t,{right:o=!1}=t,{bottom:s=!1}=t,{left:a=!1}=t,{active:c=!1}=t,{color:u="#757575"}=t,l=`background-color: ${u};`,{$$slots:f={},$$scope:d}=t;return e.$set=e=>{"tip"in e&&n(0,r=e.tip),"top"in e&&n(1,i=e.top),"right"in e&&n(2,o=e.right),"bottom"in e&&n(3,s=e.bottom),"left"in e&&n(4,a=e.left),"active"in e&&n(5,c=e.active),"color"in e&&n(7,u=e.color),"$$scope"in e&&n(8,d=e.$$scope)},[r,i,o,s,a,c,l,u,d,f]}class Ir extends rt{constructor(e){super(),nt(this,e,Ar,Nr,c,{tip:0,top:1,right:2,bottom:3,left:4,active:5,color:7})}}function Mr(e,t){let n="";const r=new Date(t[t.length-1]);if(r.getTime()==r.getTime()&&(n=r.toLocaleTimeString()),"string"==typeof e){const t=2===e.split("/").length?e.split("/")[1]:e.split("/")[0],r=""===t?t:t.split(".").join(" ").replace(/\b\w/g,(e=>e.toUpperCase())),i=""!==n?", aired: "+n:"";return""!==r?`${r}${i}`:""+i}}function jr(e){let t,n,r,i,o;return{c(){t=T("span"),n=N(e[0]),D(t,"class","svelte-1y30rsg")},m(s,a){S(s,t,a),E(t,n),i||(o=v(r=Sr.call(null,t,e[0])),i=!0)},p(e,t){1&t&&q(n,e[0]),r&&a(r.update)&&1&t&&r.update.call(null,e[0])},d(e){e&&_(t),i=!1,o()}}}function Lr(e){let t,n;const r=new Ir({props:{tip:e[1],color:"#ffffffee",top:!0,$$slots:{default:[jr]},$$scope:{ctx:e}}});return{c(){t=T("div"),Qe(r.$$.fragment),D(t,"class","svelte-1y30rsg")},m(e,i){S(e,t,i),Ze(r,t,null),n=!0},p(e,[t]){const n={};2&t&&(n.tip=e[1]),17&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){n||(Pe(r.$$.fragment,e),n=!0)},o(e){Re(r.$$.fragment,e),n=!1},d(e){e&&_(t),et(r)}}}function Dr(e,t,n){let{text:r}=t,{author:i=""}=t,{lastPlayed:o=""}=t,s;return e.$set=e=>{"text"in e&&n(0,r=e.text),"author"in e&&n(2,i=e.author),"lastPlayed"in e&&n(3,o=e.lastPlayed)},e.$$.update=()=>{12&e.$$.dirty&&n(1,s=Mr(i,o))},[r,s,i,o]}class Pr extends rt{constructor(e){super(),nt(this,e,Dr,Lr,c,{text:0,author:2,lastPlayed:3})}}function Rr(e,t,n){const r=e.slice();return r[7]=t[n],r}function zr(e){let t,n,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=Fr(Rr(e,r,t));const o=e=>Re(i[e],1,1,(()=>{i[e]=null}));return{c(){t=T("ul");for(let e=0;e<i.length;e+=1)i[e].c();D(t,"class","svelte-s1282u")},m(e,r){S(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(4&n){let s;for(r=e[2],s=0;s<r.length;s+=1){const o=Rr(e,r,s);i[s]?(i[s].p(o,n),Pe(i[s],1)):(i[s]=Fr(o),i[s].c(),Pe(i[s],1),i[s].m(t,null))}for(Le(),s=r.length;s<i.length;s+=1)o(s);De()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Pe(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Re(i[e]);n=!1},d(e){e&&_(t),k(i,e)}}}function Ur(e){let t;const n=new Pr({props:{text:e[7].text,author:e[7].author,lastPlayed:e[7].aired}});return{c(){Qe(n.$$.fragment)},m(e,r){Ze(n,e,r),t=!0},p(e,t){const r={};4&t&&(r.text=e[7].text),4&t&&(r.author=e[7].author),4&t&&(r.lastPlayed=e[7].aired),n.$set(r)},i(e){t||(Pe(n.$$.fragment,e),t=!0)},o(e){Re(n.$$.fragment,e),t=!1},d(e){et(n,e)}}}function qr(e){let t;const n=new Wr({props:{id:e[7].id,text:e[7].text,messages:e[7].messages,expanded:!0}});return{c(){Qe(n.$$.fragment)},m(e,r){Ze(n,e,r),t=!0},p(e,t){const r={};4&t&&(r.id=e[7].id),4&t&&(r.text=e[7].text),4&t&&(r.messages=e[7].messages),n.$set(r)},i(e){t||(Pe(n.$$.fragment,e),t=!0)},o(e){Re(n.$$.fragment,e),t=!1},d(e){et(n,e)}}}function Fr(e){let t,n,r,i,o;const s=[qr,Ur],a=[];function c(e,t){return e[7].messages?0:1}return n=c(e),r=a[n]=s[n](e),{c(){t=T("li"),r.c(),i=A(),D(t,"class","svelte-s1282u")},m(e,r){S(e,t,r),a[n].m(t,null),E(t,i),o=!0},p(e,o){let u=n;n=c(e),n===u?a[n].p(e,o):(Le(),Re(a[u],1,1,(()=>{a[u]=null})),De(),r=a[n],r||(r=a[n]=s[n](e),r.c()),Pe(r,1),r.m(t,i))},i(e){o||(Pe(r),o=!0)},o(e){Re(r),o=!1},d(e){e&&_(t),a[n].d()}}}function Br(e){let t,n,r,i,o=$r(e[1])+"",a,c,u,l,f,d,h=e[0]&&zr(e);return{c(){t=T("div"),n=T("span"),r=A(),i=T("span"),a=N(o),c=A(),h&&h.c(),u=I(),D(n,"class","icon svelte-s1282u"),G(n,"expanded",e[0]),D(i,"class","foldername svelte-s1282u"),D(t,"class","dir svelte-s1282u")},m(o,s){S(o,t,s),E(t,n),E(t,r),E(t,i),E(i,a),S(o,c,s),h&&h.m(o,s),S(o,u,s),l=!0,f||(d=[M(n,"click",e[3]),M(i,"dblclick",e[4])],f=!0)},p(e,[t]){1&t&&G(n,"expanded",e[0]),(!l||2&t)&&o!==(o=$r(e[1])+"")&&q(a,o),e[0]?h?(h.p(e,t),1&t&&Pe(h,1)):(h=zr(e),h.c(),Pe(h,1),h.m(u.parentNode,u)):h&&(Le(),Re(h,1,1,(()=>{h=null})),De())},i(e){l||(Pe(h),l=!0)},o(e){Re(h),l=!1},d(e){e&&_(t),e&&_(c),h&&h.d(e),e&&_(u),f=!1,s(d)}}}function Hr(e,t,n){let{id:r}=t,{expanded:i}=t,{text:o}=t,{messages:s}=t;const a=de();function c(){n(0,i=!i)}function u(){Xt.set(r),n(0,i=!0)}return e.$set=e=>{"id"in e&&n(5,r=e.id),"expanded"in e&&n(0,i=e.expanded),"text"in e&&n(1,o=e.text),"messages"in e&&n(2,s=e.messages)},[i,o,s,c,u,r]}class Wr extends rt{constructor(e){super(),nt(this,e,Hr,Br,c,{id:5,expanded:0,text:1,messages:2})}}function Yr(e,t,n){const r=getComputedStyle(e),i="none"===r.transform?"":r.transform,o=t.from.width/e.clientWidth,s=t.from.height/e.clientHeight,c=(t.from.left-t.to.left)/o,u=(t.from.top-t.to.top)/s,l=Math.sqrt(c*c+u*u),{delay:f=0,duration:d=(e=>120*Math.sqrt(e)),easing:h=xt}=n;return{delay:f,duration:a(d)?d(l):d,easing:h,css:(e,t)=>`transform: ${i} translate(${t*c}px, ${t*u}px);`}}const{Map:Gr}=Be;function Vr(e,t,n){const r=e.slice();return r[36]=t[n],r[38]=n,r}function Kr(e,n){let r,i,o,a,c,u,l,f=t,d,h,p;var m=n[1];function g(e){return{props:{textField:e[36].text,tags:e[36].tags,id:e[36].id,tabindex:e[38]+1,author:e[36].author,charlimit:e[36].template?e[36].template.charLimit:"(...)",onair:e[36].onair,cued:e[36].cued,template:e[36].template,selected:e[36].selected,grouped:e[36].grouped}}}if(m){var v=new m(g(n));v.$on("msgfocus",n[18]),v.$on("msgblur",n[19]),v.$on("clicked",n[20]),v.$on("uncue",n[21]),v.$on("keyup",n[22]),v.$on("keydown",n[23]),v.$on("delete",n[24]),v.$on("markdelete",n[25]),v.$on("keypress",n[26]),v.$on("templateselected",n[27])}return{key:e,first:null,c(){r=T("div"),v&&Qe(v.$$.fragment),i=A(),D(r,"id",o=n[3]&&(n[36].id?n[36].id:JSON.stringify(n[36]))==n[3].dataset.id?"grabbed":""),D(r,"class",a="item "+(n[36].grouped&&(n[38]-1>=0&&!n[0].messages[n[38]-1].grouped||0===n[38])?"firstitem":"")+" "+(n[36].grouped&&(n[38]+1<n[0].messages.length&&!n[0].messages[n[38]+1].grouped||n[38]===n[0].messages.length-1)?"lastitem":"")+" svelte-1a2nvin"),D(r,"data-index",c=n[38]),D(r,"data-id",u=n[36].id?n[36].id:JSON.stringify(n[36])),D(r,"data-graby","0"),this.first=r},m(e,t){S(e,r,t),v&&Ze(v,r,null),E(r,i),d=!0,h||(p=[M(r,"mousedown",n[28]),M(r,"touchstart",n[29]),M(r,"mouseenter",n[30]),M(r,"touchmove",n[31])],h=!0)},p(e,t){const n={};if(1&t[0]&&(n.textField=e[36].text),1&t[0]&&(n.tags=e[36].tags),1&t[0]&&(n.id=e[36].id),1&t[0]&&(n.tabindex=e[38]+1),1&t[0]&&(n.author=e[36].author),1&t[0]&&(n.charlimit=e[36].template?e[36].template.charLimit:"(...)"),1&t[0]&&(n.onair=e[36].onair),1&t[0]&&(n.cued=e[36].cued),1&t[0]&&(n.template=e[36].template),1&t[0]&&(n.selected=e[36].selected),1&t[0]&&(n.grouped=e[36].grouped),m!==(m=e[1])){if(v){Le();const e=v;Re(e.$$.fragment,1,0,(()=>{et(e,1)})),De()}m?(v=new m(g(e)),v.$on("msgfocus",e[18]),v.$on("msgblur",e[19]),v.$on("clicked",e[20]),v.$on("uncue",e[21]),v.$on("keyup",e[22]),v.$on("keydown",e[23]),v.$on("delete",e[24]),v.$on("markdelete",e[25]),v.$on("keypress",e[26]),v.$on("templateselected",e[27]),Qe(v.$$.fragment),Pe(v.$$.fragment,1),Ze(v,r,i)):v=null}else m&&v.$set(n);(!d||9&t[0]&&o!==(o=e[3]&&(e[36].id?e[36].id:JSON.stringify(e[36]))==e[3].dataset.id?"grabbed":""))&&D(r,"id",o),(!d||1&t[0]&&a!==(a="item "+(e[36].grouped&&(e[38]-1>=0&&!e[0].messages[e[38]-1].grouped||0===e[38])?"firstitem":"")+" "+(e[36].grouped&&(e[38]+1<e[0].messages.length&&!e[0].messages[e[38]+1].grouped||e[38]===e[0].messages.length-1)?"lastitem":"")+" svelte-1a2nvin"))&&D(r,"class",a),(!d||1&t[0]&&c!==(c=e[38]))&&D(r,"data-index",c),(!d||1&t[0]&&u!==(u=e[36].id?e[36].id:JSON.stringify(e[36])))&&D(r,"data-id",u)},r(){l=r.getBoundingClientRect()},f(){ie(r),f()},a(){f(),f=re(r,l,Yr,{duration:200})},i(e){d||(v&&Pe(v.$$.fragment,e),d=!0)},o(e){v&&Re(v.$$.fragment,e),d=!1},d(e){e&&_(r),v&&et(v),h=!1,s(p)}}}function Jr(e){let t,n,r,i,o,a,c,u=[],l=new Gr,f,d,h,p=e[0].messages;const g=e=>e[36].id;for(let t=0;t<p.length;t+=1){let n=Vr(e,p,t),r=g(n);l.set(r,u[t]=Kr(r,n))}return{c(){t=T("main"),n=T("div"),r=T("p"),a=A(),c=T("div");for(let e=0;e<u.length;e+=1)u[e].c();D(r,"class","svelte-1a2nvin"),D(n,"id","ghost"),D(n,"class",i=m(e[3]?"item haunting":"item")+" svelte-1a2nvin"),D(n,"style",o="top: "+(e[4]+e[5]-e[6])+"px"),D(c,"class","list svelte-1a2nvin"),D(t,"class","dragdroplist svelte-1a2nvin")},m(i,o){S(i,t,o),E(t,n),E(n,r),e[17](n),E(t,a),E(t,c);for(let e=0;e<u.length;e+=1)u[e].m(c,null);f=!0,d||(h=[M(c,"mousemove",e[32]),M(c,"touchmove",e[33]),M(c,"mouseup",e[34]),M(c,"touchend",e[35])],d=!0)},p(e,t){if((!f||8&t[0]&&i!==(i=m(e[3]?"item haunting":"item")+" svelte-1a2nvin"))&&D(n,"class",i),(!f||112&t[0]&&o!==(o="top: "+(e[4]+e[5]-e[6])+"px"))&&D(n,"style",o),1675&t[0]){const n=e[0].messages;Le();for(let e=0;e<u.length;e+=1)u[e].r();u=Ve(u,t,g,1,e,n,l,c,Ge,Kr,null,Vr);for(let e=0;e<u.length;e+=1)u[e].a();De()}},i(e){if(!f){for(let e=0;e<p.length;e+=1)Pe(u[e]);f=!0}},o(e){for(let e=0;e<u.length;e+=1)Re(u[e]);f=!1},d(n){n&&_(t),e[17](null);for(let e=0;e<u.length;e+=1)u[e].d();d=!1,s(h)}}}function Xr(e,t,n){let{data:r={}}=t,{CustomComponent:i}=t,o,s,a,c,u,l=0,f=0,d=0;const h=de();function p(e,t){n(3,s=t),n(3,s.dataset.grabY=e,s);const r=s.querySelector("input[type='text']").value,i=Array.prototype.slice.apply(s.querySelectorAll("input[type='checkbox']"));let a=new Map;i.forEach((e=>{a[e.value]=e.checked}));const c=(new DOMParser).parseFromString(s.innerHTML,"text/html");c.querySelector("input[type='text']").setAttribute("value",r);let u=Array.prototype.slice.apply(c.querySelectorAll("input[type='checkbox']"));u.forEach((e=>{!0===a[e.value]?e.setAttribute("checked",null):e.removeAttribute("checked")})),n(2,o.innerHTML=c.querySelector("body").innerHTML,o),n(5,f=s.getBoundingClientRect().y-e),m(e)}function m(e){s&&(n(4,l=e),n(6,d=o.parentNode.getBoundingClientRect().y))}function g(e){m(e.clientY);let t=document.elementFromPoint(e.clientX,e.clientY).closest(".item");t&&t!=c&&(c=t,v(e,t))}function v(e,t){s&&t!=s&&t.classList.contains("item")&&y(parseInt(s.dataset.index),parseInt(t.dataset.index))}function y(e,t){let i=r.messages[e];n(0,r.messages=[...r.messages.slice(0,e),...r.messages.slice(e+1)],r),n(0,r.messages=[...r.messages.slice(0,t),i,...r.messages.slice(t)],r),a=!0,u=t}function w(e){n(3,s=null),a&&(console.log("last index: ",u),h("shouldsave",{dropIndex:u})),a=null}function b(e){ve[e?"unshift":"push"]((()=>{n(2,o=e)}))}function x(t){me(e,t)}function C(t){me(e,t)}function $(t){me(e,t)}function E(t){me(e,t)}function S(t){me(e,t)}function _(t){me(e,t)}function k(t){me(e,t)}function T(t){me(e,t)}function O(t){me(e,t)}function N(t){me(e,t)}const A=function(e){p(e.clientY,this)},I=function(e){p(e.touches[0].clientY,this)},M=function(e){e.stopPropagation(),v(e,e.target)},j=function(e){e.stopPropagation(),e.preventDefault(),g(e.touches[0])},L=function(e){e.stopPropagation(),m(e.clientY)},D=function(e){e.stopPropagation(),m(e.touches[0].clientY)},P=function(e){e.stopPropagation(),w()},R=function(e){e.stopPropagation(),w(e.touches[0])};return e.$set=e=>{"data"in e&&n(0,r=e.data),"CustomComponent"in e&&n(1,i=e.CustomComponent)},[r,i,o,s,l,f,d,p,m,g,v,w,a,c,u,h,y,b,x,C,$,E,S,_,k,T,O,N,A,I,M,j,L,D,P,R]}class Qr extends rt{constructor(e){super(),nt(this,e,Xr,Jr,c,{data:0,CustomComponent:1},[-1,-1])}}function Zr(e){let n,r,i;return{c(){n=T("button"),D(n,"class","IconButton svelte-1bos33p"),D(n,"style",e[1]),G(n,"pressed",e[0])},m(t,o){S(t,n,o),r||(i=M(n,"click",e[14]),r=!0)},p(e,[t]){2&t&&D(n,"style",e[1]),1&t&&G(n,"pressed",e[0])},i:t,o:t,d(e){e&&_(n),r=!1,i()}}}function ei(e,t,n){let{iconUrl:r}=t,{height:i}=t,{width:o}=t,{dx:s}=t,{dy:a}=t,{foreground:c}=t,{foregroundactive:u}=t,{background:l}=t,{border:f}=t,{hover:d}=t,{active:h}=t,{pressedstate:p}=t,{pressed:m=!1}=t,g;function v(t){me(e,t)}return e.$set=e=>{"iconUrl"in e&&n(2,r=e.iconUrl),"height"in e&&n(3,i=e.height),"width"in e&&n(4,o=e.width),"dx"in e&&n(5,s=e.dx),"dy"in e&&n(6,a=e.dy),"foreground"in e&&n(7,c=e.foreground),"foregroundactive"in e&&n(8,u=e.foregroundactive),"background"in e&&n(9,l=e.background),"border"in e&&n(10,f=e.border),"hover"in e&&n(11,d=e.hover),"active"in e&&n(12,h=e.active),"pressedstate"in e&&n(13,p=e.pressedstate),"pressed"in e&&n(0,m=e.pressed)},e.$$.update=()=>{16380&e.$$.dirty&&n(1,g=`--height: ${i}; --width: ${o}; --dx: ${s}; --dy: ${a}; --icon: url("${r}"); --background: ${l}; --foreground: ${c}; --foregroundactive: ${u}; --width: ${o}; --hover: ${d}; --active: ${h}; --pressedstate: ${p}; --border: ${f}`)},[m,g,r,i,o,s,a,c,u,l,f,d,h,p,v]}class ti extends rt{constructor(e){super(),nt(this,e,ei,Zr,c,{iconUrl:2,height:3,width:4,dx:5,dy:6,foreground:7,foregroundactive:8,background:9,border:10,hover:11,active:12,pressedstate:13,pressed:0})}}function ni(e){let n,r,i;return{c(){n=T("button"),D(n,"class","IconButton svelte-129k221"),D(n,"style",e[1]),G(n,"pressed",e[0])},m(t,o){S(t,n,o),r||(i=M(n,"click",e[14]),r=!0)},p(e,[t]){2&t&&D(n,"style",e[1]),1&t&&G(n,"pressed",e[0])},i:t,o:t,d(e){e&&_(n),r=!1,i()}}}function ri(e,t,n){let{iconUrl:r}=t,{height:i}=t,{width:o}=t,{dx:s}=t,{dy:a}=t,{foreground:c}=t,{foregroundactive:u}=t,{background:l}=t,{border:f}=t,{hover:d}=t,{active:h}=t,{pressedstate:p}=t,{pressed:m}=t,g;function v(t){me(e,t)}return e.$set=e=>{"iconUrl"in e&&n(2,r=e.iconUrl),"height"in e&&n(3,i=e.height),"width"in e&&n(4,o=e.width),"dx"in e&&n(5,s=e.dx),"dy"in e&&n(6,a=e.dy),"foreground"in e&&n(7,c=e.foreground),"foregroundactive"in e&&n(8,u=e.foregroundactive),"background"in e&&n(9,l=e.background),"border"in e&&n(10,f=e.border),"hover"in e&&n(11,d=e.hover),"active"in e&&n(12,h=e.active),"pressedstate"in e&&n(13,p=e.pressedstate),"pressed"in e&&n(0,m=e.pressed)},e.$$.update=()=>{16380&e.$$.dirty&&n(1,g=`--height: ${i}; --width: ${o}; --dx: ${s}; --dy: ${a}; --icon: url("${r}"); --background: ${l}; --foreground: ${c}; --foregroundactive: ${u}; --width: ${o}; --hover: ${d}; --active: ${h}; --pressedstate: ${p}; --border: ${f}`)},[m,g,r,i,o,s,a,c,u,l,f,d,h,p,v]}class ii extends rt{constructor(e){super(),nt(this,e,ri,ni,c,{iconUrl:2,height:3,width:4,dx:5,dy:6,foreground:7,foregroundactive:8,background:9,border:10,hover:11,active:12,pressedstate:13,pressed:0})}}function oi(e){let t,n,r,i;const o=e[15].default,s=f(o,e,e[14],null);return{c(){t=T("button"),s&&s.c(),D(t,"class","IconButton svelte-1494l65"),D(t,"style",e[1]),G(t,"pressed",e[0])},m(o,a){S(o,t,a),s&&s.m(t,null),n=!0,r||(i=M(t,"click",e[16]),r=!0)},p(e,[r]){s&&s.p&&16384&r&&p(s,o,e,e[14],r,null,null),(!n||2&r)&&D(t,"style",e[1]),1&r&&G(t,"pressed",e[0])},i(e){n||(Pe(s,e),n=!0)},o(e){Re(s,e),n=!1},d(e){e&&_(t),s&&s.d(e),r=!1,i()}}}function si(e,t,n){let{iconUrl:r}=t,{height:i}=t,{width:o}=t,{dx:s}=t,{dy:a}=t,{foreground:c}=t,{foregroundactive:u}=t,{background:l}=t,{border:f}=t,{hover:d}=t,{active:h}=t,{pressedstate:p}=t,{pressed:m=!1}=t,{$$slots:g={},$$scope:v}=t,y;function w(t){me(e,t)}return e.$set=e=>{"iconUrl"in e&&n(2,r=e.iconUrl),"height"in e&&n(3,i=e.height),"width"in e&&n(4,o=e.width),"dx"in e&&n(5,s=e.dx),"dy"in e&&n(6,a=e.dy),"foreground"in e&&n(7,c=e.foreground),"foregroundactive"in e&&n(8,u=e.foregroundactive),"background"in e&&n(9,l=e.background),"border"in e&&n(10,f=e.border),"hover"in e&&n(11,d=e.hover),"active"in e&&n(12,h=e.active),"pressedstate"in e&&n(13,p=e.pressedstate),"pressed"in e&&n(0,m=e.pressed),"$$scope"in e&&n(14,v=e.$$scope)},e.$$.update=()=>{16380&e.$$.dirty&&n(1,y=`--height: ${i}; --width: ${o}; --dx: ${s}; --dy: ${a}; --icon: url("${r}"); --background: ${l}; --foreground: ${c}; --foregroundactive: ${u}; --width: ${o}; --hover: ${d}; --active: ${h}; --pressedstate: ${p}; --border: ${f}`)},[m,y,r,i,o,s,a,c,u,l,f,d,h,p,v,g,w]}class ai extends rt{constructor(e){super(),nt(this,e,si,oi,c,{iconUrl:2,height:3,width:4,dx:5,dy:6,foreground:7,foregroundactive:8,background:9,border:10,hover:11,active:12,pressedstate:13,pressed:0})}}function ci(e){let t,n,r,i;const o=e[15].default,s=f(o,e,e[14],null);return{c(){t=T("button"),s&&s.c(),D(t,"class","IconButton svelte-1b1pvh"),D(t,"style",e[1]),G(t,"pressed",e[0])},m(o,a){S(o,t,a),s&&s.m(t,null),n=!0,r||(i=M(t,"click",e[16]),r=!0)},p(e,[r]){s&&s.p&&16384&r&&p(s,o,e,e[14],r,null,null),(!n||2&r)&&D(t,"style",e[1]),1&r&&G(t,"pressed",e[0])},i(e){n||(Pe(s,e),n=!0)},o(e){Re(s,e),n=!1},d(e){e&&_(t),s&&s.d(e),r=!1,i()}}}function ui(e,t,n){let{iconUrl:r}=t,{height:i}=t,{width:o}=t,{dx:s}=t,{dy:a}=t,{foreground:c}=t,{foregroundactive:u}=t,{background:l}=t,{border:f}=t,{hover:d}=t,{active:h}=t,{pressedstate:p}=t,{pressed:m=!1}=t,{$$slots:g={},$$scope:v}=t,y;function w(t){me(e,t)}return e.$set=e=>{"iconUrl"in e&&n(2,r=e.iconUrl),"height"in e&&n(3,i=e.height),"width"in e&&n(4,o=e.width),"dx"in e&&n(5,s=e.dx),"dy"in e&&n(6,a=e.dy),"foreground"in e&&n(7,c=e.foreground),"foregroundactive"in e&&n(8,u=e.foregroundactive),"background"in e&&n(9,l=e.background),"border"in e&&n(10,f=e.border),"hover"in e&&n(11,d=e.hover),"active"in e&&n(12,h=e.active),"pressedstate"in e&&n(13,p=e.pressedstate),"pressed"in e&&n(0,m=e.pressed),"$$scope"in e&&n(14,v=e.$$scope)},e.$$.update=()=>{16380&e.$$.dirty&&n(1,y=`--height: ${i}; --width: ${o}; --dx: ${s}; --dy: ${a}; --icon: url("${r}"); --background: ${l}; --foreground: ${c}; --foregroundactive: ${u}; --width: ${o}; --hover: ${d}; --active: ${h}; --pressedstate: ${p}; --border: ${f}`)},[m,y,r,i,o,s,a,c,u,l,f,d,h,p,v,g,w]}class li extends rt{constructor(e){super(),nt(this,e,ui,ci,c,{iconUrl:2,height:3,width:4,dx:5,dy:6,foreground:7,foregroundactive:8,background:9,border:10,hover:11,active:12,pressedstate:13,pressed:0})}}function fi(e){let t,n,r,i,o,s,a,c,u;return{c(){t=T("div"),n=T("div"),r=N(e[0]),s=A(),a=T("object"),D(n,"class","infotext svelte-i3xbgy"),D(a,"type","image/svg+xml"),D(a,"data","build/assets/svg/play.svg"),D(a,"width","14"),D(a,"height","14"),D(a,"title","play"),D(a,"class","icon svelte-i3xbgy"),D(t,"class","actionnotification svelte-i3xbgy")},m(e,i){S(e,t,i),E(t,n),E(n,r),E(t,s),E(t,a),u=!0},p(e,t){(!u||1&t)&&q(r,e[0])},i(e){u||(Ee((()=>{o&&o.end(1),i||(i=Ue(n,$t,{x:200,duration:200,delay:175,easing:xt})),i.start()})),Ee((()=>{c||(c=Fe(t,Ct,{duration:150},!0)),c.run(1)})),u=!0)},o(e){i&&i.invalidate(),o=qe(n,$t,{x:-200,duration:200,delay:175,easing:xt}),c||(c=Fe(t,Ct,{duration:150},!1)),c.run(0),u=!1},d(e){e&&_(t),e&&o&&o.end(),e&&c&&c.end()}}}function di(e){let t,n,r=e[1]&&fi(e);return{c(){r&&r.c(),t=I()},m(e,i){r&&r.m(e,i),S(e,t,i),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&Pe(r,1)):(r=fi(e),r.c(),Pe(r,1),r.m(t.parentNode,t)):r&&(Le(),Re(r,1,1,(()=>{r=null})),De())},i(e){n||(Pe(r),n=!0)},o(e){Re(r),n=!1},d(e){r&&r.d(e),e&&_(t)}}}function hi(e,t,n){let{infotext:r=""}=t,{visible:i}=t;return e.$set=e=>{"infotext"in e&&n(0,r=e.infotext),"visible"in e&&n(1,i=e.visible)},[r,i]}class pi extends rt{constructor(e){super(),nt(this,e,hi,di,c,{infotext:0,visible:1})}}function mi(e){let n,r,i,o,a,c,u,l;return{c(){n=T("div"),r=T("button"),i=A(),o=T("button"),a=A(),c=T("button"),D(r,"class","fontdecrease svelte-yiy40w"),B(r,"width","22px"),B(r,"height","22px"),D(o,"class","revert svelte-yiy40w"),B(o,"width","22px"),B(o,"height","22px"),D(c,"class","fontincrease svelte-yiy40w"),B(c,"width","28px"),B(c,"height","28px"),D(n,"class","wrapper svelte-yiy40w")},m(t,s){S(t,n,s),E(n,r),E(n,i),E(n,o),E(n,a),E(n,c),u||(l=[M(r,"click",e[1]),M(o,"click",e[2]),M(c,"click",e[0])],u=!0)},p:t,i:t,o:t,d(e){e&&_(n),u=!1,s(l)}}}function gi(e,t,n){let r;l(e,Zt,(e=>n(3,r=e)));const i=de();function o(){Zt.update((e=>Math.min(2.5,e+.25))),i("fontsize",{fontsize:r})}function s(){Zt.update((e=>Math.max(e-.25,.75))),i("fontsize",{fontsize:r})}function a(){Zt.set(1.25),i("fontsize",{fontsize:r})}return[o,s,a]}class vi extends rt{constructor(e){super(),nt(this,e,gi,mi,c,{})}}function yi(e){let n;return{c(){n=T("div"),D(n,"class","cloudfail svelte-15m4cuh")},m(e,t){S(e,n,t)},p:t,i:t,o:t,d(e){e&&_(n)}}}class wi extends rt{constructor(e){super(),nt(this,e,null,yi,c,{})}}const bi=/[a-zA-Z]/,xi=(e,t=0)=>[...Array(e).keys()].map((e=>e+t));function Ci(e,t,n){const r=e.slice();return r[6]=t[n],r}function $i(e){let n;return{c(){n=T("div"),D(n,"class","rect svelte-w0x6cj"),B(n,"animation-delay",(e[6]-1)*(e[5]/12)+e[4])},m(e,t){S(e,n,t)},p:t,d(e){e&&_(n)}}}function Ei(e){let n,r=xi(5,1),i=[];for(let t=0;t<r.length;t+=1)i[t]=$i(Ci(e,r,t));return{c(){n=T("div");for(let e=0;e<i.length;e+=1)i[e].c();D(n,"class","wrapper svelte-w0x6cj"),B(n,"--size",e[0]+e[3]),B(n,"--color",e[1]),B(n,"--duration",e[2])},m(e,t){S(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(48&t){let o;for(r=xi(5,1),o=0;o<r.length;o+=1){const s=Ci(e,r,o);i[o]?i[o].p(s,t):(i[o]=$i(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}9&t&&B(n,"--size",e[0]+e[3]),2&t&&B(n,"--color",e[1]),4&t&&B(n,"--duration",e[2])},i:t,o:t,d(e){e&&_(n),k(i,e)}}}function Si(e,t,n){let{size:r=60}=t,{color:i="#FF3E00"}=t,{duration:o="1.2s"}=t,{unit:s="px"}=t,a=o.match(bi)[0],c=o.replace(bi,"");return e.$set=e=>{"size"in e&&n(0,r=e.size),"color"in e&&n(1,i=e.color),"duration"in e&&n(2,o=e.duration),"unit"in e&&n(3,s=e.unit)},[r,i,o,s,a,c]}class _i extends rt{constructor(e){super(),nt(this,e,Si,Ei,c,{size:0,color:1,duration:2,unit:3})}}var ki={$:e=>"string"==typeof e?document.querySelector(e):e,extend:(...e)=>Object.assign(...e),cumulativeOffset(e){let t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},directScroll:e=>e&&e!==document&&e!==document.body,scrollTop(e,t){let n=void 0!==t;return this.directScroll(e)?n?e.scrollTop=t:e.scrollTop:n?document.documentElement.scrollTop=document.body.scrollTop=t:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},scrollLeft(e,t){let n=void 0!==t;return this.directScroll(e)?n?e.scrollLeft=t:e.scrollLeft:n?document.documentElement.scrollLeft=document.body.scrollLeft=t:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}};const Ti={container:"body",duration:500,delay:0,offset:0,easing:bt,onStart:t,onDone:t,onAborting:t,scrollX:!1,scrollY:!0},Oi=e=>{let{offset:t,duration:n,delay:r,easing:i,x:o=0,y:s=0,scrollX:a,scrollY:c,onStart:u,onDone:l,container:f,onAborting:d,element:h}=e;"function"==typeof t&&(t=t());var p=ki.cumulativeOffset(f),m=h?ki.cumulativeOffset(h):{top:s,left:o},g=ki.scrollLeft(f),v=ki.scrollTop(f),y=m.left-p.left+t,b=m.top-p.top+t,x=y-g,C=b-v;let E=!0,S=!1,_=w()+r,k=_+n;function T(e,t,n){a&&ki.scrollLeft(e,n),c&&ki.scrollTop(e,t)}function O(e){e||(S=!0,u(h,{x:o,y:s}))}function N(e){T(f,v+C*e,g+x*e)}function A(){E=!1}return $((e=>{if(!S&&e>=_&&O(!1),S&&e>=k&&(N(1),A(),l(h,{x:o,y:s})),!E)return d(h,{x:o,y:s}),!1;if(S){const t=e-_,r=0+1*i(t/n);N(r)}return!0})),O(r),N(0),A},Ni=e=>{let t=ki.extend({},Ti,e);return t.container=ki.$(t.container),t.element=ki.$(t.element),t},Ai=e=>{if(e&&e!==document&&e!==document.body)return e.scrollHeight-e.offsetHeight;{let e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}},Ii=e=>(e=Ni(e),Oi(ki.extend(e,{element:null,y:Ai(e.container)})));var Mi=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function ji(){throw new Error("setTimeout has not been defined")}function Li(){throw new Error("clearTimeout has not been defined")}var Di=ji,Pi=Li;function Ri(e){if(Di===setTimeout)return setTimeout(e,0);if((Di===ji||!Di)&&setTimeout)return Di=setTimeout,setTimeout(e,0);try{return Di(e,0)}catch(t){try{return Di.call(null,e,0)}catch(t){return Di.call(this,e,0)}}}function zi(e){if(Pi===clearTimeout)return clearTimeout(e);if((Pi===Li||!Pi)&&clearTimeout)return Pi=clearTimeout,clearTimeout(e);try{return Pi(e)}catch(t){try{return Pi.call(null,e)}catch(t){return Pi.call(this,e)}}}"function"==typeof Mi.setTimeout&&(Di=setTimeout),"function"==typeof Mi.clearTimeout&&(Pi=clearTimeout);var Ui=[],qi=!1,Fi,Bi=-1;function Hi(){qi&&Fi&&(qi=!1,Fi.length?Ui=Fi.concat(Ui):Bi=-1,Ui.length&&Wi())}function Wi(){if(!qi){var e=Ri(Hi);qi=!0;for(var t=Ui.length;t;){for(Fi=Ui,Ui=[];++Bi<t;)Fi&&Fi[Bi].run();Bi=-1,t=Ui.length}Fi=null,qi=!1,zi(e)}}function Yi(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Ui.push(new Gi(e,t)),1!==Ui.length||qi||Ri(Wi)}function Gi(e,t){this.fun=e,this.array=t}Gi.prototype.run=function(){this.fun.apply(null,this.array)};var Vi="browser",Ki="browser",Ji=!0,Xi={},Qi=[],Zi="",eo={},to={},no={};function ro(){}var io=ro,oo=ro,so=ro,ao=ro,co=ro,uo=ro,lo=ro;function fo(e){throw new Error("process.binding is not supported")}function ho(){return"/"}function po(e){throw new Error("process.chdir is not supported")}function mo(){return 0}var go=Mi.performance||{},vo=go.now||go.mozNow||go.msNow||go.oNow||go.webkitNow||function(){return(new Date).getTime()};function yo(e){var t=.001*vo.call(go),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],r-=e[1],r<0&&(n--,r+=1e9)),[n,r]}var wo=new Date;function bo(){var e=new Date,t=e-wo;return t/1e3}var xo={nextTick:Yi,title:Vi,browser:Ji,env:Xi,argv:Qi,version:Zi,versions:eo,on:io,addListener:oo,once:so,off:ao,removeListener:co,removeAllListeners:uo,emit:lo,binding:fo,cwd:ho,chdir:po,umask:mo,hrtime:yo,platform:Ki,release:to,config:no,uptime:bo},Co=1e3,$o=60*Co,Eo=60*$o,So=24*Eo,_o=7*So,ko=365.25*So,To=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return Oo(e);if("number"===n&&isFinite(e))return t.long?Ao(e):No(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Oo(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*ko;case"weeks":case"week":case"w":return n*_o;case"days":case"day":case"d":return n*So;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Eo;case"minutes":case"minute":case"mins":case"min":case"m":return n*$o;case"seconds":case"second":case"secs":case"sec":case"s":return n*Co;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function No(e){var t=Math.abs(e);return t>=So?Math.round(e/So)+"d":t>=Eo?Math.round(e/Eo)+"h":t>=$o?Math.round(e/$o)+"m":t>=Co?Math.round(e/Co)+"s":e+"ms"}function Ao(e){var t=Math.abs(e);return t>=So?Io(e,t,So,"day"):t>=Eo?Io(e,t,Eo,"hour"):t>=$o?Io(e,t,$o,"minute"):t>=Co?Io(e,t,Co,"second"):e+" ms"}function Io(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}function Mo(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let o;function s(...e){if(!s.enabled)return;const t=s,r=Number(new Date),i=r-(o||r);t.diff=i,t.prev=o,t.curr=r,o=r,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return r;a++;const o=n.formatters[i];if("function"==typeof o){const n=e[a];r=o.call(t,n),e.splice(a,1),a--}return r})),n.formatArgs.call(t,e);const c=t.log||n.log;c.apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=r,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function r(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&(e=r[t].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}}function s(){const e=[...n.names.map(c),...n.skips.map(c).map((e=>"-"+e))].join(",");return n.enable(""),e}function a(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function u(e){return e instanceof Error?e.stack||e.message:e}return n.debug=n,n.default=n,n.coerce=u,n.disable=s,n.enable=o,n.enabled=a,n.humanize=To,Object.keys(e).forEach((t=>{n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}for(var jo=Mo,Lo=_t((function(e,t){function n(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function r(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}function i(...e){return"object"==typeof console&&console.log&&console.log(...e)}function o(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function s(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==xo&&"env"in xo&&(e=xo.env.DEBUG),e}function a(){try{return localStorage}catch(e){}}t.log=i,t.formatArgs=r,t.save=o,t.load=s,t.useColors=n,t.storage=a(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=jo(t);const{formatters:c}=e.exports;c.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Do=_t((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function e(){return t(n),n}}else{var r=new Array(16);e.exports=function e(){for(var t=0,n;t<16;t++)0==(3&t)&&(n=4294967296*Math.random()),r[t]=n>>>((3&t)<<3)&255;return r}}})),Po=[],Ro=0;Ro<256;++Ro)Po[Ro]=(Ro+256).toString(16).substr(1);function zo(e,t){var n=t||0,r=Po;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}var Uo=zo,qo,Fo,Bo=0,Ho=0;function Wo(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var o=e.node||qo,s=void 0!==e.clockseq?e.clockseq:Fo;if(null==o||null==s){var a=Do();null==o&&(o=qo=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=Fo=16383&(a[6]<<8|a[7]))}var c=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:Ho+1,l=c-Bo+(u-Ho)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||c>Bo)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Bo=c,Ho=u,Fo=s,c+=122192928e5;var f=(1e4*(268435455&c)+u)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var d=c/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var h=0;h<6;++h)i[r+h]=o[h];return t||Uo(i)}var Yo=Wo,Go=Et&&Et.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},Vo=Et&&Et.__generator||function(e,t){var n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return c([e,t])}}function c(s){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(!(o=n.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){n=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(6===s[0]&&n.label<o[1]){n.label=o[1],o=s;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(s);break}o[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Ko=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Jo=Ko(Lo),Xo=Ko(Yo),Qo=Jo.default("smart-request-balancer"),Zo={default:{rule:"common",key:"common"},rules:{common:{rate:30,limit:1,priority:3}},overall:{rate:30,limit:1,priority:1},retryTime:300,ignoreOverallOverheat:!0},es=function(){function e(e){this.queue=new Map,this.overheat=Date.now(),this.pending=!1,this.params=Object.assign({},Zo,e),this.heatPart=1e3*this.params.overall.limit/this.params.overall.rate}return e.prototype.request=function(e,t,n){var r=this;return void 0===t&&(t=this.params.default.key),void 0===n&&(n=this.params.default.rule),Qo("Adding queue request",t,n),new Promise((function(i,o){r.add(e,(function(e,r){return e?(Qo("Request resolving error",t,n,e),o(e)):(Qo("Resolving queue request",t,n),i(r))}),t,n)}))},e.prototype.clear=function(){Qo("Clearing all queues"),this.queue.clear()},Object.defineProperty(e.prototype,"isOverheated",{get:function(){return this.overheat>Date.now()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalLength",{get:function(){var e=0;return this.queue.forEach((function(t){e+=t.data.length})),e},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t,n,r){var i=this.createQueue(n,e,t,r);Qo("Adding request to the queue",i.id),this.pending||this.execute(i)},e.prototype.createQueue=function(e,t,n,r){if(!this.queue.has(e)){var i=Xo.default();Qo("Creating queue",i,e,r),this.queue.set(e,{cooldown:Date.now(),data:[],id:i,key:e,rule:this.getRule(r),ruleName:r})}var o=this.queue.get(e),s=Xo.default();return Qo("Adding item to existing queue",o.id,s),o.data.push({callback:n,id:s,request:t}),o},e.prototype.getRule=function(e){return this.params.rules[e]||(this.params.rules[e]=this.params.rules[this.params.default.rule]),this.params.rules[e]},e.prototype.addRetry=function(e,t){return Go(this,void 0,void 0,(function(){return Vo(this,(function(n){switch(n.label){case 0:return Qo("Adding retry",e.queue.id,t),[4,this.delay(1e3*t)];case 1:return n.sent(),this.add(e.item.request,e.item.callback,e.queue.key,e.queue.ruleName),[2]}}))}))},e.prototype.execute=function(e){return Go(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c=this;return Vo(this,(function(u){switch(u.label){case 0:return e&&Qo("Executing queue",e.id),this.pending=!0,t=!1,n=0,r=function(e){t=!0,n=e||c.params.retryTime},[4,this.shift(e)];case 1:if(i=u.sent(),!i||!i.item)return[2];Qo("Executing queue item",i.item.id),u.label=2;case 2:return u.trys.push([2,4,,5]),o=i.item.request(r),this.heat(),this.execute(),[4,o];case 3:return s=u.sent(),t?this.addRetry(i,n):(Qo("Queue item executed successfully",i.item.id),i.item.callback(null,s)),[3,5];case 4:return a=u.sent(),Qo("Queue item request error",a),i.item.callback(a),[3,5];case 5:return[2]}}))}))},e.prototype.shift=function(e){return Go(this,void 0,void 0,(function(){var t;return Vo(this,(function(n){switch(n.label){case 0:return[4,this.findMostImportant(e)];case 1:return t=n.sent(),t&&0!==t.data.length?(this.setCooldown(t),[2,{item:t.data.shift(),queue:t}]):[2,null]}}))}))},e.prototype.heat=function(){var e=this;if(!this.params.ignoreOverallOverheat){this.overheat=Date.now()+this.heatPart;var t=this.overheat;Qo("Heating overall queue",this.heatPart),setTimeout((function(){var n=Math.max(e.overheat-t,0);e.overheat=Date.now()+n,Qo("Cooling down overall queue",n)}),this.heatPart)}},e.prototype.findMostImportant=function(e){return Go(this,void 0,void 0,(function(){var t,n,r,i,o,s=this;return Vo(this,(function(a){switch(a.label){case 0:return e?(Qo("Providing best queue",e.id),[2,e]):(t=1/0,n=null,r=1/0,i=Date.now(),this.queue.forEach((function(e){e.rule.priority<t&&e.data.length&&s.isCool(e,i)&&(t=e.rule.priority,n=e),e.cooldown<r&&e.cooldown>i&&(r=e.cooldown)})),o=r-i,!n&&o>0&&r!==1/0?(Qo("Waiting for cooldown",o),[4,this.delay(o)]):[3,2]);case 1:return a.sent(),[2,this.findMostImportant()];case 2:return!this.isOverheated||this.params.ignoreOverallOverheat?[3,4]:(Qo("Everything is overheated"),[4,this.delay(this.overheat-i)]);case 3:return a.sent(),[2,this.findMostImportant()];case 4:return n||0!==this.totalLength?(Qo("Finding best queue",n&&n.id),[2,n]):(Qo("No queues available. Stopping queue"),this.pending=!1,[2,null])}}))}))},e.prototype.setCooldown=function(e){var t=this,n=this.params.rules[e.ruleName],r=1e3*n.limit/n.rate,i=Date.now()+r;e.cooldown=i,Qo("Setting cooldown",e.id,r),setTimeout((function(){e.cooldown=Date.now()+Math.max(e.cooldown-i,0),Qo("Removing cooldown",e.id,r),e.data.length||t.remove(e.key)}),r)},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.isCool=function(e,t){return e.cooldown<=t},e.prototype.remove=function(e){Qo("Deleting queue",e),this.queue.delete(e)},e}(),ts=es,ns=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())),rs="%[a-f0-9]{2}",is=new RegExp(rs,"gi"),os=new RegExp("("+rs+")+","gi");function ss(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],ss(n),ss(r))}function as(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(is),n=1;n<t.length;n++)e=ss(t,n).join(""),t=e.match(is);return e}}function cs(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=os.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=as(n[0]);r!==n[0]&&(t[n[0]]=r)}n=os.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}var us=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return cs(e)}},ls=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]},fs=_t((function(e,t){const n=e=>null==e;function r(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",i,"]"].join("")]:[...n,[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}}function i(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1,o=i?n.split(e.arrayFormatSeparator).map((t=>a(t,e))):null===n?n:a(n,e);r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?ns(e):encodeURIComponent(e):e}function a(e,t){return t.decode?us(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function f(e){e=u(e);const t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function h(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),o(t.arrayFormatSeparator);const n=i(t),r=Object.create(null);if("string"!=typeof e)return r;if(e=e.trim().replace(/^[?#&]/,""),!e)return r;for(const i of e.split("&")){let[e,o]=ls(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:a(o,t),n(a(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=d(n[e],t);else r[e]=d(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=f,t.parse=h,t.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),o(t.arrayFormatSeparator);const i=r=>t.skipNull&&n(e[r])||t.skipEmptyString&&""===e[r],a=r(t),c={};for(const t of Object.keys(e))i(t)||(c[t]=e[t]);const u=Object.keys(c);return!1!==t.sort&&u.sort(t.sort),u.map((n=>{const r=e[n];return void 0===r?"":null===r?s(n,t):Array.isArray(r)?r.reduce(a(n),[]).join("&"):s(n,t)+"="+s(r,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>({url:u(e).split("?")[0]||"",query:h(f(e),t)}),t.stringifyUrl=(e,n)=>{const r=u(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i),s=l(e.url),a=Object.assign(o,e.query);let c=t.stringify(a,n);return c&&(c="?"+c),`${r}${c}${s}`}}));const ds=/^(\w+:\/\/[^/?]+)?(.*?)(\?.+)?$/,hs=/^(\/\/[^/?]+)(.*?)(\?.+)?$/,ps=e=>e.filter((e=>"string"==typeof e||"number"==typeof e)).map((e=>""+e)).filter((e=>e)),ms=(e,t)=>{const{protocolRelative:n}=t,r=e.join("/"),i=n?hs:ds,[,o="",s="",a=""]=r.match(i)||[];return{prefix:o,pathname:{parts:s.split("/").filter((e=>""!==e)),hasLeading:a?/^\/\/+/.test(s):/^\/+/.test(s),hasTrailing:a?/\/\/+$/.test(s):/\/+$/.test(s)},suffix:a}},gs=(e,t)=>{const{prefix:n,pathname:r,suffix:i}=e,{parts:o,hasLeading:s,hasTrailing:a}=r,{leadingSlash:c,trailingSlash:u}=t,l=!0===c||"keep"===c&&s,f=!0===u||"keep"===u&&a;let d=n;o.length>0&&((d||l)&&(d+="/"),d+=o.join("/")),f&&(d+="/"),!d&&l&&(d+="/");const h={...fs.parse(i,t.queryOptions),...t.query},p=fs.stringify(h,t.queryOptions);return p&&(d+="?"+p),d},vs=(...e)=>{const t=e[e.length-1];let n;t&&"object"==typeof t&&(n=t,e=e.slice(0,-1)),n={leadingSlash:!0,trailingSlash:!1,protocolRelative:!1,...n},e=ps(e);const r=ms(e,n);return gs(r,n)},ys={height:"4em",width:"4em",iconUrl:"assets/svg/play.svg",dx:"-36%",dy:"-50%",foreground:"white",foregroundactive:"black",background:"#f4d8d8",pressedstate:"var(--basharqred)",hover:"var(--basharqred)",active:"var(--basharqred)",border:"#e2999b"},ws={height:"4em",width:"4em",iconUrl:"assets/svg/stop.svg",dx:"-46%",dy:"-50%",foreground:"white",foregroundactive:"black",background:"#f4d8d8",pressedstate:"var(--basharqred)",hover:"var(--basharqred)",active:"var(--basharqred)",border:"#e2999b"},bs={height:"4em",width:"4em",iconUrl:"assets/svg/playauto.svg",dx:"-40%",dy:"-50%",foreground:"white",foregroundactive:"black",background:"#f4d8d8",pressedstate:"var(--basharqred)",hover:"var(--basharqred)",active:"var(--basharqred)",border:"#e2999b"},xs={height:"4em",width:"4em",iconUrl:"assets/svg/stopauto.svg",dx:"-40%",dy:"-50%",foreground:"white",foregroundactive:"black",background:"#f4d8d8",pressedstate:"var(--basharqred)",hover:"var(--basharqred)",active:"var(--basharqred)",border:"#e2999b"},Cs=()=>{const{subscribe:e,set:t,update:n}=Jt([]),r=e=>{n((t=>t.filter((t=>t!==e))))},i=e=>n((t=>[e,...t]));return{subscribe:e,add:i,init:t,dismiss:r,clear:()=>t([])}},$s=Cs();function Es(e,t,n){const r=e.slice();return r[9]=t[n],r}function Ss(e){let t,n=e[1].length+"",r;return{c(){t=T("span"),r=N(n),D(t,"class","badge svelte-9ggto9")},m(e,n){S(e,t,n),E(t,r)},p(e,t){2&t&&n!==(n=e[1].length+"")&&q(r,n)},d(e){e&&_(t)}}}function _s(e){let t,n,r,i,o,s,a,c=e[2],u=[];for(let t=0;t<c.length;t+=1)u[t]=ks(Es(e,c,t));let l=e[2].length>1&&Ts(e);return{c(){t=T("button"),n=A(),r=T("div"),i=T("ul");for(let e=0;e<u.length;e+=1)u[e].c();o=A(),l&&l.c(),D(t,"tabindex","-1"),D(t,"class","closeBtn svelte-9ggto9"),D(i,"class","svelte-9ggto9"),D(r,"class","messages svelte-9ggto9")},m(c,f){S(c,t,f),S(c,n,f),S(c,r,f),E(r,i);for(let e=0;e<u.length;e+=1)u[e].m(i,null);E(r,o),l&&l.m(r,null),s||(a=M(t,"click",j(e[7])),s=!0)},p(e,t){if(12&t){let n;for(c=e[2],n=0;n<c.length;n+=1){const r=Es(e,c,n);u[n]?u[n].p(r,t):(u[n]=ks(r),u[n].c(),u[n].m(i,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}e[2].length>1?l?l.p(e,t):(l=Ts(e),l.c(),l.m(r,null)):l&&(l.d(1),l=null)},d(e){e&&_(t),e&&_(n),e&&_(r),k(u,e),l&&l.d(),s=!1,a()}}}function ks(e){let t,n,r=e[9]+"",i,o,s,a,c,u;function l(...t){return e[8](e[9],...t)}return{c(){t=T("li"),n=T("p"),i=A(),o=T("div"),s=T("button"),s.textContent="dismiss",a=A(),D(n,"class","svelte-9ggto9"),D(s,"class","dismissBtn svelte-9ggto9"),D(o,"class","dismissWrap svelte-9ggto9"),D(t,"class","svelte-9ggto9")},m(e,f){S(e,t,f),E(t,n),n.innerHTML=r,E(t,i),E(t,o),E(o,s),E(t,a),c||(u=M(s,"click",l),c=!0)},p(t,i){e=t,4&i&&r!==(r=e[9]+"")&&(n.innerHTML=r)},d(e){e&&_(t),c=!1,u()}}}function Ts(e){let n,r,i,o;return{c(){n=T("div"),r=T("button"),r.textContent="dismiss all",D(r,"class","dismissBtn svelte-9ggto9"),D(n,"class","dismissAllBtn svelte-9ggto9")},m(t,s){S(t,n,s),E(n,r),i||(o=M(r,"click",e[5]),i=!0)},p:t,d(e){e&&_(n),i=!1,o()}}}function Os(e){let n,r,i,o,s,a,c=e[1].length&&Ss(e),u=e[0]&&e[1].length&&_s(e);return{c(){n=T("button"),c&&c.c(),i=A(),u&&u.c(),o=I(),D(n,"class",r=m(e[0]?"notifyBtnclose":"notifyBtn")+" svelte-9ggto9"),G(n,"pressed",e[2].length>0)},m(t,r){S(t,n,r),c&&c.m(n,null),S(t,i,r),u&&u.m(t,r),S(t,o,r),s||(a=M(n,"click",L(e[4])),s=!0)},p(e,[t]){e[1].length?c?c.p(e,t):(c=Ss(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null),1&t&&r!==(r=m(e[0]?"notifyBtnclose":"notifyBtn")+" svelte-9ggto9")&&D(n,"class",r),5&t&&G(n,"pressed",e[2].length>0),e[0]&&e[1].length?u?u.p(e,t):(u=_s(e),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},i:t,o:t,d(e){e&&_(n),c&&c.d(),e&&_(i),u&&u.d(e),e&&_(o),s=!1,a()}}}function Ns(e,t,n){let r;l(e,$s,(e=>n(1,r=e)));let i=!1;const o=e=>{$s.dismiss(e),0===r.length&&n(0,i=!1)},s=()=>{0===r.length?n(0,i=!1):n(0,i=!i)},a=()=>{$s.clear(),n(0,i=!1)};let{count:c=5}=t;const u=()=>n(0,i=!1),f=e=>o(e);let d;return e.$set=e=>{"count"in e&&n(6,c=e.count)},e.$$.update=()=>{66&e.$$.dirty&&n(2,d=r.slice(0,c))},[i,r,d,o,s,a,c,u,f]}class As extends rt{constructor(e){super(),nt(this,e,Ns,Os,c,{count:6})}}const Is=e=>Object.freeze(e);function Ms(...e){let t={};for(const n of e)if("string"==typeof n)t[n]=Is({value:n});else if("object"==typeof n){const e=Object.keys(n)[0];t[e]=Is({value:n[e]})}return Is(t)}const js=Ms("namedposition","fposition","absoluteposition"),Ls=Ms("all","fill","key"),Ds=Ms("Info","Warn","Error","Fatal"),Ps=Ms({Active:"active"},{Idle:"idle"},{Inactive:"inactive"});function Rs(e){let n,r,i,o,s,a;return{c(){n=T("p"),r=T("span"),i=N("•"),s=T("span"),a=N(e[1]),D(r,"class",o="bullet "+e[0].value+" svelte-1g7wffr"),D(s,"class","username svelte-1g7wffr"),D(n,"class","svelte-1g7wffr")},m(e,t){S(e,n,t),E(n,r),E(r,i),E(n,s),E(s,a)},p(e,[t]){1&t&&o!==(o="bullet "+e[0].value+" svelte-1g7wffr")&&D(r,"class",o),2&t&&q(a,e[1])},i:t,o:t,d(e){e&&_(n)}}}function zs(e,t,n){let{user:r}=t,{active:i}=t,o;return e.$set=e=>{"user"in e&&n(2,r=e.user),"active"in e&&n(0,i=e.active)},e.$$.update=()=>{1&e.$$.dirty&&console.log(i),4&e.$$.dirty&&n(1,o=Mr(r,""))},[i,o,r]}class Us extends rt{constructor(e){super(),nt(this,e,zs,Rs,c,{user:2,active:0})}}function qs(e){let t=e;return e&&"object"==typeof e&&(t=new e.constructor,Object.getOwnPropertyNames(e).forEach((n=>t[n]=qs(e[n])))),t}const Fs=()=>{let e=[];const{subscribe:t,set:n,update:r}=Jt(e),i=e=>{r((t=>t.filter((t=>t.id!==e.id))))},o=e=>r((t=>[...t,e])),s=e=>r((t=>[...t,...e]));return{subscribe:t,add:o,addarr:s,set:n,remove:i,clear:()=>n([])}},Bs=Fs(),Hs=Jt([]);function Ws(e){var t=new Error(e);return t.source="ulid",t}var Ys="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Gs=Ys.length,Vs=Math.pow(2,48)-1,Ks=10,Js=16;function Xs(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function Qs(e){for(var t=void 0,n=e.length,r=void 0,i=void 0,o=Gs-1;!t&&n-- >=0;){if(r=e[n],i=Ys.indexOf(r),-1===i)throw Ws("incorrectly encoded string");i!==o?t=Xs(e,n,Ys[i+1]):e=Xs(e,n,Ys[0])}if("string"==typeof t)return t;throw Ws("cannot increment this string")}function Zs(e){var t=Math.floor(e()*Gs);return t===Gs&&(t=Gs-1),Ys.charAt(t)}function ea(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>Vs)throw Ws("cannot encode time greater than "+Vs);if(e<0)throw Ws("time must be positive");if(!1===Number.isInteger(e))throw Ws("time must be an integer");for(var n=void 0,r="";t>0;t--)n=e%Gs,r=Ys.charAt(n)+r,e=(e-n)/Gs;return r}function ta(e,t){for(var n="";e>0;e--)n=Zs(t)+n;return n}function na(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var n=t&&(t.crypto||t.msCrypto);if(n)return function(){var e=new Uint8Array(1);return n.getRandomValues(e),e[0]/255};try{var r=require("crypto");return function(){return r.randomBytes(1).readUInt8()/255}}catch(e){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(e){}return function(){return Math.random()}}throw Ws("secure crypto unusable, insecure Math.random not allowed")}function ra(e){return e||(e=na()),function t(n){return isNaN(n)&&(n=Date.now()),ea(n,Ks)+ta(Js,e)}}function ia(e){e||(e=na());var t=0,n=void 0;return function r(i){if(isNaN(i)&&(i=Date.now()),i<=t){var o=n=Qs(n);return ea(t,Ks)+o}t=i;var s=n=ta(Js,e);return ea(i,Ks)+s}}var oa=ra();const sa=ia();class aa{constructor(e,t,n,r,i,o){this.id=sa(),this.author=e,this.to=t,this.content=n,this.senttime=r,this.readtime=i,this.read=o}}function ca(e,t,n){const r=e.slice();return r[12]=t[n],r}function ua(e,t,n){const r=e.slice();return r[0]=t[n],r}function la(e){let t,n=e[3].filter(va).length+"",r;return{c(){t=T("span"),r=N(n),D(t,"class","badge svelte-1u6s4z1")},m(e,n){S(e,t,n),E(t,r)},p(e,t){8&t&&n!==(n=e[3].filter(va).length+"")&&q(r,n)},d(e){e&&_(t)}}}function fa(e,t){let n,r,i,o;const s=new Us({props:{user:t[0].username,active:Ps.Active}});return{key:e,first:null,c(){n=T("span"),Qe(s.$$.fragment),r=A(),D(n,"class","svelte-1u6s4z1"),this.first=n},m(e,t){S(e,n,t),Ze(s,n,null),E(n,r),o=!0},p(e,t){const n={};16&t&&(n.user=e[0].username),s.$set(n)},i(e){o||(Pe(s.$$.fragment,e),Ee((()=>{i||(i=Fe(n,Ct,{},!0)),i.run(1)})),o=!0)},o(e){Re(s.$$.fragment,e),i||(i=Fe(n,Ct,{},!1)),i.run(0),o=!1},d(e){e&&_(n),et(s),e&&i&&i.end()}}}function da(e,n){let r,i,o,s=Mr(n[12].author,"")+"",a,c,u,l=ma(n[12].senttime)+"",f,d,h,p,g=n[12].content+"",v,y,w,b,x,C,$,k=t;return{key:e,first:null,c(){r=T("article"),i=T("div"),o=T("span"),a=N(s),c=A(),u=T("span"),f=N(l),d=A(),h=T("div"),v=A(),y=T("div"),b=A(),D(o,"class","username svelte-1u6s4z1"),D(u,"class","datetime svelte-1u6s4z1"),D(i,"class","msginfo svelte-1u6s4z1"),p=new K(v),D(y,"class",w=m(n[12].read?"doublecheckmark":"checkmark")+" svelte-1u6s4z1"),D(h,"class","msg svelte-1u6s4z1"),D(r,"class",x=m(n[12].author!==n[0]?"other":"")+" svelte-1u6s4z1"),this.first=r},m(e,t){S(e,r,t),E(r,i),E(i,o),E(o,a),E(i,c),E(i,u),E(u,f),E(r,d),E(r,h),p.m(g,h),E(h,v),E(h,y),E(r,b)},p(e,t){8&t&&s!==(s=Mr(e[12].author,"")+"")&&q(a,s),8&t&&l!==(l=ma(e[12].senttime)+"")&&q(f,l),8&t&&g!==(g=e[12].content+"")&&p.p(g),8&t&&w!==(w=m(e[12].read?"doublecheckmark":"checkmark")+" svelte-1u6s4z1")&&D(y,"class",w),9&t&&x!==(x=m(e[12].author!==e[0]?"other":"")+" svelte-1u6s4z1")&&D(r,"class",x)},r(){$=r.getBoundingClientRect()},f(){ie(r),k()},a(){k(),k=re(r,$,Yr,{duration:150})},i(e){e&&(C||Ee((()=>{C=Ue(r,Ct,{delay:125,duration:50}),C.start()})))},o:t,d(e){e&&_(r)}}}function ha(e){let t,n=e[3].filter(ga).length,r,i,o,a,c=[],u=new Map,l,f,d=[],h=new Map,p,g,v,y,w,b=n&&la(e),x=e[4];const C=e=>e[0].id;for(let t=0;t<x.length;t+=1){let n=ua(e,x,t),r=C(n);u.set(r,c[t]=fa(r,n))}let $=e[3];const k=e=>e[12].id;for(let t=0;t<$.length;t+=1){let n=ca(e,$,t),r=k(n);h.set(r,d[t]=da(r,n))}return{c(){t=T("button"),b&&b.c(),i=A(),o=T("div"),a=T("header");for(let e=0;e<c.length;e+=1)c[e].c();l=A(),f=T("div");for(let e=0;e<d.length;e+=1)d[e].c();p=A(),g=T("span"),D(t,"class",r=m(e[1]?"notifyBtn":"notifyBtnclose")+" svelte-1u6s4z1"),G(t,"blinking",e[3].filter(ya).length>0),D(a,"class","svelte-1u6s4z1"),D(f,"class","scrollable svelte-1u6s4z1"),D(g,"class","textarea svelte-1u6s4z1"),D(g,"role","textbox"),D(g,"contenteditable",""),D(o,"class","chat svelte-1u6s4z1"),G(o,"hidden",e[1])},m(n,r){S(n,t,r),b&&b.m(t,null),S(n,i,r),S(n,o,r),E(o,a);for(let e=0;e<c.length;e+=1)c[e].m(a,null);E(o,l),E(o,f);for(let e=0;e<d.length;e+=1)d[e].m(f,null);e[11](f),E(o,p),E(o,g),v=!0,y||(w=[M(t,"click",e[6]),M(g,"keyup",e[5])],y=!0)},p(e,[i]){if(8&i&&(n=e[3].filter(ga).length),n?b?b.p(e,i):(b=la(e),b.c(),b.m(t,null)):b&&(b.d(1),b=null),(!v||2&i&&r!==(r=m(e[1]?"notifyBtn":"notifyBtnclose")+" svelte-1u6s4z1"))&&D(t,"class",r),10&i&&G(t,"blinking",e[3].filter(ya).length>0),16&i){const t=e[4];Le(),c=Ve(c,i,C,1,e,t,u,a,We,fa,null,ua),De()}if(9&i){const t=e[3];for(let e=0;e<d.length;e+=1)d[e].r();d=Ve(d,i,k,1,e,t,h,f,Ye,da,null,ca);for(let e=0;e<d.length;e+=1)d[e].a()}2&i&&G(o,"hidden",e[1])},i(e){if(!v){for(let e=0;e<x.length;e+=1)Pe(c[e]);for(let e=0;e<$.length;e+=1)Pe(d[e]);v=!0}},o(e){for(let e=0;e<c.length;e+=1)Re(c[e]);v=!1},d(n){n&&_(t),b&&b.d(),n&&_(i),n&&_(o);for(let e=0;e<c.length;e+=1)c[e].d();for(let e=0;e<d.length;e+=1)d[e].d();e[11](null),y=!1,s(w)}}}function pa(){const e=new Date;return e.toISOString()}function ma(e){let t="";const n=new Date(e);return n.getTime()==n.getTime()&&(t=n.toLocaleTimeString()),t}const ga=e=>!1===e.read,va=e=>!1===e.read,ya=e=>!1===e.read;function wa(e,t,n){let r,i;l(e,Bs,(e=>n(9,r=e))),l(e,Hs,(e=>n(4,i=e)));const o=de();let{count:s=125}=t,{user:a}=t,c=!0,u,f;function d(e){if("Enter"===e.key){const t=e.target.innerText;if(!t)return;const n=new aa(a,"",t.trim(),pa(),void 0,!0);Bs.add(n);let r=qs(n);r.read=!1,o("emitmsg",r),e.target.innerHTML=""}}ce((()=>{f=u&&u.offsetHeight+u.scrollTop>u.scrollHeight-20})),le((()=>{f&&u.scrollTo(0,u.scrollHeight)}));const h=()=>{n(1,c=!c)};function p(e){ve[e?"unshift":"push"]((()=>{n(2,u=e)}))}let m;return e.$set=e=>{"count"in e&&n(7,s=e.count),"user"in e&&n(0,a=e.user)},e.$$.update=()=>{514&e.$$.dirty&&(c||(r.forEach((e=>e.read=!0)),Bs.set(r))),640&e.$$.dirty&&n(3,m=r.slice(-s))},[a,c,u,m,i,d,h,s,f,r,o,p]}class ba extends rt{constructor(e){super(),nt(this,e,wa,ha,c,{count:7,user:0})}}function xa(){const e=new Date;return e.toISOString()}function Ca(e,t){const n=xa();return{id:sa(),created:n,modified:[],text:n,template:e,messages:[$a(t)]}}function $a(e){let t,n=[{id:"01",label:"on air",value:"on-air",checked:!0},{id:"02",label:"website",value:"website",checked:!0},{id:"03",label:"Twitter",value:"twitter",checked:!0}];return Array.isArray(e)&&1===e.length&&(n=[{id:"01",label:"on air",value:"on-air",checked:e[0].tags.find((e=>"on-air"===e.value)).checked},{id:"02",label:"website",value:"website",checked:e[0].tags.find((e=>"website"===e.value)).checked},{id:"03",label:"Twitter",value:"twitter",checked:e[0].tags.find((e=>"twitter"===e.value)).checked}],t=e[0].template),{id:sa(),text:"",template:t,aired:[],dirty:!1,deleted:!1,protected:!1,selected:!1,tags:n}}class Ea{constructor(){this.audiocontext=new(window.AudioContext||window.webkitAudioContext),this.silentOscillator=null}Cue(e){var t=this;return new Promise((function(n,r){if(void 0!==t.audiocontext){const r=t.audiocontext.createGain();r.gain.value=0,r.connect(t.audiocontext.destination),t.silentOscillator=t.audiocontext.createOscillator(),t.silentOscillator.connect(r),t.silentOscillator.onended=()=>{n(!0)},t.silentOscillator.start(t.audiocontext.currentTime),t.silentOscillator.stop(t.audiocontext.currentTime+e)}else r("Sorry, but your browser doesn't support the Web Audio API")}))}Stop(){this.silentOscillator.stop(),this.silentOscillator=null}}var Sa=function e(t,n){return function e(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return t.apply(n,r)}},_a=Object.prototype.toString;function ka(e){return"[object Array]"===_a.call(e)}function Ta(e){return void 0===e}function Oa(e){return null!==e&&!Ta(e)&&null!==e.constructor&&!Ta(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function Na(e){return"[object ArrayBuffer]"===_a.call(e)}function Aa(e){return"undefined"!=typeof FormData&&e instanceof FormData}function Ia(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function Ma(e){return"string"==typeof e}function ja(e){return"number"==typeof e}function La(e){return null!==e&&"object"==typeof e}function Da(e){if("[object Object]"!==_a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Pa(e){return"[object Date]"===_a.call(e)}function Ra(e){return"[object File]"===_a.call(e)}function za(e){return"[object Blob]"===_a.call(e)}function Ua(e){return"[object Function]"===_a.call(e)}function qa(e){return La(e)&&Ua(e.pipe)}function Fa(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function Ba(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function Ha(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function Wa(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),ka(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function Ya(){var e={};function t(t,n){Da(e[n])&&Da(t)?e[n]=Ya(e[n],t):Da(t)?e[n]=Ya({},t):ka(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)Wa(arguments[n],t);return e}function Ga(e,t,n){return Wa(t,(function t(r,i){e[i]=n&&"function"==typeof r?Sa(r,n):r})),e}function Va(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}var Ka={isArray:ka,isArrayBuffer:Na,isBuffer:Oa,isFormData:Aa,isArrayBufferView:Ia,isString:Ma,isNumber:ja,isObject:La,isPlainObject:Da,isUndefined:Ta,isDate:Pa,isFile:Ra,isBlob:za,isFunction:Ua,isStream:qa,isURLSearchParams:Fa,isStandardBrowserEnv:Ha,forEach:Wa,merge:Ya,extend:Ga,trim:Ba,stripBOM:Va};function Ja(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Xa=function e(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(Ka.isURLSearchParams(n))i=n.toString();else{var o=[];Ka.forEach(n,(function e(t,n){null!=t&&(Ka.isArray(t)?n+="[]":t=[t],Ka.forEach(t,(function e(t){Ka.isDate(t)?t=t.toISOString():Ka.isObject(t)&&(t=JSON.stringify(t)),o.push(Ja(n)+"="+Ja(t))})))})),i=o.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t};function Qa(){this.handlers=[]}Qa.prototype.use=function e(t,n){return this.handlers.push({fulfilled:t,rejected:n}),this.handlers.length-1},Qa.prototype.eject=function e(t){this.handlers[t]&&(this.handlers[t]=null)},Qa.prototype.forEach=function e(t){Ka.forEach(this.handlers,(function e(n){null!==n&&t(n)}))};var Za=Qa,ec=function e(t,n,r){return Ka.forEach(r,(function e(r){t=r(t,n)})),t},tc=function e(t){return!(!t||!t.__CANCEL__)},nc=function e(t,n){Ka.forEach(t,(function e(r,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(t[n]=r,delete t[i])}))},rc=function e(t,n,r,i,o){return t.config=n,r&&(t.code=r),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},ic=function e(t,n,r,i,o){var s=new Error(t);return rc(s,n,r,i,o)},oc=function e(t,n,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?n(ic("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)},sc=Ka.isStandardBrowserEnv()?function e(){return{write:function e(t,n,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(n)),Ka.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Ka.isString(i)&&a.push("path="+i),Ka.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function e(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function e(t){this.write(t,"",Date.now()-864e5)}}}():{write:function e(){},read:function e(){return null},remove:function e(){}},ac=function e(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},cc=function e(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},uc=function e(t,n){return t&&!ac(n)?cc(t,n):n},lc=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],fc=function e(t){var n={},r,i,o;return t?(Ka.forEach(t.split("\n"),(function e(t){if(o=t.indexOf(":"),r=Ka.trim(t.substr(0,o)).toLowerCase(),i=Ka.trim(t.substr(o+1)),r){if(n[r]&&lc.indexOf(r)>=0)return;n[r]="set-cookie"===r?(n[r]?n[r]:[]).concat([i]):n[r]?n[r]+", "+i:i}})),n):n},dc=Ka.isStandardBrowserEnv()?function e(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function e(t){var n=Ka.isString(t)?i(t):t;return n.protocol===r.protocol&&n.host===r.host}}():function e(){return!0},hc=function e(t){return new Promise((function e(n,r){var i=t.data,o=t.headers;Ka.isFormData(i)&&delete o["Content-Type"];var s=new XMLHttpRequest;if(t.auth){var a=t.auth.username||"",c=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(a+":"+c)}var u=uc(t.baseURL,t.url);if(s.open(t.method.toUpperCase(),Xa(u,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,s.onreadystatechange=function e(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in s?fc(s.getAllResponseHeaders()):null,o=t.responseType&&"text"!==t.responseType?s.response:s.responseText,a={data:o,status:s.status,statusText:s.statusText,headers:i,config:t,request:s};oc(n,r,a),s=null}},s.onabort=function e(){s&&(r(ic("Request aborted",t,"ECONNABORTED",s)),s=null)},s.onerror=function e(){r(ic("Network Error",t,null,s)),s=null},s.ontimeout=function e(){var n="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(n=t.timeoutErrorMessage),r(ic(n,t,"ECONNABORTED",s)),s=null},Ka.isStandardBrowserEnv()){var l=(t.withCredentials||dc(u))&&t.xsrfCookieName?sc.read(t.xsrfCookieName):void 0;l&&(o[t.xsrfHeaderName]=l)}if("setRequestHeader"in s&&Ka.forEach(o,(function e(t,n){void 0===i&&"content-type"===n.toLowerCase()?delete o[n]:s.setRequestHeader(n,t)})),Ka.isUndefined(t.withCredentials)||(s.withCredentials=!!t.withCredentials),t.responseType)try{s.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&s.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function e(t){s&&(s.abort(),r(t),s=null)})),i||(i=null),s.send(i)}))},pc={"Content-Type":"application/x-www-form-urlencoded"};function mc(e,t){!Ka.isUndefined(e)&&Ka.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function gc(){var e;return("undefined"!=typeof XMLHttpRequest||void 0!==xo&&"[object process]"===Object.prototype.toString.call(xo))&&(e=hc),e}var vc={adapter:gc(),transformRequest:[function e(t,n){return nc(n,"Accept"),nc(n,"Content-Type"),Ka.isFormData(t)||Ka.isArrayBuffer(t)||Ka.isBuffer(t)||Ka.isStream(t)||Ka.isFile(t)||Ka.isBlob(t)?t:Ka.isArrayBufferView(t)?t.buffer:Ka.isURLSearchParams(t)?(mc(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Ka.isObject(t)?(mc(n,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function e(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ka.forEach(["delete","get","head"],(function e(t){vc.headers[t]={}})),Ka.forEach(["post","put","patch"],(function e(t){vc.headers[t]=Ka.merge(pc)}));var yc=vc;function wc(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var bc=function e(t){wc(t),t.headers=t.headers||{},t.data=ec(t.data,t.headers,t.transformRequest),t.headers=Ka.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Ka.forEach(["delete","get","head","post","put","patch","common"],(function e(n){delete t.headers[n]}));var n=t.adapter||yc.adapter;return n(t).then((function e(n){return wc(t),n.data=ec(n.data,n.headers,t.transformResponse),n}),(function e(n){return tc(n)||(wc(t),n&&n.response&&(n.response.data=ec(n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)}))},xc=function e(t,n){n=n||{};var r={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return Ka.isPlainObject(e)&&Ka.isPlainObject(t)?Ka.merge(e,t):Ka.isPlainObject(t)?Ka.merge({},t):Ka.isArray(t)?t.slice():t}function u(e){Ka.isUndefined(n[e])?Ka.isUndefined(t[e])||(r[e]=c(void 0,t[e])):r[e]=c(t[e],n[e])}Ka.forEach(i,(function e(t){Ka.isUndefined(n[t])||(r[t]=c(void 0,n[t]))})),Ka.forEach(o,u),Ka.forEach(s,(function e(i){Ka.isUndefined(n[i])?Ka.isUndefined(t[i])||(r[i]=c(void 0,t[i])):r[i]=c(void 0,n[i])})),Ka.forEach(a,(function e(i){i in n?r[i]=c(t[i],n[i]):i in t&&(r[i]=c(void 0,t[i]))}));var l=i.concat(o).concat(s).concat(a),f=Object.keys(t).concat(Object.keys(n)).filter((function e(t){return-1===l.indexOf(t)}));return Ka.forEach(f,u),r};function Cc(e){this.defaults=e,this.interceptors={request:new Za,response:new Za}}Cc.prototype.request=function e(t){"string"==typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=xc(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=[bc,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function e(t){n.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function e(t){n.push(t.fulfilled,t.rejected)}));n.length;)r=r.then(n.shift(),n.shift());return r},Cc.prototype.getUri=function e(t){return t=xc(this.defaults,t),Xa(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Ka.forEach(["delete","get","head","options"],(function e(t){Cc.prototype[t]=function(e,n){return this.request(xc(n||{},{method:t,url:e,data:(n||{}).data}))}})),Ka.forEach(["post","put","patch"],(function e(t){Cc.prototype[t]=function(e,n,r){return this.request(xc(r||{},{method:t,url:e,data:n}))}}));var $c=Cc;function Ec(e){this.message=e}Ec.prototype.toString=function e(){return"Cancel"+(this.message?": "+this.message:"")},Ec.prototype.__CANCEL__=!0;var Sc=Ec;function _c(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function e(n){t=n}));var n=this;e((function e(r){n.reason||(n.reason=new Sc(r),t(n.reason))}))}_c.prototype.throwIfRequested=function e(){if(this.reason)throw this.reason},_c.source=function e(){var t,n=new _c((function e(n){t=n}));return{token:n,cancel:t}};var kc=_c,Tc=function e(t){return function e(n){return t.apply(null,n)}},Oc=function e(t){return"object"==typeof t&&!0===t.isAxiosError};function Nc(e){var t=new $c(e),n=Sa($c.prototype.request,t);return Ka.extend(n,$c.prototype,t),Ka.extend(n,t),n}var Ac=Nc(yc);Ac.Axios=$c,Ac.create=function e(t){return Nc(xc(Ac.defaults,t))},Ac.Cancel=Sc,Ac.CancelToken=kc,Ac.isCancel=tc,Ac.all=function e(t){return Promise.all(t)},Ac.spread=Tc,Ac.isAxiosError=Oc;var Ic=Ac,Mc=Ac;Ic.default=Mc;var jc=Ic,Lc;function Dc(){}function Pc(){Pc.init.call(this)}function Rc(e){return void 0===e._maxListeners?Pc.defaultMaxListeners:e._maxListeners}function zc(e,t,n){if(t)e.call(n);else for(var r=e.length,i=Kc(e,r),o=0;o<r;++o)i[o].call(n)}function Uc(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=Kc(e,i),s=0;s<i;++s)o[s].call(n,r)}function qc(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,s=Kc(e,o),a=0;a<o;++a)s[a].call(n,r,i)}function Fc(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var s=e.length,a=Kc(e,s),c=0;c<s;++c)a[c].call(n,r,i,o)}function Bc(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=Kc(e,i),s=0;s<i;++s)o[s].apply(n,r)}function Hc(e,t,n,r){var i,o,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(o=e._events,o?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]):(o=e._events=new Dc,e._eventsCount=0),s){if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=Rc(e),i&&i>0&&s.length>i)){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,Wc(a)}}else s=o[t]=n,++e._eventsCount;return e}function Wc(e){"function"==typeof console.warn?console.warn(e):console.log(e)}function Yc(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function Gc(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Vc(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function Kc(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function Jc(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}Dc.prototype=Object.create(null),Pc.EventEmitter=Pc,Pc.usingDomains=!1,Pc.prototype.domain=void 0,Pc.prototype._events=void 0,Pc.prototype._maxListeners=void 0,Pc.defaultMaxListeners=10,Pc.init=function(){this.domain=null,Pc.usingDomains&&Lc.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Dc,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Pc.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Pc.prototype.getMaxListeners=function e(){return Rc(this)},Pc.prototype.emit=function e(t){var n,r,i,o,s,a,c,u="error"===t;if(a=this._events,a)u=u&&null==a.error;else if(!u)return!1;if(c=this.domain,u){if(n=arguments[1],!c){if(n instanceof Error)throw n;var l=new Error('Uncaught, unspecified "error" event. ('+n+")");throw l.context=n,l}return n||(n=new Error('Uncaught, unspecified "error" event')),n.domainEmitter=this,n.domain=c,n.domainThrown=!1,c.emit("error",n),!1}if(r=a[t],!r)return!1;var f="function"==typeof r;switch(i=arguments.length,i){case 1:zc(r,f,this);break;case 2:Uc(r,f,this,arguments[1]);break;case 3:qc(r,f,this,arguments[1],arguments[2]);break;case 4:Fc(r,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),s=1;s<i;s++)o[s-1]=arguments[s];Bc(r,f,this,o)}return!0},Pc.prototype.addListener=function e(t,n){return Hc(this,t,n,!1)},Pc.prototype.on=Pc.prototype.addListener,Pc.prototype.prependListener=function e(t,n){return Hc(this,t,n,!0)},Pc.prototype.once=function e(t,n){if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return this.on(t,Yc(this,t,n)),this},Pc.prototype.prependOnceListener=function e(t,n){if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Yc(this,t,n)),this},Pc.prototype.removeListener=function e(t,n){var r,i,o,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(r=i[t],!r)return this;if(r===n||r.listener&&r.listener===n)0==--this._eventsCount?this._events=new Dc:(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(o=-1,s=r.length;s-- >0;)if(r[s]===n||r[s].listener&&r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new Dc,this;delete i[t]}else Vc(r,o);i.removeListener&&this.emit("removeListener",t,a||n)}return this},Pc.prototype.removeAllListeners=function e(t){var n,r;if(r=this._events,!r)return this;if(!r.removeListener)return 0===arguments.length?(this._events=new Dc,this._eventsCount=0):r[t]&&(0==--this._eventsCount?this._events=new Dc:delete r[t]),this;if(0===arguments.length){for(var i=Object.keys(r),o=0,s;o<i.length;++o)s=i[o],"removeListener"!==s&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=new Dc,this._eventsCount=0,this}if(n=r[t],"function"==typeof n)this.removeListener(t,n);else if(n)do{this.removeListener(t,n[n.length-1])}while(n[0]);return this},Pc.prototype.listeners=function e(t){var n,r,i=this._events;return i?(n=i[t],r=n?"function"==typeof n?[n.listener||n]:Jc(n):[]):r=[],r},Pc.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Gc.call(e,t)},Pc.prototype.listenerCount=Gc,Pc.prototype.eventNames=function e(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Xc=[],Qc=[],Zc="undefined"!=typeof Uint8Array?Uint8Array:Array,eu=!1;function tu(){eu=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)Xc[t]=e[t],Qc[e.charCodeAt(t)]=t;Qc["-".charCodeAt(0)]=62,Qc["_".charCodeAt(0)]=63}function nu(e){var t,n,r,i,o,s;eu||tu();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[a-2]?2:"="===e[a-1]?1:0,s=new Zc(3*a/4-o),r=o>0?a-4:a;var c=0;for(t=0,n=0;t<r;t+=4,n+=3)i=Qc[e.charCodeAt(t)]<<18|Qc[e.charCodeAt(t+1)]<<12|Qc[e.charCodeAt(t+2)]<<6|Qc[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===o?(i=Qc[e.charCodeAt(t)]<<2|Qc[e.charCodeAt(t+1)]>>4,s[c++]=255&i):1===o&&(i=Qc[e.charCodeAt(t)]<<10|Qc[e.charCodeAt(t+1)]<<4|Qc[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}function ru(e){return Xc[e>>18&63]+Xc[e>>12&63]+Xc[e>>6&63]+Xc[63&e]}function iu(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(ru(r));return i.join("")}function ou(e){var t;eu||tu();for(var n=e.length,r=n%3,i="",o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(iu(e,a,a+s>c?c:a+s));return 1===r?(t=e[n-1],i+=Xc[t>>2],i+=Xc[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=Xc[t>>10],i+=Xc[t>>4&63],i+=Xc[t<<2&63],i+="="),o.push(i),o.join("")}function su(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=u}return(h?-1:1)*s*Math.pow(2,o-r)}function au(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+f>=1?d/c:d*Math.pow(2,1-f),t*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*m}var cu={}.toString,uu=Array.isArray||function(e){return"[object Array]"==cu.call(e)},lu=50;pu.TYPED_ARRAY_SUPPORT=void 0===Mi.TYPED_ARRAY_SUPPORT||Mi.TYPED_ARRAY_SUPPORT;var fu=du();function du(){return pu.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function hu(e,t){if(du()<t)throw new RangeError("Invalid typed array length");return pu.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=pu.prototype):(null===e&&(e=new pu(t)),e.length=t),e}function pu(e,t,n){if(!(pu.TYPED_ARRAY_SUPPORT||this instanceof pu))return new pu(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return yu(this,e)}return mu(this,e,t,n)}function mu(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?xu(e,t,n,r):"string"==typeof t?wu(e,t,n):Cu(e,t)}function gu(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function vu(e,t,n,r){return gu(t),t<=0?hu(e,t):void 0!==n?"string"==typeof r?hu(e,t).fill(n,r):hu(e,t).fill(n):hu(e,t)}function yu(e,t){if(gu(t),e=hu(e,t<0?0:0|$u(t)),!pu.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function wu(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!pu.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_u(t,n);e=hu(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function bu(e,t){var n=t.length<0?0:0|$u(t.length);e=hu(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function xu(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),pu.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=pu.prototype):e=bu(e,t),e}function Cu(e,t){if(Su(t)){var n=0|$u(t.length);return e=hu(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||al(t.length)?hu(e,0):bu(e,t);if("Buffer"===t.type&&uu(t.data))return bu(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function $u(e){if(e>=du())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+du().toString(16)+" bytes");return 0|e}function Eu(e){return+e!=e&&(e=0),pu.alloc(+e)}function Su(e){return!(null==e||!e._isBuffer)}function _u(e,t){if(Su(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return nl(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ol(e).length;default:if(r)return nl(e).length;t=(""+t).toLowerCase(),r=!0}}function ku(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return Bu(this,t,n);case"utf8":case"utf-8":return Ru(this,t,n);case"ascii":return qu(this,t,n);case"latin1":case"binary":return Fu(this,t,n);case"base64":return Pu(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hu(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function Tu(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ou(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=pu.from(t,r)),Su(t))return 0===t.length?-1:Nu(e,t,n,r,i);if("number"==typeof t)return t&=255,pu.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Nu(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Nu(e,t,n,r,i){var o=1,s=e.length,a=t.length,c;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,a/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(c=n;c<s;c++)if(u(e,c)===u(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===a)return l*o}else-1!==l&&(c-=c-l),l=-1}else for(n+a>s&&(n=s-a),c=n;c>=0;c--){for(var f=!0,d=0;d<a;d++)if(u(e,c+d)!==u(t,d)){f=!1;break}if(f)return c}return-1}function Au(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function Iu(e,t,n,r){return sl(nl(t,e.length-n),e,n,r)}function Mu(e,t,n,r){return sl(rl(t),e,n,r)}function ju(e,t,n,r){return Mu(e,t,n,r)}function Lu(e,t,n,r){return sl(ol(t),e,n,r)}function Du(e,t,n,r){return sl(il(t,e.length-n),e,n,r)}function Pu(e,t,n){return 0===t&&n===e.length?ou(e):ou(e.slice(t,n))}function Ru(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1,c,u,l,f;if(i+a<=n)switch(a){case 1:o<128&&(s=o);break;case 2:c=e[i+1],128==(192&c)&&(f=(31&o)<<6|63&c,f>127&&(s=f));break;case 3:c=e[i+1],u=e[i+2],128==(192&c)&&128==(192&u)&&(f=(15&o)<<12|(63&c)<<6|63&u,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],128==(192&c)&&128==(192&u)&&128==(192&l)&&(f=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&l,f>65535&&f<1114112&&(s=f))}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return Uu(r)}pu.poolSize=8192,pu._augment=function(e){return e.__proto__=pu.prototype,e},pu.from=function(e,t,n){return mu(null,e,t,n)},pu.TYPED_ARRAY_SUPPORT&&(pu.prototype.__proto__=Uint8Array.prototype,pu.__proto__=Uint8Array),pu.alloc=function(e,t,n){return vu(null,e,t,n)},pu.allocUnsafe=function(e){return yu(null,e)},pu.allocUnsafeSlow=function(e){return yu(null,e)},pu.isBuffer=cl,pu.compare=function e(t,n){if(!Su(t)||!Su(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,o=0,s=Math.min(r,i);o<s;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return r<i?-1:i<r?1:0},pu.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},pu.concat=function e(t,n){if(!uu(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return pu.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=pu.allocUnsafe(n),o=0;for(r=0;r<t.length;++r){var s=t[r];if(!Su(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},pu.byteLength=_u,pu.prototype._isBuffer=!0,pu.prototype.swap16=function e(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)Tu(this,n,n+1);return this},pu.prototype.swap32=function e(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)Tu(this,n,n+3),Tu(this,n+1,n+2);return this},pu.prototype.swap64=function e(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)Tu(this,n,n+7),Tu(this,n+1,n+6),Tu(this,n+2,n+5),Tu(this,n+3,n+4);return this},pu.prototype.toString=function e(){var t=0|this.length;return 0===t?"":0===arguments.length?Ru(this,0,t):ku.apply(this,arguments)},pu.prototype.equals=function e(t){if(!Su(t))throw new TypeError("Argument must be a Buffer");return this===t||0===pu.compare(this,t)},pu.prototype.inspect=function e(){var t="",n=lu;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},pu.prototype.compare=function e(t,n,r,i,o){if(!Su(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var s=o-i,a=r-n,c=Math.min(s,a),u=this.slice(i,o),l=t.slice(n,r),f=0;f<c;++f)if(u[f]!==l[f]){s=u[f],a=l[f];break}return s<a?-1:a<s?1:0},pu.prototype.includes=function e(t,n,r){return-1!==this.indexOf(t,n,r)},pu.prototype.indexOf=function e(t,n,r){return Ou(this,t,n,r,!0)},pu.prototype.lastIndexOf=function e(t,n,r){return Ou(this,t,n,r,!1)},pu.prototype.write=function e(t,n,r,i){if(void 0===n)i="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)i=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var o=this.length-n;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return Au(this,t,n,r);case"utf8":case"utf-8":return Iu(this,t,n,r);case"ascii":return Mu(this,t,n,r);case"latin1":case"binary":return ju(this,t,n,r);case"base64":return Lu(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Du(this,t,n,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},pu.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var zu=4096;function Uu(e){var t=e.length;if(t<=zu)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=zu));return n}function qu(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function Fu(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function Bu(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=tl(e[o]);return i}function Hu(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function Wu(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Yu(e,t,n,r,i,o){if(!Su(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Gu(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function Vu(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Ku(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Ju(e,t,n,r,i){return i||Ku(e,t,n,4),au(e,t,n,r,23,4),n+4}function Xu(e,t,n,r,i){return i||Ku(e,t,n,8),au(e,t,n,r,52,8),n+8}pu.prototype.slice=function e(t,n){var r=this.length,i;if(t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t),pu.TYPED_ARRAY_SUPPORT)i=this.subarray(t,n),i.__proto__=pu.prototype;else{var o=n-t;i=new pu(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+t]}return i},pu.prototype.readUIntLE=function e(t,n,r){t|=0,n|=0,r||Wu(t,n,this.length);for(var i=this[t],o=1,s=0;++s<n&&(o*=256);)i+=this[t+s]*o;return i},pu.prototype.readUIntBE=function e(t,n,r){t|=0,n|=0,r||Wu(t,n,this.length);for(var i=this[t+--n],o=1;n>0&&(o*=256);)i+=this[t+--n]*o;return i},pu.prototype.readUInt8=function e(t,n){return n||Wu(t,1,this.length),this[t]},pu.prototype.readUInt16LE=function e(t,n){return n||Wu(t,2,this.length),this[t]|this[t+1]<<8},pu.prototype.readUInt16BE=function e(t,n){return n||Wu(t,2,this.length),this[t]<<8|this[t+1]},pu.prototype.readUInt32LE=function e(t,n){return n||Wu(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},pu.prototype.readUInt32BE=function e(t,n){return n||Wu(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},pu.prototype.readIntLE=function e(t,n,r){t|=0,n|=0,r||Wu(t,n,this.length);for(var i=this[t],o=1,s=0;++s<n&&(o*=256);)i+=this[t+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*n)),i},pu.prototype.readIntBE=function e(t,n,r){t|=0,n|=0,r||Wu(t,n,this.length);for(var i=n,o=1,s=this[t+--i];i>0&&(o*=256);)s+=this[t+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*n)),s},pu.prototype.readInt8=function e(t,n){return n||Wu(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},pu.prototype.readInt16LE=function e(t,n){n||Wu(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},pu.prototype.readInt16BE=function e(t,n){n||Wu(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},pu.prototype.readInt32LE=function e(t,n){return n||Wu(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},pu.prototype.readInt32BE=function e(t,n){return n||Wu(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},pu.prototype.readFloatLE=function e(t,n){return n||Wu(t,4,this.length),su(this,t,!0,23,4)},pu.prototype.readFloatBE=function e(t,n){return n||Wu(t,4,this.length),su(this,t,!1,23,4)},pu.prototype.readDoubleLE=function e(t,n){return n||Wu(t,8,this.length),su(this,t,!0,52,8)},pu.prototype.readDoubleBE=function e(t,n){return n||Wu(t,8,this.length),su(this,t,!1,52,8)},pu.prototype.writeUIntLE=function e(t,n,r,i){if(t=+t,n|=0,r|=0,!i){var o=Math.pow(2,8*r)-1;Yu(this,t,n,r,o,0)}var s=1,a=0;for(this[n]=255&t;++a<r&&(s*=256);)this[n+a]=t/s&255;return n+r},pu.prototype.writeUIntBE=function e(t,n,r,i){if(t=+t,n|=0,r|=0,!i){var o=Math.pow(2,8*r)-1;Yu(this,t,n,r,o,0)}var s=r-1,a=1;for(this[n+s]=255&t;--s>=0&&(a*=256);)this[n+s]=t/a&255;return n+r},pu.prototype.writeUInt8=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,1,255,0),pu.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},pu.prototype.writeUInt16LE=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,2,65535,0),pu.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):Gu(this,t,n,!0),n+2},pu.prototype.writeUInt16BE=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,2,65535,0),pu.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):Gu(this,t,n,!1),n+2},pu.prototype.writeUInt32LE=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,4,4294967295,0),pu.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):Vu(this,t,n,!0),n+4},pu.prototype.writeUInt32BE=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,4,4294967295,0),pu.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):Vu(this,t,n,!1),n+4},pu.prototype.writeIntLE=function e(t,n,r,i){if(t=+t,n|=0,!i){var o=Math.pow(2,8*r-1);Yu(this,t,n,r,o-1,-o)}var s=0,a=1,c=0;for(this[n]=255&t;++s<r&&(a*=256);)t<0&&0===c&&0!==this[n+s-1]&&(c=1),this[n+s]=(t/a>>0)-c&255;return n+r},pu.prototype.writeIntBE=function e(t,n,r,i){if(t=+t,n|=0,!i){var o=Math.pow(2,8*r-1);Yu(this,t,n,r,o-1,-o)}var s=r-1,a=1,c=0;for(this[n+s]=255&t;--s>=0&&(a*=256);)t<0&&0===c&&0!==this[n+s+1]&&(c=1),this[n+s]=(t/a>>0)-c&255;return n+r},pu.prototype.writeInt8=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,1,127,-128),pu.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},pu.prototype.writeInt16LE=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,2,32767,-32768),pu.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):Gu(this,t,n,!0),n+2},pu.prototype.writeInt16BE=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,2,32767,-32768),pu.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):Gu(this,t,n,!1),n+2},pu.prototype.writeInt32LE=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,4,2147483647,-2147483648),pu.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):Vu(this,t,n,!0),n+4},pu.prototype.writeInt32BE=function e(t,n,r){return t=+t,n|=0,r||Yu(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),pu.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):Vu(this,t,n,!1),n+4},pu.prototype.writeFloatLE=function e(t,n,r){return Ju(this,t,n,!0,r)},pu.prototype.writeFloatBE=function e(t,n,r){return Ju(this,t,n,!1,r)},pu.prototype.writeDoubleLE=function e(t,n,r){return Xu(this,t,n,!0,r)},pu.prototype.writeDoubleBE=function e(t,n,r){return Xu(this,t,n,!1,r)},pu.prototype.copy=function e(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o=i-r,s;if(this===t&&r<n&&n<i)for(s=o-1;s>=0;--s)t[s+n]=this[s+r];else if(o<1e3||!pu.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)t[s+n]=this[s+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),n);return o},pu.prototype.fill=function e(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!pu.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var s;if(n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=n;s<r;++s)this[s]=t;else{var a=Su(t)?t:nl(new pu(t,i).toString()),c=a.length;for(s=0;s<r-n;++s)this[s+n]=a[s%c]}return this};var Qu=/[^+\/0-9A-Za-z-_]/g;function Zu(e){if(e=el(e).replace(Qu,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function el(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function tl(e){return e<16?"0"+e.toString(16):e.toString(16)}function nl(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function rl(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function il(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function ol(e){return nu(Zu(e))}function sl(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function al(e){return e!=e}function cl(e){return null!=e&&(!!e._isBuffer||ul(e)||ll(e))}function ul(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function ll(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&ul(e.slice(0,0))}var fl=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:lu,kMaxLength:fu,Buffer:pu,SlowBuffer:Eu,isBuffer:cl}),dl;dl="function"==typeof Object.create?function e(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function e(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t};var hl=dl,pl=/%[sdj%]/g;function ml(e){if(!jl(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(bl(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,o=String(e).replace(pl,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])Il(s)||!Pl(s)?o+=" "+s:o+=" "+bl(s);return o}function gl(e,t){if(Ll(Mi.process))return function(){return gl(e,t).apply(this,arguments)};if(!0===xo.noDeprecation)return e;var n=!1;function r(){if(!n){if(xo.throwDeprecation)throw new Error(t);xo.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}return r}var vl={},yl;function wl(e){if(Ll(yl)&&(yl=xo.env.NODE_DEBUG||""),e=e.toUpperCase(),!vl[e])if(new RegExp("\\b"+e+"\\b","i").test(yl)){var t=0;vl[e]=function(){var t=ml.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else vl[e]=function(){};return vl[e]}function bl(e,t){var n={seen:[],stylize:Cl};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),Al(t)?n.showHidden=t:t&&Fl(n,t),Ll(n.showHidden)&&(n.showHidden=!1),Ll(n.depth)&&(n.depth=2),Ll(n.colors)&&(n.colors=!1),Ll(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=xl),El(n,e,n.depth)}function xl(e,t){var n=bl.styles[t];return n?"["+bl.colors[n][0]+"m"+e+"["+bl.colors[n][1]+"m":e}function Cl(e,t){return e}function $l(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function El(e,t,n){if(e.customInspect&&t&&Ul(t.inspect)&&t.inspect!==bl&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return jl(r)||(r=El(e,r,n)),r}var i=Sl(e,t);if(i)return i;var o=Object.keys(t),s=$l(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),zl(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return _l(t);if(0===o.length){if(Ul(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Dl(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Rl(t))return e.stylize(Date.prototype.toString.call(t),"date");if(zl(t))return _l(t)}var c="",u=!1,l=["{","}"],f;if(Nl(t)&&(u=!0,l=["[","]"]),Ul(t)){var d=t.name?": "+t.name:"";c=" [Function"+d+"]"}return Dl(t)&&(c=" "+RegExp.prototype.toString.call(t)),Rl(t)&&(c=" "+Date.prototype.toUTCString.call(t)),zl(t)&&(c=" "+_l(t)),0!==o.length||u&&0!=t.length?n<0?Dl(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),f=u?kl(e,t,n,s,o):o.map((function(r){return Tl(e,t,n,s,r,u)})),e.seen.pop(),Ol(f,c,l)):l[0]+c+l[1]}function Sl(e,t){if(Ll(t))return e.stylize("undefined","undefined");if(jl(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return Ml(t)?e.stylize(""+t,"number"):Al(t)?e.stylize(""+t,"boolean"):Il(t)?e.stylize("null","null"):void 0}function _l(e){return"["+Error.prototype.toString.call(e)+"]"}function kl(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)Bl(t,String(s))?o.push(Tl(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(Tl(e,t,n,r,i,!0))})),o}function Tl(e,t,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),Bl(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=Il(n)?El(e,c.value,null):El(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n"))):a=e.stylize("[Circular]","special")),Ll(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function Ol(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function Nl(e){return Array.isArray(e)}function Al(e){return"boolean"==typeof e}function Il(e){return null===e}function Ml(e){return"number"==typeof e}function jl(e){return"string"==typeof e}function Ll(e){return void 0===e}function Dl(e){return Pl(e)&&"[object RegExp]"===ql(e)}function Pl(e){return"object"==typeof e&&null!==e}function Rl(e){return Pl(e)&&"[object Date]"===ql(e)}function zl(e){return Pl(e)&&("[object Error]"===ql(e)||e instanceof Error)}function Ul(e){return"function"==typeof e}function ql(e){return Object.prototype.toString.call(e)}function Fl(e,t){if(!t||!Pl(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function Bl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hl(){this.head=null,this.tail=null,this.length=0}bl.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},bl.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},Hl.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},Hl.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},Hl.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},Hl.prototype.clear=function(){this.head=this.tail=null,this.length=0},Hl.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},Hl.prototype.concat=function(e){if(0===this.length)return pu.alloc(0);if(1===this.length)return this.head.data;for(var t=pu.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),r+=n.data.length,n=n.next;return t};var Wl=St(fl),Yl=_t((function(e,t){var n=Wl.Buffer;function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=Wl:(r(Wl,t),t.Buffer=i),r(n,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Wl.SlowBuffer(e)}})),Gl=Yl.Buffer,Vl=Gl.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Kl(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Jl(e){var t=Kl(e);if("string"!=typeof t&&(Gl.isEncoding===Vl||!Vl(e)))throw new Error("Unknown encoding: "+e);return t||e}var Xl=Ql;function Ql(e){var t;switch(this.encoding=Jl(e),this.encoding){case"utf16le":this.text=sf,this.end=af,t=4;break;case"utf8":this.fillLast=nf,t=4;break;case"base64":this.text=cf,this.end=uf,t=3;break;default:return this.write=lf,void(this.end=ff)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Gl.allocUnsafe(t)}function Zl(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function ef(e,t,n){var r=t.length-1;if(r<n)return 0;var i=Zl(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=Zl(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=Zl(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}function tf(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function nf(e){var t=this.lastTotal-this.lastNeed,n=tf(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function rf(e,t){var n=ef(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function of(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function sf(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function af(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function cf(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function uf(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function lf(e){return e.toString(this.encoding)}function ff(e){return e&&e.length?this.write(e):""}Ql.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},Ql.prototype.end=of,Ql.prototype.text=rf,Ql.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},gf.ReadableState=mf;var df=wl("stream");function hf(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function pf(e,t){return e.listeners(t).length}function mf(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof ld&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new Hl,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Xl(e.encoding),this.encoding=e.encoding)}function gf(e){if(!(this instanceof gf))return new gf(e);this._readableState=new mf(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),Pc.call(this)}function vf(e,t,n,r,i){var o=Cf(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,$f(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var c;!t.decoder||i||r||(n=t.decoder.write(n),c=!t.objectMode&&0===n.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&Ef(e))),_f(e,t)}else i||(t.reading=!1);return yf(t)}function yf(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}hl(gf,Pc),gf.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding,t!==n.encoding&&(e=pu.from(e,t),t="")),vf(this,n,e,t,!1)},gf.prototype.unshift=function(e){var t=this._readableState;return vf(this,t,e,"",!0)},gf.prototype.isPaused=function(){return!1===this._readableState.flowing},gf.prototype.setEncoding=function(e){return this._readableState.decoder=new Xl(e),this._readableState.encoding=e,this};var wf=8388608;function bf(e){return e>=wf?e=wf:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function xf(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=bf(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function Cf(e,t){var n=null;return cl(t)||"string"==typeof t||null==t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function $f(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,Ef(e)}}function Ef(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(df("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Yi(Sf,e):Sf(e))}function Sf(e){df("emit readable"),e.emit("readable"),If(e)}function _f(e,t){t.readingMore||(t.readingMore=!0,Yi(kf,e,t))}function kf(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(df("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function Tf(e){return function(){var t=e._readableState;df("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,If(e))}}function Of(e){df("readable nexttick read 0"),e.read(0)}function Nf(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Yi(Af,e,t))}function Af(e,t){t.reading||(df("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),If(e),t.flowing&&!t.reading&&e.read(0)}function If(e){var t=e._readableState;for(df("flow",t.flowing);t.flowing&&null!==e.read(););}function Mf(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=jf(e,t.buffer,t.decoder),n);var n}function jf(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?Lf(e,t):Df(e,t),r}function Lf(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),e-=s,0===e){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}function Df(e,t){var n=pu.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),e-=s,0===e){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}function Pf(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Yi(Rf,t,e))}function Rf(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function zf(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function Uf(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function qf(){}function Ff(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function Bf(e,t){Object.defineProperty(this,"buffer",{get:gl((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof ld&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){Qf(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new sd(this)}function Hf(e){if(!(this instanceof Hf||this instanceof ld))return new Hf(e);this._writableState=new Bf(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),Pc.call(this)}function Wf(e,t){var n=new Error("write after end");e.emit("error",n),Yi(t,n)}function Yf(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):pu.isBuffer(n)||"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),Yi(r,o),i=!1),i}function Gf(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=pu.from(t,n)),t}function Vf(e,t,n,r,i){n=Gf(t,n,r),pu.isBuffer(n)&&(r="buffer");var o=t.objectMode?1:n.length;t.length+=o;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new Ff(n,r,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Kf(e,t,!1,o,n,r,i);return s}function Kf(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Jf(e,t,n,r,i){--t.pendingcb,n?Yi(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function Xf(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Qf(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(Xf(n),t)Jf(e,n,r,t,i);else{var o=nd(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||td(e,n),r?Yi(Zf,e,n,o,i):Zf(e,n,o,i)}}function Zf(e,t,n,r){n||ed(e,t),t.pendingcb--,r(),id(e,t)}function ed(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function td(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0;n;)i[s]=n,n=n.next,s+=1;Kf(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new sd(t)}else{for(;n;){var a=n.chunk,c=n.encoding,u=n.callback,l=t.objectMode?1:a.length;if(Kf(e,t,!1,l,a,c,u),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function nd(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function rd(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function id(e,t){var n=nd(t);return n&&(0===t.pendingcb?(rd(e,t),t.finished=!0,e.emit("finish")):rd(e,t)),n}function od(e,t,n){t.ending=!0,id(e,t),n&&(t.finished?Yi(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function sd(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}gf.prototype.read=function(e){df("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return df("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Pf(this):Ef(this),null;if(e=xf(e,t),0===e&&t.ended)return 0===t.length&&Pf(this),null;var r=t.needReadable,i;return df("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,df("length less than watermark",r)),t.ended||t.reading?(r=!1,df("reading or ended",r)):r&&(df("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=xf(n,t))),i=e>0?Mf(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Pf(this)),null!==i&&this.emit("data",i),i},gf.prototype._read=function(e){this.emit("error",new Error("not implemented"))},gf.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,df("pipe count=%d opts=%j",r.pipesCount,t);var i=!t||!1!==t.end,o=i?a:l;function s(e){df("onunpipe"),e===n&&l()}function a(){df("onend"),e.end()}r.endEmitted?Yi(o):n.once("end",o),e.on("unpipe",s);var c=Tf(n);e.on("drain",c);var u=!1;function l(){df("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",a),n.removeListener("end",l),n.removeListener("data",d),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}var f=!1;function d(t){df("ondata"),f=!1;var i=e.write(t);!1!==i||f||((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==Uf(r.pipes,e))&&!u&&(df("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function h(t){df("onerror",t),g(),e.removeListener("error",h),0===pf(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",m),g()}function m(){df("onfinish"),e.removeListener("close",p),g()}function g(){df("unpipe"),n.unpipe(e)}return n.on("data",d),hf(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",n),r.flowing||(df("pipe resume"),n.resume()),e},gf.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=Uf(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},gf.prototype.on=function(e,t){var n=Pc.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&Ef(this):Yi(Of,this))}return n},gf.prototype.addListener=gf.prototype.on,gf.prototype.resume=function(){var e=this._readableState;return e.flowing||(df("resume"),e.flowing=!0,Nf(this,e)),this},gf.prototype.pause=function(){return df("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(df("pause"),this._readableState.flowing=!1,this.emit("pause")),this},gf.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var i in e.on("end",(function(){if(df("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)})),e.on("data",(function(i){if(df("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!=i)&&(t.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,e.pause())}})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return zf(o,(function(t){e.on(t,r.emit.bind(r,t))})),r._read=function(t){df("wrapped _read",t),n&&(n=!1,e.resume())},r},gf._fromList=Mf,Hf.WritableState=Bf,hl(Hf,Pc),Bf.prototype.getBuffer=function e(){for(var t=this.bufferedRequest,n=[];t;)n.push(t),t=t.next;return n},Hf.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Hf.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),pu.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=qf),r.ended?Wf(this,n):Yf(this,r,e,n)&&(r.pendingcb++,i=Vf(this,r,e,t,n)),i},Hf.prototype.cork=function(){var e=this._writableState;e.corked++},Hf.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||td(this,e))},Hf.prototype.setDefaultEncoding=function e(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Hf.prototype._write=function(e,t,n){n(new Error("not implemented"))},Hf.prototype._writev=null,Hf.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||od(this,r,n)},hl(ld,gf);for(var ad=Object.keys(Hf.prototype),cd=0;cd<ad.length;cd++){var ud=ad[cd];ld.prototype[ud]||(ld.prototype[ud]=Hf.prototype[ud])}function ld(e){if(!(this instanceof ld))return new ld(e);gf.call(this,e),Hf.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",fd)}function fd(){this.allowHalfOpen||this._writableState.ended||Yi(dd,this)}function dd(e){e.end()}function hd(e){this.afterTransform=function(t,n){return pd(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function pd(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!=n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function md(e){if(!(this instanceof md))return new md(e);ld.call(this,e),this._transformState=new hd(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){gd(t,e)})):gd(t)}))}function gd(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function vd(e){if(!(this instanceof vd))return new vd(e);md.call(this,e)}function yd(){Pc.call(this)}hl(md,ld),md.prototype.push=function(e,t){return this._transformState.needTransform=!1,ld.prototype.push.call(this,e,t)},md.prototype._transform=function(e,t,n){throw new Error("Not implemented")},md.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},md.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},hl(vd,md),vd.prototype._transform=function(e,t,n){n(null,e)},hl(yd,Pc),yd.Readable=gf,yd.Writable=Hf,yd.Duplex=ld,yd.Transform=md,yd.PassThrough=vd,yd.Stream=yd,yd.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===Pc.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e};var wd=Object.freeze({__proto__:null,default:yd,Readable:gf,Writable:Hf,Duplex:ld,Transform:md,PassThrough:vd,Stream:yd}),bd=St(wd),xd=_t((function(e){!function t(n,r,i,o){r[n]=i.call(r);for(var s=0;s<o.length;s++)o[s](r[n]);e.exports&&(e.exports=r[n])}("Primus",Et||{},(function e(){var t=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c=kt;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){var n=t[s][1][e];return i(n||e)}),l,l.exports,e,t,n,r)}return n[s].exports}for(var o=kt,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){t.exports=function e(t,n){var r=/[, ]+/;function i(e,t){if(n[e]){if("string"==typeof n[e]&&(n[e]=n[e].split(r)),"function"==typeof n[e])return n[e].call(t);for(var i=0,o,s;i<n[e].length;i++)s=n[e][i],o=typeof s,"function"===o?s.call(t):"string"===o&&"function"==typeof t[s]&&t[s]()}}return n=n||{},t=t||[],"string"==typeof t&&(t=t.split(r)),function e(){var n=this,r=0,o;if(null===n[t[0]])return!1;for(i("before",n);r<t.length;r++)o=t[r],n[o]&&("function"==typeof n[o].destroy&&n[o].destroy(),n[o]=null);return n.emit&&n.emit("destroy"),i("after",n),!0}}},{}],2:[function(e,t,n){t.exports=function e(){for(var t=this,n,r=0,i=arguments.length,o=new Array(i);r<i;r++)o[r]=arguments[r];return"function"!=typeof o[o.length-1]?function e(){for(var n=0,r=arguments.length,i=new Array(r);n<r;n++)i[n]=arguments[n];return t.emit.apply(t,o.concat(i))}:(n=o.pop(),function e(){for(var r=0,i=arguments.length,s=new Array(i+1);r<i;r++)s[r+1]=arguments[r];return s[0]=function e(n,r){if(n)return t.emit("error",n);s=void 0===r?s.slice(1):null===r?[]:r,t.emit.apply(t,o.concat(s))},n.apply(t,s),!0})}},{}],3:[function(e,t,n){var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function e(){var t=[],n,o;if(0===this._eventsCount)return t;for(o in n=this._events)r.call(n,o)&&t.push(i?o.slice(1):o);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t},a.prototype.listeners=function e(t,n){var r=i?i+t:t,o=this._events[r];if(n)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var s=0,a=o.length,c=new Array(a);s<a;s++)c[s]=o[s].fn;return c},a.prototype.emit=function e(t,n,r,o,s,a){var c=i?i+t:t;if(!this._events[c])return!1;var u=this._events[c],l=arguments.length,f,d;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,n),!0;case 3:return u.fn.call(u.context,n,r),!0;case 4:return u.fn.call(u.context,n,r,o),!0;case 5:return u.fn.call(u.context,n,r,o,s),!0;case 6:return u.fn.call(u.context,n,r,o,s,a),!0}for(d=1,f=new Array(l-1);d<l;d++)f[d-1]=arguments[d];u.fn.apply(u.context,f)}else{var h=u.length,p;for(d=0;d<h;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),l){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,n);break;case 3:u[d].fn.call(u[d].context,n,r);break;case 4:u[d].fn.call(u[d].context,n,r,o);break;default:if(!f)for(p=1,f=new Array(l-1);p<l;p++)f[p-1]=arguments[p];u[d].fn.apply(u[d].context,f)}}return!0},a.prototype.on=function e(t,n,r){var o=new s(n,r||this),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function e(t,n,r){var o=new s(n,r||this,!0),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function e(t,n,r,s){var a=i?i+t:t;if(!this._events[a])return this;if(!n)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var c=this._events[a];if(c.fn)c.fn!==n||s&&!c.once||r&&c.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,l=[],f=c.length;u<f;u++)(c[u].fn!==n||s&&!c[u].once||r&&c[u].context!==r)&&l.push(c[u]);l.length?this._events[a]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function e(t){var n;return t?(n=i?i+t:t,this._events[n]&&(0==--this._eventsCount?this._events=new o:delete this._events[n])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function e(){return this},a.prefixed=i,a.EventEmitter=a,void 0!==t&&(t.exports=a)},{}],4:[function(e,t,n){"function"==typeof Object.create?t.exports=function e(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function e(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],5:[function(e,t,n){var r=new RegExp("^((?:\\d+)?\\.?\\d+) *("+["milliseconds?","msecs?","ms","seconds?","secs?","s","minutes?","mins?","m","hours?","hrs?","h","days?","d","weeks?","wks?","w","years?","yrs?","y"].join("|")+")?$","i"),i=1e3,o=6e4,s=36e5,a=24*s,c=7*a,u=365*a;t.exports=function e(t){var n=typeof t,l,f;if("number"===n)return t;if("string"!==n||"0"===t||!t)return 0;if(+t)return+t;if(t.length>1e4||!(f=r.exec(t)))return 0;switch(l=parseFloat(f[1]),f[2].toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*u;case"weeks":case"week":case"wks":case"wk":case"w":return l*c;case"days":case"day":case"d":return l*a;case"hours":case"hour":case"hrs":case"hr":case"h":return l*s;case"minutes":case"minute":case"mins":case"min":case"m":return l*o;case"seconds":case"second":case"secs":case"sec":case"s":return l*i;default:return l}}},{}],6:[function(e,t,n){t.exports=function e(t){var n=0,r;function i(){return n||(n=1,r=t.apply(this,arguments),t=null),r}return i.displayName=t.displayName||t.name||i.displayName||i.name,i}},{}],7:[function(e,t,n){var r=Object.prototype.hasOwnProperty;function i(e){for(var t=/([^=?&]+)=?([^&]*)/g,n={},r;r=t.exec(e);n[decodeURIComponent(r[1])]=decodeURIComponent(r[2]));return n}function o(e,t){t=t||"";var n=[];for(var i in"string"!=typeof t&&(t="?"),e)r.call(e,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n.length?t+n.join("&"):""}n.stringify=o,n.parse=i},{}],8:[function(e,t,n){var r=e("eventemitter3"),i=e("millisecond"),o=e("demolish"),s=e("tick-tock"),a=e("one-time");function c(e,t,n){return i(e in n?n[e]:e in t?t[e]:u[e])}function u(e){var t=this;if(!(t instanceof u))return new u(e);e=e||{},t.attempt=null,t._fn=null,t["reconnect timeout"]=c("reconnect timeout",t,e),t.retries=c("retries",t,e),t.factor=c("factor",t,e),t.max=c("max",t,e),t.min=c("min",t,e),t.timers=new s(t)}u.prototype=new r,u.prototype.constructor=u,u["reconnect timeout"]="30 seconds",u.max=1/0,u.min="500 ms",u.retries=10,u.factor=2,u.prototype.reconnect=function e(){var t=this;return t.backoff((function e(n,r){if(r.duration=+new Date-r.start,n)return t.emit("reconnect failed",n,r);t.emit("reconnected",r)}),t.attempt)},u.prototype.backoff=function e(t,n){var r=this;return n=n||r.attempt||{},n.backoff?r:(n["reconnect timeout"]=c("reconnect timeout",r,n),n.retries=c("retries",r,n),n.factor=c("factor",r,n),n.max=c("max",r,n),n.min=c("min",r,n),n.start=+n.start||+new Date,n.duration=+n.duration||0,n.attempt=+n.attempt||0,n.attempt===n.retries?(t.call(r,new Error("Unable to recover"),n),r):(n.backoff=!0,n.attempt++,r.attempt=n,n.scheduled=1!==n.attempt?Math.min(Math.round((Math.random()+1)*n.min*Math.pow(n.factor,n.attempt-1)),n.max):n.min,r.timers.setTimeout("reconnect",(function e(){n.duration=+new Date-n.start,n.backoff=!1,r.timers.clear("reconnect, timeout");var i=r._fn=a((function e(i){if(r.reset(),i)return r.backoff(t,n);t.call(r,void 0,n)}));r.emit("reconnect",n,i),r.timers.setTimeout("timeout",(function e(){var t=new Error("Failed to reconnect in a timely manner");n.duration=+new Date-n.start,r.emit("reconnect timeout",t,n),i(t)}),n["reconnect timeout"])}),n.scheduled),r.emit("reconnect scheduled",n),r))},u.prototype.reconnecting=function e(){return!!this.attempt},u.prototype.reconnected=function e(t){return this._fn&&this._fn(t),this},u.prototype.reset=function e(){return this._fn=this.attempt=null,this.timers.clear("reconnect, timeout"),this},u.prototype.destroy=o("timers attempt _fn"),t.exports=u},{demolish:1,eventemitter3:9,millisecond:5,"one-time":6,"tick-tock":11}],9:[function(e,t,n){var r="function"!=typeof Object.create&&"~";function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){}o.prototype._events=void 0,o.prototype.listeners=function e(t,n){var i=r?r+t:t,o=this._events&&this._events[i];if(n)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var s=0,a=o.length,c=new Array(a);s<a;s++)c[s]=o[s].fn;return c},o.prototype.emit=function e(t,n,i,o,s,a){var c=r?r+t:t;if(!this._events||!this._events[c])return!1;var u=this._events[c],l=arguments.length,f,d;if("function"==typeof u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,n),!0;case 3:return u.fn.call(u.context,n,i),!0;case 4:return u.fn.call(u.context,n,i,o),!0;case 5:return u.fn.call(u.context,n,i,o,s),!0;case 6:return u.fn.call(u.context,n,i,o,s,a),!0}for(d=1,f=new Array(l-1);d<l;d++)f[d-1]=arguments[d];u.fn.apply(u.context,f)}else{var h=u.length,p;for(d=0;d<h;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),l){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,n);break;case 3:u[d].fn.call(u[d].context,n,i);break;default:if(!f)for(p=1,f=new Array(l-1);p<l;p++)f[p-1]=arguments[p];u[d].fn.apply(u[d].context,f)}}return!0},o.prototype.on=function e(t,n,o){var s=new i(n,o||this),a=r?r+t:t;return this._events||(this._events=r?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],s]:this._events[a].push(s):this._events[a]=s,this},o.prototype.once=function e(t,n,o){var s=new i(n,o||this,!0),a=r?r+t:t;return this._events||(this._events=r?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],s]:this._events[a].push(s):this._events[a]=s,this},o.prototype.removeListener=function e(t,n,i,o){var s=r?r+t:t;if(!this._events||!this._events[s])return this;var a=this._events[s],c=[];if(n)if(a.fn)(a.fn!==n||o&&!a.once||i&&a.context!==i)&&c.push(a);else for(var u=0,l=a.length;u<l;u++)(a[u].fn!==n||o&&!a[u].once||i&&a[u].context!==i)&&c.push(a[u]);return c.length?this._events[s]=1===c.length?c[0]:c:delete this._events[s],this},o.prototype.removeAllListeners=function e(t){return this._events?(t?delete this._events[r?r+t:t]:this._events=r?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function e(){return this},o.prefixed=r,void 0!==t&&(t.exports=o)},{}],10:[function(e,t,n){t.exports=function e(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],11:[function(e,t,n){var r=Object.prototype.hasOwnProperty,i=e("millisecond");function o(e,t,n,r){this.start=+new Date,this.duration=n,this.clear=t,this.timer=e,this.fns=[r]}function s(e){clearTimeout(e)}function a(e){clearInterval(e)}function c(e){clearImmediate(e)}function u(e){if(!(this instanceof u))return new u(e);this.timers={},this.context=e||this}o.prototype.remaining=function e(){return this.duration-this.taken()},o.prototype.taken=function e(){return+new Date-this.start},u.prototype.tock=function e(t,n){var r=this;return function e(){if(t in r.timers){var i=r.timers[t],o=i.fns.slice(),s=o.length,a=0;for(n?r.clear(t):r.start=+new Date;a<s;a++)o[a].call(r.context)}}},u.prototype.setTimeout=function e(t,n,r){var a=this,c;return a.timers[t]?(a.timers[t].fns.push(n),a):(c=i(r),a.timers[t]=new o(setTimeout(a.tock(t,!0),i(r)),s,c,n),a)},u.prototype.setInterval=function e(t,n,r){var s=this,c;return s.timers[t]?(s.timers[t].fns.push(n),s):(c=i(r),s.timers[t]=new o(setInterval(s.tock(t),i(r)),a,c,n),s)},u.prototype.setImmediate=function e(t,n){var r=this;return"function"!=typeof setImmediate?r.setTimeout(t,n,0):r.timers[t]?(r.timers[t].fns.push(n),r):(r.timers[t]=new o(setImmediate(r.tock(t,!0)),c,0,n),r)},u.prototype.active=function e(t){return t in this.timers},u.prototype.clear=function e(){var t=arguments.length?arguments:[],n=this,i,o,s;if(1===t.length&&"string"==typeof t[0]&&(t=t[0].split(/[, ]+/)),!t.length)for(i in n.timers)r.call(n.timers,i)&&t.push(i);for(o=0,s=t.length;o<s;o++)i=n.timers[t[o]],i&&(i.clear(i.timer),i.fns=i.timer=i.clear=null,delete n.timers[t[o]]);return n},u.prototype.adjust=function e(t,n){var r,o=this,s=i(n),c=o.timers[t];return c?(r=c.clear===a,c.clear(c.timer),c.start=+new Date,c.duration=s,c.timer=(r?setInterval:setTimeout)(o.tock(t,!r),s),o):o},u.prototype.end=u.prototype.destroy=function e(){return!!this.context&&(this.clear(),this.context=this.timers=null,!0)},u.Timer=o,t.exports=u},{millisecond:5}],12:[function(e,t,n){var r=e("requires-port"),i=e("./lolcation"),o=e("querystringify"),s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]];function c(e){var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function u(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}function l(e,t,n){if(!(this instanceof l))return new l(e,t,n);var s,f,d,h,p,m,g=a.slice(),v=typeof t,y=this,w=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=i(t),f=c(e||""),s=!f.protocol&&!f.slashes,y.slashes=f.slashes||s&&t.slashes,y.protocol=f.protocol||t.protocol||"",e=f.rest,f.slashes||(g[2]=[/(.*)/,"pathname"]);w<g.length;w++)h=g[w],d=h[0],m=h[1],d!=d?y[m]=e:"string"==typeof d?~(p=e.indexOf(d))&&("number"==typeof h[2]?(y[m]=e.slice(0,p),e=e.slice(p+h[2])):(y[m]=e.slice(p),e=e.slice(0,p))):(p=d.exec(e))&&(y[m]=p[1],e=e.slice(0,p.index)),y[m]=y[m]||s&&h[3]&&t[m]||"",h[4]&&(y[m]=y[m].toLowerCase());n&&(y.query=n(y.query)),s&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=u(y.pathname,t.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(h=y.auth.split(":"),y.username=h[0]||"",y.password=h[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}l.prototype.set=function e(t,n,i){var s=this;switch(t){case"query":"string"==typeof n&&n.length&&(n=(i||o.parse)(n)),s[t]=n;break;case"port":s[t]=n,r(n,s.protocol)?n&&(s.host=s.hostname+":"+n):(s.host=s.hostname,s[t]="");break;case"hostname":s[t]=n,s.port&&(n+=":"+s.port),s.host=n;break;case"host":s[t]=n,/:\d+$/.test(n)?(n=n.split(":"),s.port=n.pop(),s.hostname=n.join(":")):(s.hostname=n,s.port="");break;case"protocol":s.protocol=n.toLowerCase(),s.slashes=!i;break;case"pathname":s.pathname=n.length&&"/"!==n.charAt(0)?"/"+n:n;break;default:s[t]=n}for(var c=0;c<a.length;c++){var u=a[c];u[4]&&(s[u[1]]=s[u[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},l.prototype.toString=function e(t){t&&"function"==typeof t||(t=o.stringify);var n,r=this,i=r.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var s=i+(r.slashes?"//":"");return r.username&&(s+=r.username,r.password&&(s+=":"+r.password),s+="@"),s+=r.host+r.pathname,n="object"==typeof r.query?t(r.query):r.query,n&&(s+="?"!==n.charAt(0)?"?"+n:n),r.hash&&(s+=r.hash),s},l.extractProtocol=c,l.location=i,l.qs=o,t.exports=l},{"./lolcation":13,querystringify:7,"requires-port":10}],13:[function(e,t,n){(function(n){var r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i={hash:1,query:1},o;t.exports=function t(s){s=s||n.location||{},o=o||e("./");var a={},c=typeof s,u;if("blob:"===s.protocol)a=new o(unescape(s.pathname),{});else if("string"===c)for(u in a=new o(s,{}),i)delete a[u];else if("object"===c){for(u in s)u in i||(a[u]=s[u]);void 0===a.slashes&&(a.slashes=r.test(s.href))}return a}}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":12}],14:[function(e,t,n){var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,o={},s=0,a=0,c;function u(e){var t="";do{t=r[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function l(e){var t=0;for(a=0;a<e.length;a++)t=t*i+o[e.charAt(a)];return t}function f(){var e=u(+new Date);return e!==c?(s=0,c=e):e+"."+u(s++)}for(;a<i;a++)o[r[a]]=a;f.encode=u,f.decode=l,t.exports=f},{}],15:[function(e,t,n){var r=e("eventemitter3"),i=e("tick-tock"),o=e("recovery"),s=e("querystringify"),a=e("inherits"),c=e("demolish"),u=e("yeast"),l=/\u2028/g,f=/\u2029/g,d;function h(e,t){if(!(e instanceof p)){var n=new Error("Primus#"+t+"'s context should called with a Primus instance");if("function"!=typeof e.listeners||!e.listeners("error").length)throw n;e.emit("error",n)}}try{d=location.origin?location.origin:location.protocol+"//"+location.host}catch(e){d="http://127.0.0.1"}function p(e,t){if(!(this instanceof p))return new p(e,t);if(p.Stream.call(this),"function"!=typeof this.client){var n="The client library has not been compiled correctly, see https://github.com/primus/primus#client-library for more details";return this.critical(new Error(n))}"object"==typeof e?(t=e,e=t.url||t.uri||d):t=t||{};var r=this;t.queueSize="queueSize"in t?t.queueSize:1/0,t.timeout="timeout"in t?t.timeout:1e4,t.reconnect="reconnect"in t?t.reconnect:{},t.ping="ping"in t?t.ping:25e3,t.pong="pong"in t?t.pong:1e4,t.strategy="strategy"in t?t.strategy:[],t.transport="transport"in t?t.transport:{},r.buffer=[],r.writable=!0,r.readable=!0,r.url=r.parse(e||d),r.readyState=p.CLOSED,r.options=t,r.timers=new i(this),r.socket=null,r.latency=0,r.disconnect=!1,r.transport=t.transport,r.transformers={outgoing:[],incoming:[]},r.recovery=new o(t.reconnect),"string"==typeof t.strategy&&(t.strategy=t.strategy.split(/\s?\,\s?/g)),!1===t.strategy?t.strategy=[]:t.strategy.length||(t.strategy.push("disconnect","online"),this.authorization||t.strategy.push("timeout")),t.strategy=t.strategy.join(",").toLowerCase(),"websockets"in t&&(r.AVOID_WEBSOCKETS=!t.websockets),"network"in t&&(r.NETWORK_EVENTS=t.network),t.manual||r.timers.setTimeout("open",(function e(){r.timers.clear("open"),r.open()}),0),r.initialise(t)}p.requires=p.require=function t(n){if("function"==typeof e)return e(n)};try{p.Stream=p.requires("stream")}catch(e){}p.Stream||(p.Stream=r),a(p,p.Stream),p.OPENING=1,p.CLOSED=2,p.OPEN=3,p.prototype.AVOID_WEBSOCKETS=!1,p.prototype.NETWORK_EVENTS=!1,p.prototype.online=!0;try{(p.prototype.NETWORK_EVENTS="onLine"in navigator&&(window.addEventListener||document.body.attachEvent))&&(navigator.onLine||(p.prototype.online=!1))}catch(e){}if(p.prototype.ark={},p.prototype.emits=e("emits"),p.prototype.plugin=function e(t){if(h(this,"plugin"),t)return this.ark[t];var n={};for(t in this.ark)n[t]=this.ark[t];return n},p.prototype.reserved=function e(t){return/^(incoming|outgoing)::/.test(t)||t in this.reserved.events},p.prototype.reserved.events={"reconnect scheduled":1,"reconnect timeout":1,readyStateChange:1,"reconnect failed":1,reconnected:1,reconnect:1,offline:1,timeout:1,destroy:1,online:1,error:1,close:1,open:1,data:1,end:1},p.prototype.initialise=function e(t){var n=this,r;for(var i in n.recovery.on("reconnected",n.emits("reconnected")).on("reconnect failed",n.emits("reconnect failed",(function e(t){n.emit("end"),t()}))).on("reconnect timeout",n.emits("reconnect timeout")).on("reconnect scheduled",n.emits("reconnect scheduled")).on("reconnect",n.emits("reconnect",(function e(t){n.emit("outgoing::reconnect"),t()}))),n.on("outgoing::open",(function e(){var t=n.readyState;n.readyState=p.OPENING,t!==n.readyState&&n.emit("readyStateChange","opening"),r=+new Date})),n.on("incoming::open",(function e(){var t=n.readyState;if(n.recovery.reconnecting()&&n.recovery.reconnected(),n.writable=!0,n.readable=!0,n.online||(n.online=!0,n.emit("online")),n.readyState=p.OPEN,t!==n.readyState&&n.emit("readyStateChange","open"),n.latency=+new Date-r,n.timers.clear("ping","pong"),n.heartbeat(),n.buffer.length){var i=n.buffer.slice(),o=i.length,s=0;for(n.buffer.length=0;s<o;s++)n._write(i[s])}n.emit("open")})),n.on("incoming::pong",(function e(t){n.online=!0,n.timers.clear("pong"),n.heartbeat(),n.latency=+new Date-t})),n.on("incoming::error",(function e(t){var r=n.timers.active("connect"),i=t;if("string"==typeof t)i=new Error(t);else if(!(t instanceof Error)&&"object"==typeof t)for(var o in i=new Error(t.message||t.reason),t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o]);if(n.recovery.reconnecting())return n.recovery.reconnected(i);n.listeners("error").length&&n.emit("error",i),r&&(~n.options.strategy.indexOf("timeout")?n.recovery.reconnect():n.end())})),n.on("incoming::data",(function e(t){n.decoder(t,(function e(r,i){if(r)return n.listeners("error").length&&n.emit("error",r);n.protocol(i)||n.transforms(n,n,"incoming",i,t)}))})),n.on("incoming::end",(function e(){var t=n.readyState;return n.disconnect?(n.disconnect=!1,n.end()):(n.readyState=p.CLOSED,t!==n.readyState&&n.emit("readyStateChange","end"),n.timers.active("connect")&&n.end(),t!==p.OPEN?!!n.recovery.reconnecting()&&n.recovery.reconnect():(this.writable=!1,this.readable=!1,this.timers.clear(),n.emit("close"),~n.options.strategy.indexOf("disconnect")?n.recovery.reconnect():(n.emit("outgoing::end"),void n.emit("end"))))})),n.client(),n.ark)n.ark[i].call(n,n,t);return n.NETWORK_EVENTS?(n.offlineHandler=function e(){n.online&&(n.online=!1,n.emit("offline"),n.end(),n.recovery.reset())},n.onlineHandler=function e(){n.online||(n.online=!0,n.emit("online"),~n.options.strategy.indexOf("online")&&n.recovery.reconnect())},window.addEventListener?(window.addEventListener("offline",n.offlineHandler,!1),window.addEventListener("online",n.onlineHandler,!1)):document.body.attachEvent&&(document.body.attachEvent("onoffline",n.offlineHandler),document.body.attachEvent("ononline",n.onlineHandler)),n):n},p.prototype.protocol=function e(t){if("string"!=typeof t||0!==t.indexOf("primus::"))return!1;var n=t.indexOf(":",8),r=t.slice(n+2);switch(t.slice(8,n)){case"pong":this.emit("incoming::pong",+r);break;case"server":"close"===r&&(this.disconnect=!0);break;case"id":this.emit("incoming::id",r);break;default:return!1}return!0},p.prototype.transforms=function e(t,n,r,i,o){var s={data:i},a=t.transformers[r];return function e(t,r){var i=a[t++];if(!i)return r();if(1===i.length){if(!1===i.call(n,s))return;return e(t,r)}i.call(n,s,(function i(o,s){if(o)return n.emit("error",o);!1!==s&&e(t,r)}))}(0,(function e(){if("incoming"===r)return n.emit("data",s.data,o);n._write(s.data)})),this},p.prototype.id=function e(t){return this.socket&&this.socket.id?t(this.socket.id):(this._write("primus::id::"),this.once("incoming::id",t))},p.prototype.open=function e(){return h(this,"open"),!this.recovery.reconnecting()&&this.options.timeout&&this.timeout(),this.emit("outgoing::open"),this},p.prototype.write=function e(t){return h(this,"write"),this.transforms(this,this,"outgoing",t),!0},p.prototype._write=function e(t){var n=this;return p.OPEN!==n.readyState?(this.buffer.length===this.options.queueSize&&this.buffer.splice(0,1),this.buffer.push(t),!1):(n.encoder(t,(function e(t,r){if(t)return n.listeners("error").length&&n.emit("error",t);"string"==typeof r&&(~r.indexOf("\u2028")&&(r=r.replace(l,"\\u2028")),~r.indexOf("\u2029")&&(r=r.replace(f,"\\u2029"))),n.emit("outgoing::data",r)})),!0)},p.prototype.heartbeat=function e(){var t=this;if(!t.options.ping)return t;function n(){t.timers.clear("pong"),t.online&&(t.online=!1,t.emit("offline"),t.emit("incoming::end"))}function r(){var e=+new Date;t.timers.clear("ping"),t._write("primus::ping::"+e),t.emit("outgoing::ping",e),t.timers.setTimeout("pong",n,t.options.pong)}return t.timers.setTimeout("ping",r,t.options.ping),this},p.prototype.timeout=function e(){var t=this;function n(){t.removeListener("error",n).removeListener("open",n).removeListener("end",n).timers.clear("connect")}return t.timers.setTimeout("connect",(function e(){n(),t.readyState===p.OPEN||t.recovery.reconnecting()||(t.emit("timeout"),~t.options.strategy.indexOf("timeout")?t.recovery.reconnect():t.end())}),t.options.timeout),t.on("error",n).on("open",n).on("end",n)},p.prototype.end=function e(t){if(h(this,"end"),this.readyState===p.CLOSED&&!this.timers.active("connect")&&!this.timers.active("open"))return this.recovery.reconnecting()&&(this.recovery.reset(),this.emit("end")),this;void 0!==t&&this.write(t),this.writable=!1,this.readable=!1;var n=this.readyState;return this.readyState=p.CLOSED,n!==this.readyState&&this.emit("readyStateChange","end"),this.timers.clear(),this.emit("outgoing::end"),this.emit("close"),this.emit("end"),this},p.prototype.destroy=c("url timers options recovery socket transport transformers",{before:"end",after:["removeAllListeners",function e(){this.NETWORK_EVENTS&&(window.addEventListener?(window.removeEventListener("offline",this.offlineHandler),window.removeEventListener("online",this.onlineHandler)):document.body.attachEvent&&(document.body.detachEvent("onoffline",this.offlineHandler),document.body.detachEvent("ononline",this.onlineHandler)))}]}),p.prototype.clone=function e(t){return this.merge({},t)},p.prototype.merge=function e(t){for(var n=1,r,i;n<arguments.length;n++)for(r in i=arguments[n],i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},p.prototype.parse=e("url-parse"),p.prototype.querystring=s.parse,p.prototype.querystringify=s.stringify,p.prototype.uri=function e(t){var n=this.url,r=[],i=!1;t.query&&(i=!0),t=t||{},t.protocol="protocol"in t?t.protocol:"http:",t.query=!(!n.query||!i)&&n.query.slice(1),t.secure="secure"in t?t.secure:"https:"===n.protocol||"wss:"===n.protocol,t.auth="auth"in t?t.auth:n.auth,t.pathname="pathname"in t?t.pathname:this.pathname,t.port="port"in t?+t.port:+n.port||(t.secure?443:80),this.emit("outgoing::url",t);var o=this.querystring(t.query||"");return o._primuscb=u(),t.query=this.querystringify(o),r.push(t.secure?t.protocol.replace(":","s:"):t.protocol,""),r.push(t.auth?t.auth+"@"+n.host:n.host),t.pathname&&r.push(t.pathname.slice(1)),i?r[r.length-1]+="?"+t.query:delete t.query,t.object?t:r.join("/")},p.prototype.transform=function e(t,n){return h(this,"transform"),t in this.transformers?(this.transformers[t].push(n),this):this.critical(new Error("Invalid transformer type"))},p.prototype.critical=function e(t){if(this.listeners("error").length)return this.emit("error",t),this;throw t},p.connect=function e(t,n){return new p(t,n)},p.EventEmitter=r,p.prototype.client=function e(){var t=this,n,r=function e(){if("undefined"!=typeof SockJS)return SockJS;try{return p.requires("sockjs-client")}catch(e){}}();if(!r)return t.critical(new Error("Missing required `sockjs-client` module. Please run `npm install --save sockjs-client`"));t.on("outgoing::open",(function e(){t.emit("outgoing::end"),t.socket=n=new r(t.uri({protocol:"http:",query:!0}),null,t.merge(t.transport,{info:{websocket:!t.AVOID_WEBSOCKETS,cookie_needed:!0}})),n.onopen=t.emits("incoming::open"),n.onerror=t.emits("incoming::error"),n.onclose=function(e){e&&e.code>1e3&&t.emit("incoming::error",e),t.emit("incoming::end")},n.onmessage=t.emits("incoming::data",(function e(t,n){t(void 0,n.data)}))})),t.on("outgoing::data",(function e(t){n&&n.send(t)})),t.on("outgoing::reconnect",(function e(){t.emit("outgoing::open")})),t.on("outgoing::end",(function e(){n&&(n.onerror=n.onopen=n.onclose=n.onmessage=function(){},n.close(),n=null)}))},p.prototype.authorization=!1,p.prototype.pathname="/primus",p.prototype.encoder=function e(t,n){var r;try{t=JSON.stringify(t)}catch(e){r=e}n(r,t)},p.prototype.decoder=function e(t,n){var r;if("string"!=typeof t)return n(r,t);try{t=JSON.parse(t)}catch(e){r=e}n(r,t)},p.prototype.version="6.0.9","undefined"!=typeof document&&"undefined"!=typeof navigator){document.addEventListener&&document.addEventListener("keydown",(function e(t){27===t.keyCode&&t.preventDefault&&t.preventDefault()}),!1);var m=(navigator.userAgent||"").toLowerCase(),g=m.match(/.+(?:rv|it|ra|ie)[\/: ](\d+)\.(\d+)(?:\.(\d+))?/)||[],v=+[g[1],g[2]].join(".");!~m.indexOf("chrome")&&~m.indexOf("safari")&&v<534.54&&(p.prototype.AVOID_WEBSOCKETS=!0)}t.exports=p},{demolish:1,emits:2,eventemitter3:3,inherits:4,querystringify:7,recovery:8,"tick-tock":11,"url-parse":12,yeast:14}]},{},[15])(15);return t.prototype.ark.multiplex=function e(n){var r=new t.$.multiplex.Multiplex(n);n.channel=function e(t){return r.channel(t)}},t.prototype.ark.emitter=function(){},t.prototype.ark.emit=function e(t){var n=Object.prototype.toString,r=t.emit;t.transform("incoming",(function e(i){var o=i.data;if(this===t&&"object"==typeof o&&~n.call(o.emit).indexOf(" Array]"))return this.reserved(o.emit[0])||r.apply(t,o.emit),!1})),t.emit=function e(n){return t.reserved(n)||"newListener"===n||"removeListener"===n?r.apply(this,arguments):(t.write({emit:Array.prototype.slice.call(arguments,0)}),!0)}},t}),[function(e){var t,n;t=function(){var e;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c=kt;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){var n=t[s][1][e];return i(n||e)}),l,l.exports,e,t,n,r)}return n[s].exports}for(var o=kt,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){var r=e("inherits"),i=e("./event");function o(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(o,i),t.exports=o},{"./event":3,inherits:53}],2:[function(e,t,n){var r=e("inherits"),i=e("./eventtarget");function o(){i.call(this)}r(o,i),o.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},o.prototype.once=function(e,t){var n=this,r=!1;function i(){n.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}this.on(e,i)},o.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].apply(this,r)}},o.prototype.on=o.prototype.addListener=i.prototype.addEventListener,o.prototype.removeListener=i.prototype.removeEventListener,t.exports.EventEmitter=o},{"./eventtarget":4,inherits:53}],3:[function(e,t,n){function r(e){this.type=e}r.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},{}],4:[function(e,t,n){function r(){this._listeners={}}r.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];-1===n.indexOf(t)&&(n=n.concat([t])),this._listeners[e]=n},r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);-1===r||(n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e])}},r.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],i=0;i<r.length;i++)r[i].apply(this,n)},t.exports=r},{}],5:[function(e,t,n){var r=e("inherits"),i=e("./event");function o(e){i.call(this),this.initEvent("message",!1,!1),this.data=e}r(o,i),t.exports=o},{"./event":3,inherits:53}],6:[function(e,t,n){var r=e("json3"),i=e("./utils/iframe");function o(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(e,t){i.postMessage("c",r.stringify([e,t]))},o.prototype._transportMessage=function(e){i.postMessage("t",e)},o.prototype._send=function(e){this._transport.send(e)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=o},{"./utils/iframe":46,json3:54}],7:[function(e,t,n){var r=e("./utils/url"),i=e("./utils/event"),o=e("json3"),s=e("./facade"),a=e("./info-iframe-receiver"),c=e("./utils/iframe"),u=e("./location");t.exports=function(e,t){var n={},l;t.forEach((function(e){e.facadeTransport&&(n[e.facadeTransport.transportName]=e.facadeTransport)})),n[a.transportName]=a,e.bootstrap_iframe=function(){var t;c.currentWindowId=u.hash.slice(1);var a=function(i){if(i.source===parent&&(void 0===l&&(l=i.origin),i.origin===l)){var a;try{a=o.parse(i.data)}catch(e){return}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var f;try{f=o.parse(a.data)}catch(e){break}var d=f[0],h=f[1],p=f[2],m=f[3];if(d!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+d+'", the iframe: "'+e.version+'".');if(!r.isOriginEqual(p,u.href)||!r.isOriginEqual(m,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+p+", "+m+")");t=new s(new n[h](p,m));break;case"m":t._send(a.data);break;case"c":t&&t._close(),t=null}}};i.attachEvent("message",a),c.postMessage("s")}}},{"./facade":6,"./info-iframe-receiver":9,"./location":12,"./utils/event":45,"./utils/iframe":46,"./utils/url":51,json3:54}],8:[function(e,t,n){var r=e("events").EventEmitter,i=e("inherits"),o=e("json3"),s=e("./utils/object");function a(e,t){r.call(this);var n=this,i=+new Date;this.xo=new t("GET",e),this.xo.once("finish",(function(e,t){var r,a;if(200===e){if(a=+new Date-i,t)try{r=o.parse(t)}catch(e){}s.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()}))}i(a,r),a.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=a},{"./utils/object":48,events:2,inherits:53,json3:54}],9:[function(e,t,n){var r=e("inherits"),i=e("events").EventEmitter,o=e("json3"),s=e("./transport/sender/xhr-local"),a=e("./info-ajax");function c(e){var t=this;i.call(this),this.ir=new a(e,s),this.ir.once("finish",(function(e,n){t.ir=null,t.emit("message",o.stringify([e,n]))}))}r(c,i),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=c},{"./info-ajax":8,"./transport/sender/xhr-local":36,events:2,inherits:53,json3:54}],10:[function(e,t,n){(function(n){var r=e("events").EventEmitter,i=e("inherits"),o=e("json3"),s=e("./utils/event"),a=e("./transport/iframe"),c=e("./info-iframe-receiver");function u(e,t){var i=this;r.call(this);var u=function(){var n=i.ifr=new a(c.transportName,t,e);n.once("message",(function(e){if(e){var t;try{t=o.parse(e)}catch(e){return i.emit("finish"),void i.close()}var n=t[0],r=t[1];i.emit("finish",n,r)}i.close()})),n.once("close",(function(){i.emit("finish"),i.close()}))};n.document.body?u():s.attachEvent("load",u)}i(u,r),u.enabled=function(){return a.enabled()},u.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=u}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":9,"./transport/iframe":21,"./utils/event":45,events:2,inherits:53,json3:54}],11:[function(e,t,n){var r=e("events").EventEmitter,i=e("inherits"),o=e("./utils/url"),s=e("./transport/sender/xdr"),a=e("./transport/sender/xhr-cors"),c=e("./transport/sender/xhr-local"),u=e("./transport/sender/xhr-fake"),l=e("./info-iframe"),f=e("./info-ajax");function d(e,t){var n=this;r.call(this),setTimeout((function(){n.doXhr(e,t)}),0)}i(d,r),d._getReceiver=function(e,t,n){return n.sameOrigin?new f(t,c):a.enabled?new f(t,a):s.enabled&&n.sameScheme?new f(t,s):l.enabled()?new l(e,t):new f(t,u)},d.prototype.doXhr=function(e,t){var n=this,r=o.addPath(e,"/info");this.xo=d._getReceiver(e,r,t),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),d.timeout),this.xo.once("finish",(function(e,t){n._cleanup(!0),n.emit("finish",e,t)}))},d.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,t.exports=d},{"./info-ajax":8,"./info-iframe":10,"./transport/sender/xdr":33,"./transport/sender/xhr-cors":34,"./transport/sender/xhr-fake":35,"./transport/sender/xhr-local":36,"./utils/url":51,events:2,inherits:53}],12:[function(e,t,n){(function(e){t.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,n){(function(n){e("./shims");var r=e("url-parse"),i=e("inherits"),o=e("json3"),s=e("./utils/random"),a=e("./utils/escape"),c=e("./utils/url"),u=e("./utils/event"),l=e("./utils/transport"),f=e("./utils/object"),d=e("./utils/browser"),h=e("./utils/log"),p=e("./event/event"),m=e("./event/eventtarget"),g=e("./location"),v=e("./event/close"),y=e("./event/trans-message"),w=e("./info-receiver"),b;function x(e,t,n){if(!(this instanceof x))return new x(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");m.call(this),this.readyState=x.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&h.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return s.string(i)}}this._server=n.server||s.numberString(1e3);var o=new r(e);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https"===g.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var u=t.sort();u.forEach((function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<u.length-1&&e===u[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}));var l=c.getOrigin(g.href);this._origin=l?l.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this._urlInfo={nullOrigin:!d.hasDomain(),sameOrigin:c.isOriginEqual(this.url,g.href),sameScheme:c.isSchemeEqual(this.url,g.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function C(e){return 1e3===e||e>=3e3&&e<=4999}i(x,m),x.prototype.close=function(e,t){if(e&&!C(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==x.CLOSING&&this.readyState!==x.CLOSED){var n=!0;this._close(e||1e3,t||"Normal closure",n)}},x.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===x.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===x.OPEN&&this._transport.send(a.quote(e))},x.version=e("./version"),x.CONNECTING=0,x.OPEN=1,x.CLOSING=2,x.CLOSED=3,x.prototype._receiveInfo=function(e,t){if(this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=f.extend(e,this._urlInfo);var n=b.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,this._connect()}else this._close(1002,"Cannot connect to server")},x.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(e.needBody&&(!n.document.body||void 0!==n.document.readyState&&"complete"!==n.document.readyState&&"interactive"!==n.document.readyState))return this._transports.unshift(e),void u.attachEvent("load",this._connect.bind(this));var t=this._rto*e.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var r=c.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[e.transportName],o=new e(r,this._transUrl,i);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=e.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},x.prototype._transportTimeout=function(){this.readyState===x.CONNECTING&&this._transportClose(2007,"Transport timed out")},x.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),i;switch(n){case"o":return void this._open();case"h":return void this.dispatchEvent(new p("heartbeat"))}if(r)try{i=o.parse(r)}catch(e){}if(void 0!==i)switch(n){case"a":Array.isArray(i)&&i.forEach((function(e){t.dispatchEvent(new y(e))}));break;case"m":this.dispatchEvent(new y(i));break;case"c":Array.isArray(i)&&2===i.length&&this._close(i[0],i[1],!0)}},x.prototype._transportClose=function(e,t){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),C(e)||2e3===e||this.readyState!==x.CONNECTING?this._close(e,t):this._connect()},x.prototype._open=function(){this.readyState===x.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=x.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new p("open"))):this._close(1006,"Server lost session")},x.prototype._close=function(e,t,n){var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===x.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=x.CLOSING,setTimeout(function(){this.readyState=x.CLOSED,r&&this.dispatchEvent(new p("error"));var i=new v("close");i.wasClean=n||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},x.prototype.countRTO=function(e){return e>100?4*e:300+e},t.exports=function(t){return b=l(t),e("./iframe-bootstrap")(x,t),x}}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":1,"./event/event":3,"./event/eventtarget":4,"./event/trans-message":5,"./iframe-bootstrap":7,"./info-receiver":11,"./location":12,"./shims":14,"./utils/browser":43,"./utils/escape":44,"./utils/event":45,"./utils/log":47,"./utils/object":48,"./utils/random":49,"./utils/transport":50,"./utils/url":51,"./version":52,inherits:53,json3:54,"url-parse":57}],14:[function(e,t,n){var r=Array.prototype,i=Object.prototype,o=Function.prototype,s=String.prototype,a=r.slice,c=i.toString,u=function(e){return"[object Function]"===i.toString.call(e)},l=function e(t){return"[object Array]"===c.call(t)},f=function e(t){return"[object String]"===c.call(t)},d=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}(),h;h=d?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var p=function(e,t,n){for(var r in t)i.hasOwnProperty.call(t,r)&&h(e,r,t[r],n)},m=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function g(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function v(e){return e>>>0}function y(){}p(o,{bind:function e(t){var n=this;if(!u(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=a.call(arguments,1),i=function(){if(this instanceof l){var e=n.apply(this,r.concat(a.call(arguments)));return Object(e)===e?e:this}return n.apply(t,r.concat(a.call(arguments)))},o=Math.max(0,n.length-r.length),s=[],c=0;c<o;c++)s.push("$"+c);var l=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i);return n.prototype&&(y.prototype=n.prototype,l.prototype=new y,y.prototype=null),l}}),p(Array,{isArray:l});var w=Object("a"),b="a"!==w[0]||!(0 in w),x=function e(t){var n=!0,r=!0;return t&&(t.call("foo",(function(e,t,r){"object"!=typeof r&&(n=!1)})),t.call([1],(function(){r="string"==typeof this}),"x")),!!t&&n&&r};p(r,{forEach:function e(t){var n=m(this),r=b&&f(this)?this.split(""):n,i=arguments[1],o=-1,s=r.length>>>0;if(!u(t))throw new TypeError;for(;++o<s;)o in r&&t.call(i,r[o],o,n)}},!x(r.forEach));var C=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(r,{indexOf:function e(t){var n=b&&f(this)?this.split(""):m(this),r=n.length>>>0;if(!r)return-1;var i=0;for(arguments.length>1&&(i=g(arguments[1])),i=i>=0?i:Math.max(0,r+i);i<r;i++)if(i in n&&n[i]===t)return i;return-1}},C);var $=s.split,E;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(E=void 0===/()??/.exec("")[1],s.split=function(e,t){var n=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==c.call(e))return $.call(this,e,t);var i=[],o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),s=0,a,u,l,f;for(e=new RegExp(e.source,o+"g"),n+="",E||(a=new RegExp("^"+e.source+"$(?!\\s)",o)),t=void 0===t?-1>>>0:v(t);(u=e.exec(n))&&(l=u.index+u[0].length,!(l>s&&(i.push(n.slice(s,u.index)),!E&&u.length>1&&u[0].replace(a,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(u[e]=void 0)})),u.length>1&&u.index<n.length&&r.push.apply(i,u.slice(1)),f=u[0].length,s=l,i.length>=t)));)e.lastIndex===u.index&&e.lastIndex++;return s===n.length?!f&&e.test("")||i.push(""):i.push(n.slice(s)),i.length>t?i.slice(0,t):i}):"0".split(void 0,0).length&&(s.split=function e(t,n){return void 0===t&&0===n?[]:$.call(this,t,n)});var S=s.substr,_="".substr&&"b"!=="0b".substr(-1);p(s,{substr:function e(t,n){return S.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},_)},{}],15:[function(e,t,n){t.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":19,"./transport/htmlfile":20,"./transport/jsonp-polling":22,"./transport/lib/iframe-wrap":25,"./transport/websocket":37,"./transport/xdr-polling":38,"./transport/xdr-streaming":39,"./transport/xhr-polling":40,"./transport/xhr-streaming":41}],16:[function(e,t,n){(function(n){var r=e("events").EventEmitter,i=e("inherits"),o=e("../../utils/event"),s=e("../../utils/url"),a=n.XMLHttpRequest;function c(e,t,n,i){var o=this;r.call(this),setTimeout((function(){o._start(e,t,n,i)}),0)}i(c,r),c.prototype._start=function(e,t,n,r){var i=this;try{this.xhr=new a}catch(e){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();t=s.addQuery(t,"t="+ +new Date),this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i.emit("finish",0,""),i._cleanup(!1)})}catch(e){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!c.supportsCORS||(this.xhr.withCredentials="true"),r&&r.headers)for(var u in r.headers)this.xhr.setRequestHeader(u,r.headers[u]);this.xhr.onreadystatechange=function(){if(i.xhr){var e=i.xhr,t,n;switch(e.readyState){case 3:try{n=e.status,t=e.responseText}catch(e){}1223===n&&(n=204),200===n&&t&&t.length>0&&i.emit("chunk",n,t);break;case 4:n=e.status,1223===n&&(n=204),12005!==n&&12029!==n||(n=0),i.emit("finish",n,e.responseText),i._cleanup(!1)}}};try{i.xhr.send(n)}catch(e){i.emit("finish",0,""),i._cleanup(!1)}},c.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!a;var u=["Active"].concat("Object").join("X");!c.enabled&&u in n&&(a=function(){try{return new n[u]("Microsoft.XMLHTTP")}catch(e){return null}},c.enabled=!!new a);var l=!1;try{l="withCredentials"in new a}catch(e){}c.supportsCORS=l,t.exports=c}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":45,"../../utils/url":51,events:2,inherits:53}],17:[function(e,t,n){(function(e){t.exports=e.EventSource}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){(function(e){var n=e.WebSocket||e.MozWebSocket;t.exports=n?function e(t){return new n(t)}:void 0}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){var r=e("inherits"),i=e("./lib/ajax-based"),o=e("./receiver/eventsource"),s=e("./sender/xhr-cors"),a=e("eventsource");function c(e){if(!c.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/eventsource",o,s)}r(c,i),c.enabled=function(){return!!a},c.transportName="eventsource",c.roundTrips=2,t.exports=c},{"./lib/ajax-based":23,"./receiver/eventsource":28,"./sender/xhr-cors":34,eventsource:17,inherits:53}],20:[function(e,t,n){var r=e("inherits"),i=e("./receiver/htmlfile"),o=e("./sender/xhr-local"),s=e("./lib/ajax-based");function a(e){if(!i.enabled)throw new Error("Transport created when disabled");s.call(this,e,"/htmlfile",i,o)}r(a,s),a.enabled=function(e){return i.enabled&&e.sameOrigin},a.transportName="htmlfile",a.roundTrips=2,t.exports=a},{"./lib/ajax-based":23,"./receiver/htmlfile":29,"./sender/xhr-local":36,inherits:53}],21:[function(e,t,n){var r=e("inherits"),i=e("json3"),o=e("events").EventEmitter,s=e("../version"),a=e("../utils/url"),c=e("../utils/iframe"),u=e("../utils/event"),l=e("../utils/random");function f(e,t,n){if(!f.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=l.string(8);var i=a.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=c.createIframe(i,(function(e){r.emit("close",1006,"Unable to load an iframe ("+e+")"),r.close()})),this.onmessageCallback=this._message.bind(this),u.attachEvent("message",this.onmessageCallback)}r(f,o),f.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){u.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},f.prototype._message=function(e){if(a.isOriginEqual(e.origin,this.origin)){var t;try{t=i.parse(e.data)}catch(e){return}if(t.windowId===this.windowId)switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=i.parse(t.data)}catch(e){return}this.emit("close",n[0],n[1]),this.close()}}},f.prototype.postMessage=function(e,t){this.iframeObj.post(i.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},f.prototype.send=function(e){this.postMessage("m",e)},f.enabled=function(){return c.iframeEnabled},f.transportName="iframe",f.roundTrips=2,t.exports=f},{"../utils/event":45,"../utils/iframe":46,"../utils/random":49,"../utils/url":51,"../version":52,events:2,inherits:53,json3:54}],22:[function(e,t,n){(function(n){var r=e("inherits"),i=e("./lib/sender-receiver"),o=e("./receiver/jsonp"),s=e("./sender/jsonp");function a(e){if(!a.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/jsonp",s,o)}r(a,i),a.enabled=function(){return!!n.document},a.transportName="jsonp-polling",a.roundTrips=1,a.needBody=!0,t.exports=a}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":27,"./receiver/jsonp":30,"./sender/jsonp":32,inherits:53}],23:[function(e,t,n){var r=e("inherits"),i=e("../../utils/url"),o=e("./sender-receiver");function s(e){return function(t,n,r){var o={};"string"==typeof n&&(o.headers={"Content-type":"text/plain"});var s=i.addPath(t,"/xhr_send"),a=new e("POST",s,n,o);return a.once("finish",(function(e){if(a=null,200!==e&&204!==e)return r(new Error("http status "+e));r()})),function(){a.close(),a=null;var e=new Error("Aborted");e.code=1e3,r(e)}}}function a(e,t,n,r){o.call(this,e,t,s(r),n,r)}r(a,o),t.exports=a},{"../../utils/url":51,"./sender-receiver":27,inherits:53}],24:[function(e,t,n){var r=e("inherits"),i=e("events").EventEmitter;function o(e,t){i.call(this),this.sendBuffer=[],this.sender=t,this.url=e}r(o,i),o.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout((function(){e.sendStop=null,e.sendSchedule()}),25)},o.prototype.sendSchedule=function(){var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null,t?(e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()})),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=o},{events:2,inherits:53}],25:[function(e,t,n){(function(n){var r=e("inherits"),i=e("../iframe"),o=e("../../utils/object");t.exports=function(e){function t(t,n){i.call(this,e.transportName,t,n)}return r(t,i),t.enabled=function(t,r){if(!n.document)return!1;var s=o.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&i.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=i.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":48,"../iframe":21,inherits:53}],26:[function(e,t,n){var r=e("inherits"),i=e("events").EventEmitter;function o(e,t,n){i.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}r(o,i),o.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){e.emit("message",t)})),t.once("close",(function(n,r){e.poll=t=null,e.pollIsClosing||("network"===r?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))}))},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=o},{events:2,inherits:53}],27:[function(e,t,n){var r=e("inherits"),i=e("../../utils/url"),o=e("./buffered-sender"),s=e("./polling");function a(e,t,n,r,a){var c=i.addPath(e,t),u=this;o.call(this,e,n),this.poll=new s(r,c,a),this.poll.on("message",(function(e){u.emit("message",e)})),this.poll.once("close",(function(e,t){u.poll=null,u.emit("close",e,t),u.close()}))}r(a,o),a.prototype.close=function(){o.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=a},{"../../utils/url":51,"./buffered-sender":24,"./polling":26,inherits:53}],28:[function(e,t,n){var r=e("inherits"),i=e("events").EventEmitter,o=e("eventsource");function s(e){i.call(this);var t=this,n=this.es=new o(e);n.onmessage=function(e){t.emit("message",decodeURI(e.data))},n.onerror=function(e){var r=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(r)}}r(s,i),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},s.prototype._close=function(e){var t=this;setTimeout((function(){t.emit("close",null,e),t.removeAllListeners()}),200)},t.exports=s},{events:2,eventsource:17,inherits:53}],29:[function(e,t,n){(function(n){var r=e("inherits"),i=e("../../utils/iframe"),o=e("../../utils/url"),s=e("events").EventEmitter,a=e("../../utils/random");function c(e){s.call(this);var t=this;i.polluteGlobalNamespace(),this.id="a"+a.string(6),e=o.addQuery(e,"c="+decodeURIComponent(i.WPrefix+"."+this.id));var r=c.htmlfileEnabled?i.createHtmlfile:i.createIframe;n[i.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(e){t.emit("message",e)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=r(e,(function(){t._cleanup(),t._close("permanent")}))}r(c,s),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n[i.WPrefix][this.id]},c.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()},c.htmlfileEnabled=!1;var u=["Active"].concat("Object").join("X");if(u in n)try{c.htmlfileEnabled=!!new n[u]("htmlfile")}catch(e){}c.enabled=c.htmlfileEnabled||i.iframeEnabled,t.exports=c}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":46,"../../utils/random":49,"../../utils/url":51,events:2,inherits:53}],30:[function(e,t,n){(function(n){var r=e("../../utils/iframe"),i=e("../../utils/random"),o=e("../../utils/browser"),s=e("../../utils/url"),a=e("inherits"),c=e("events").EventEmitter;function u(e){var t=this;c.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var o=s.addQuery(e,"c="+encodeURIComponent(r.WPrefix+"."+this.id));n[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(o),this.timeoutId=setTimeout((function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))}),u.timeout)}a(u,c),u.prototype.abort=function(){if(n[r.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},u.timeout=35e3,u.scriptErrorTimeout=1e3,u.prototype._callback=function(e){this._cleanup(),this.aborting||(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())},u.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},u.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete n[r.WPrefix][this.id]},u.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout((function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))}),u.scriptErrorTimeout))},u.prototype._createScript=function(e){var t=this,r=this.script=n.document.createElement("script"),s;if(r.id="a"+i.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){t.loadedOkay=!0;try{r.onclick()}catch(e){}}r&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===r.async&&n.document.attachEvent)if(o.isOpera())s=this.script2=n.document.createElement("script"),s.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=s.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch(e){}r.async=!0}void 0!==r.async&&(r.async=!0);var a=n.document.getElementsByTagName("head")[0];a.insertBefore(r,a.firstChild),s&&a.insertBefore(s,a.firstChild)},t.exports=u}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":43,"../../utils/iframe":46,"../../utils/random":49,"../../utils/url":51,events:2,inherits:53}],31:[function(e,t,n){var r=e("inherits"),i=e("events").EventEmitter;function o(e,t){i.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(e,t){n._chunkHandler(e,t),n.xo=null;var r=200===e?"network":"permanent";n.emit("close",null,r),n._cleanup()}))}r(o,i),o.prototype._chunkHandler=function(e,t){if(200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf("\n"),-1===n)break;var i=r.slice(0,n);i&&this.emit("message",i)}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=o},{events:2,inherits:53}],32:[function(e,t,n){(function(n){var r=e("../../utils/random"),i=e("../../utils/url"),o,s;function a(e){try{return n.document.createElement('<iframe name="'+e+'">')}catch(r){var t=n.document.createElement("iframe");return t.name=e,t}}function c(){o=n.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",s=n.document.createElement("textarea"),s.name="d",o.appendChild(s),n.document.body.appendChild(o)}t.exports=function(e,t,n){o||c();var u="a"+r.string(8);o.target=u,o.action=i.addQuery(i.addPath(e,"/jsonp_send"),"i="+u);var l=a(u);l.id=u,l.style.display="none",o.appendChild(l);try{s.value=t}catch(e){}o.submit();var f=function(e){l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,setTimeout((function(){l.parentNode.removeChild(l),l=null}),500),s.value="",n(e))};return l.onerror=function(){f()},l.onload=function(){f()},l.onreadystatechange=function(e){"complete"===l.readyState&&f()},function(){f(new Error("Aborted"))}}}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":49,"../../utils/url":51}],33:[function(e,t,n){(function(n){var r=e("events").EventEmitter,i=e("inherits"),o=e("../../utils/event"),s=e("../../utils/browser"),a=e("../../utils/url");function c(e,t,n){var i=this;r.call(this),setTimeout((function(){i._start(e,t,n)}),0)}i(c,r),c.prototype._start=function(e,t,r){var i=this,s=new n.XDomainRequest;t=a.addQuery(t,"t="+ +new Date),s.onerror=function(){i._error()},s.ontimeout=function(){i._error()},s.onprogress=function(){i.emit("chunk",200,s.responseText)},s.onload=function(){i.emit("finish",200,s.responseText),i._cleanup(!1)},this.xdr=s,this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(e){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!(!n.XDomainRequest||!s.hasDomain()),t.exports=c}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":43,"../../utils/event":45,"../../utils/url":51,events:2,inherits:53}],34:[function(e,t,n){var r=e("inherits"),i=e("../driver/xhr");function o(e,t,n,r){i.call(this,e,t,n,r)}r(o,i),o.enabled=i.enabled&&i.supportsCORS,t.exports=o},{"../driver/xhr":16,inherits:53}],35:[function(e,t,n){var r=e("events").EventEmitter,i=e("inherits");function o(){var e=this;r.call(this),this.to=setTimeout((function(){e.emit("finish",200,"{}")}),o.timeout)}i(o,r),o.prototype.close=function(){clearTimeout(this.to)},o.timeout=2e3,t.exports=o},{events:2,inherits:53}],36:[function(e,t,n){var r=e("inherits"),i=e("../driver/xhr");function o(e,t,n){i.call(this,e,t,n,{noCredentials:!0})}r(o,i),o.enabled=i.enabled,t.exports=o},{"../driver/xhr":16,inherits:53}],37:[function(e,t,n){var r=e("../utils/event"),i=e("../utils/url"),o=e("inherits"),s=e("events").EventEmitter,a=e("./driver/websocket");function c(e,t,n){if(!c.enabled())throw new Error("Transport created when disabled");s.call(this);var o=this,u=i.addPath(e,"/websocket");u="https"===u.slice(0,5)?"wss"+u.slice(5):"ws"+u.slice(4),this.url=u,this.ws=new a(this.url,[],n),this.ws.onmessage=function(e){o.emit("message",e.data)},this.unloadRef=r.unloadAdd((function(){o.ws.close()})),this.ws.onclose=function(e){o.emit("close",e.code,e.reason),o._cleanup()},this.ws.onerror=function(e){o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}o(c,s),c.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)},c.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},c.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return!!a},c.transportName="websocket",c.roundTrips=2,t.exports=c},{"../utils/event":45,"../utils/url":51,"./driver/websocket":18,events:2,inherits:53}],38:[function(e,t,n){var r=e("inherits"),i=e("./lib/ajax-based"),o=e("./xdr-streaming"),s=e("./receiver/xhr"),a=e("./sender/xdr");function c(e){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",s,a)}r(c,i),c.enabled=o.enabled,c.transportName="xdr-polling",c.roundTrips=2,t.exports=c},{"./lib/ajax-based":23,"./receiver/xhr":31,"./sender/xdr":33,"./xdr-streaming":39,inherits:53}],39:[function(e,t,n){var r=e("inherits"),i=e("./lib/ajax-based"),o=e("./receiver/xhr"),s=e("./sender/xdr");function a(e){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",o,s)}r(a,i),a.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&s.enabled&&e.sameScheme},a.transportName="xdr-streaming",a.roundTrips=2,t.exports=a},{"./lib/ajax-based":23,"./receiver/xhr":31,"./sender/xdr":33,inherits:53}],40:[function(e,t,n){var r=e("inherits"),i=e("./lib/ajax-based"),o=e("./receiver/xhr"),s=e("./sender/xhr-cors"),a=e("./sender/xhr-local");function c(e){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",o,s)}r(c,i),c.enabled=function(e){return!e.nullOrigin&&(!(!a.enabled||!e.sameOrigin)||s.enabled)},c.transportName="xhr-polling",c.roundTrips=2,t.exports=c},{"./lib/ajax-based":23,"./receiver/xhr":31,"./sender/xhr-cors":34,"./sender/xhr-local":36,inherits:53}],41:[function(e,t,n){(function(n){var r=e("inherits"),i=e("./lib/ajax-based"),o=e("./receiver/xhr"),s=e("./sender/xhr-cors"),a=e("./sender/xhr-local"),c=e("../utils/browser");function u(e){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",o,s)}r(u,i),u.enabled=function(e){return!e.nullOrigin&&!c.isOpera()&&s.enabled},u.transportName="xhr-streaming",u.roundTrips=2,u.needBody=!!n.document,t.exports=u}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":43,"./lib/ajax-based":23,"./receiver/xhr":31,"./sender/xhr-cors":34,"./sender/xhr-local":36,inherits:53}],42:[function(e,t,n){(function(e){e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var n=new Uint8Array(t);return e.crypto.getRandomValues(n),n}:t.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],43:[function(e,t,n){(function(e){t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(e){return!1}}}}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,n){var r=e("json3"),i=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,o,s=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,(function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""})),e.lastIndex=0,n};t.exports={quote:function(e){var t=r.stringify(e);return i.lastIndex=0,i.test(t)?(o||(o=s(i)),t.replace(i,(function(e){return o[e]}))):t}}},{json3:54}],45:[function(e,t,n){(function(n){var r=e("./random"),i={},o=!1,s=n.chrome&&n.chrome.app&&n.chrome.app.runtime;t.exports={attachEvent:function(e,t){void 0!==n.addEventListener?n.addEventListener(e,t,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+e,t),n.attachEvent("on"+e,t))},detachEvent:function(e,t){void 0!==n.addEventListener?n.removeEventListener(e,t,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+e,t),n.detachEvent("on"+e,t))},unloadAdd:function(e){if(s)return null;var t=r.string(8);return i[t]=e,o&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in i&&delete i[e]},triggerUnloadCallbacks:function(){for(var e in i)i[e](),delete i[e]}};var a=function(){o||(o=!0,t.exports.triggerUnloadCallbacks())};s||t.exports.attachEvent("unload",a)}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":49}],46:[function(e,t,n){(function(n){var r=e("./event"),i=e("json3"),o=e("./browser");t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in n||(n[t.exports.WPrefix]={})},postMessage:function(e,r){n.parent!==n&&n.parent.postMessage(i.stringify({windowId:t.exports.currentWindowId,type:e,data:r||""}),"*")},createIframe:function(e,t){var i=n.document.createElement("iframe"),o,s,a=function(){clearTimeout(o);try{i.onload=null}catch(e){}i.onerror=null},c=function(){i&&(a(),setTimeout((function(){i&&i.parentNode.removeChild(i),i=null}),0),r.unloadDel(s))},u=function(e){i&&(c(),t(e))},l=function(e,t){try{setTimeout((function(){i&&i.contentWindow&&i.contentWindow.postMessage(e,t)}),0)}catch(e){}};return i.src=e,i.style.display="none",i.style.position="absolute",i.onerror=function(){u("onerror")},i.onload=function(){clearTimeout(o),o=setTimeout((function(){u("onload timeout")}),2e3)},n.document.body.appendChild(i),o=setTimeout((function(){u("timeout")}),15e3),s=r.unloadAdd(c),{post:l,cleanup:c,loaded:a}},createHtmlfile:function(e,i){var o=["Active"].concat("Object").join("X"),s=new n[o]("htmlfile"),a,c,u,l=function(){clearTimeout(a),u.onerror=null},f=function(){s&&(l(),r.unloadDel(c),u.parentNode.removeChild(u),u=s=null,CollectGarbage())},d=function(e){s&&(f(),i(e))},h=function(e,t){try{setTimeout((function(){u&&u.contentWindow&&u.contentWindow.postMessage(e,t)}),0)}catch(e){}};s.open(),s.write('<html><script>document.domain="'+n.document.domain+'";<\/script></html>'),s.close(),s.parentWindow[t.exports.WPrefix]=n[t.exports.WPrefix];var p=s.createElement("div");return s.body.appendChild(p),u=s.createElement("iframe"),p.appendChild(u),u.src=e,u.onerror=function(){d("onerror")},a=setTimeout((function(){d("timeout")}),15e3),c=r.unloadAdd(f),{post:h,cleanup:f,loaded:l}}},t.exports.iframeEnabled=!1,n.document&&(t.exports.iframeEnabled=("function"==typeof n.postMessage||"object"==typeof n.postMessage)&&!o.isKonqueror())}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":43,"./event":45,json3:54}],47:[function(e,t,n){(function(e){var n={};["log","debug","warn"].forEach((function(t){var r;try{r=e.console&&e.console[t]&&e.console[t].apply}catch(e){}n[t]=r?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:n.log})),t.exports=n}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(e,t,n){t.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,i=arguments.length;r<i;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}},{}],49:[function(e,t,n){var r=e("crypto"),i="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(e){for(var t=i.length,n=r.randomBytes(e),o=[],s=0;s<e;s++)o.push(i.substr(n[s]%t,1));return o.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}}},{crypto:42}],50:[function(e,t,n){t.exports=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach((function(e){e&&("websocket"===e.transportName&&!1===n.websocket||t.length&&-1===t.indexOf(e.transportName)||e.enabled(n)&&(r.main.push(e),e.facadeTransport&&r.facade.push(e.facadeTransport)))})),r}}}},{}],51:[function(e,t,n){var r=e("url-parse");t.exports={getOrigin:function(e){if(!e)return null;var t=new r(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)}}},{"url-parse":57}],52:[function(e,t,n){t.exports="1.1.2"},{}],53:[function(e,t,n){"function"==typeof Object.create?t.exports=function e(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function e(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],54:[function(e,t,n){(function(e){(function(){var r=!1,i={function:!0,object:!0},o=i[typeof n]&&n&&!n.nodeType&&n,s=i[typeof window]&&window||this,a=o&&i[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;function c(e,t){e||(e=s.Object()),t||(t=s.Object());var n=e.Number||s.Number,r=e.String||s.String,o=e.Object||s.Object,a=e.Date||s.Date,u=e.SyntaxError||s.SyntaxError,l=e.TypeError||s.TypeError,f=e.Math||s.Math,d=e.JSON||s.JSON;"object"==typeof d&&d&&(t.stringify=d.stringify,t.parse=d.parse);var h=o.prototype,p=h.toString,m,g,v,y=new a(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(e){}function w(e){if(w[e]!==v)return w[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=w("json-stringify")&&w("json-parse");else{var o,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,u="function"==typeof c&&y;if(u){(o=function(){return 1}).toJSON=o;try{u="0"===c(0)&&"0"===c(new n)&&'""'==c(new r)&&c(p)===v&&c(v)===v&&c()===v&&"1"===c(o)&&"[1]"==c([o])&&"[null]"==c([v])&&"null"==c(null)&&"[null,null,null]"==c([v,p,null])&&c({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===c(null,o)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new a(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new a(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new a(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new a(-1))}catch(e){u=!1}}i=u}if("json-parse"==e){var l=t.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){o=l(s);var f=5==o.a.length&&1===o.a[0];if(f){try{f=!l('"\t"')}catch(e){}if(f)try{f=1!==l("01")}catch(e){}if(f)try{f=1!==l("1.")}catch(e){}}}}catch(e){f=!1}i=f}}return w[e]=!!i}if(!w("json")){var b="[object Function]",x="[object Date]",C="[object Number]",$="[object String]",E="[object Array]",S="[object Boolean]",_=w("bug-string-char-index");if(!y)var k=f.floor,T=[0,31,59,90,120,151,181,212,243,273,304,334],O=function(e,t){return T[t]+365*(e-1970)+k((e-1969+(t=+(t>1)))/4)-k((e-1901+t)/100)+k((e-1601+t)/400)};if((m=h.hasOwnProperty)||(m=function(e){var t={},n;return(t.__proto__=null,t.__proto__={toString:1},t).toString!=p?m=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(n=t.constructor,m=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),t=null,m.call(this,e)}),g=function(e,t){var n=0,r,o,s;for(s in(r=function(){this.valueOf=0}).prototype.valueOf=0,o=new r,o)m.call(o,s)&&n++;return r=o=null,n?g=2==n?function(e,t){var n={},r=p.call(e)==b,i;for(i in e)r&&"prototype"==i||m.call(n,i)||!(n[i]=1)||!m.call(e,i)||t(i)}:function(e,t){var n=p.call(e)==b,r,i;for(r in e)n&&"prototype"==r||!m.call(e,r)||(i="constructor"===r)||t(r);(i||m.call(e,r="constructor"))&&t(r)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var n=p.call(e)==b,r,s,a=!n&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||m;for(r in e)n&&"prototype"==r||!a.call(e,r)||t(r);for(s=o.length;r=o[--s];a.call(e,r)&&t(r));}),g(e,t)},!w("json-stringify")){var N={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},A="000000",I=function(e,t){return(A+(t||0)).slice(-e)},M="\\u00",j=function(e){for(var t='"',n=0,r=e.length,i=!_||r>10,o=i&&(_?e.split(""):e);n<r;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=N[s];break;default:if(s<32){t+=M+I(2,s.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},L=function(e,t,n,r,i,o,s){var a,c,u,f,d,h,y,w,b,_,T,N,A,M,D,P;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if(c=p.call(a),c!=x||m.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=C&&c!=$&&c!=E||m.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(O){for(d=k(a/864e5),u=k(d/365.2425)+1970-1;O(u+1,0)<=d;u++);for(f=k((d-O(u,0))/30.42);O(u,f+1)<=d;f++);d=1+d-O(u,f),h=(a%864e5+864e5)%864e5,y=k(h/36e5)%24,w=k(h/6e4)%60,b=k(h/1e3)%60,_=h%1e3}else u=a.getUTCFullYear(),f=a.getUTCMonth(),d=a.getUTCDate(),y=a.getUTCHours(),w=a.getUTCMinutes(),b=a.getUTCSeconds(),_=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+I(6,u<0?-u:u):I(4,u))+"-"+I(2,f+1)+"-"+I(2,d)+"T"+I(2,y)+":"+I(2,w)+":"+I(2,b)+"."+I(3,_)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if(c=p.call(a),c==S)return""+a;if(c==C)return a>-1/0&&a<1/0?""+a:"null";if(c==$)return j(""+a);if("object"==typeof a){for(M=s.length;M--;)if(s[M]===a)throw l();if(s.push(a),T=[],D=o,o+=i,c==E){for(A=0,M=a.length;A<M;A++)N=L(A,a,n,r,i,o,s),T.push(N===v?"null":N);P=T.length?i?"[\n"+o+T.join(",\n"+o)+"\n"+D+"]":"["+T.join(",")+"]":"[]"}else g(r||a,(function(e){var t=L(e,a,n,r,i,o,s);t!==v&&T.push(j(e)+":"+(i?" ":"")+t)})),P=T.length?i?"{\n"+o+T.join(",\n"+o)+"\n"+D+"}":"{"+T.join(",")+"}":"{}";return s.pop(),P}};t.stringify=function(e,t,n){var r,o,s,a;if(i[typeof t]&&t)if((a=p.call(t))==b)o=t;else if(a==E){s={};for(var c=0,u=t.length,l;c<u;l=t[c++],a=p.call(l),(a==$||a==C)&&(s[l]=1));}if(n)if((a=p.call(n))==C){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==$&&(r=n.length<=10?n:n.slice(0,10));return L("",(l={},l[""]=e,l),o,s,r,"",[])}}if(!w("json-parse")){var D=r.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},R,z,U=function(){throw R=z=null,u()},q=function(){for(var e=z,t=e.length,n,r,i,o,s;R<t;)switch(s=e.charCodeAt(R),s){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=_?e.charAt(R):e[R],R++,n;case 34:for(n="@",R++;R<t;)if(s=e.charCodeAt(R),s<32)U();else if(92==s)switch(s=e.charCodeAt(++R),s){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=P[s],R++;break;case 117:for(r=++R,i=R+4;R<i;R++)s=e.charCodeAt(R),s>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=70||U();n+=D("0x"+e.slice(r,R));break;default:U()}else{if(34==s)break;for(s=e.charCodeAt(R),r=R;s>=32&&92!=s&&34!=s;)s=e.charCodeAt(++R);n+=e.slice(r,R)}if(34==e.charCodeAt(R))return R++,n;U();default:if(r=R,45==s&&(o=!0,s=e.charCodeAt(++R)),s>=48&&s<=57){for(48==s&&(s=e.charCodeAt(R+1),s>=48&&s<=57)&&U(),o=!1;R<t&&(s=e.charCodeAt(R),s>=48&&s<=57);R++);if(46==e.charCodeAt(R)){for(i=++R;i<t&&(s=e.charCodeAt(i),s>=48&&s<=57);i++);i==R&&U(),R=i}if(s=e.charCodeAt(R),101==s||69==s){for(s=e.charCodeAt(++R),43!=s&&45!=s||R++,i=R;i<t&&(s=e.charCodeAt(i),s>=48&&s<=57);i++);i==R&&U(),R=i}return+e.slice(r,R)}if(o&&U(),"true"==e.slice(R,R+4))return R+=4,!0;if("false"==e.slice(R,R+5))return R+=5,!1;if("null"==e.slice(R,R+4))return R+=4,null;U()}return"$"},F=function(e){var t,n;if("$"==e&&U(),"string"==typeof e){if("@"==(_?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=q(),"]"!=e;n||(n=!0))n&&(","==e?(e=q(),"]"==e&&U()):U()),","==e&&U(),t.push(F(e));return t}if("{"==e){for(t={};e=q(),"}"!=e;n||(n=!0))n&&(","==e?(e=q(),"}"==e&&U()):U()),","!=e&&"string"==typeof e&&"@"==(_?e.charAt(0):e[0])&&":"==q()||U(),t[e.slice(1)]=F(q());return t}U()}return e},B=function(e,t,n){var r=H(e,t,n);r===v?delete e[t]:e[t]=r},H=function(e,t,n){var r=e[t],i;if("object"==typeof r&&r)if(p.call(r)==E)for(i=r.length;i--;)B(r,i,n);else g(r,(function(e){B(r,e,n)}));return n.call(e,t,r)};t.parse=function(e,t){var n,r;return R=0,z=""+e,n=F(q()),"$"!=q()&&U(),R=z=null,t&&p.call(t)==b?H((r={},r[""]=n,r),"",t):n}}}return t.runInContext=c,t}if(!a||a.global!==a&&a.window!==a&&a.self!==a||(s=a),o)c(s,o);else{var u=s.JSON,l=s.JSON3,f=!1,d=c(s,s.JSON3={noConflict:function(){return f||(f=!0,s.JSON=u,s.JSON3=l,u=l=null),d}});s.JSON={parse:d.parse,stringify:d.stringify}}}).call(this)}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],55:[function(e,t,n){var r=Object.prototype.hasOwnProperty;function i(e){for(var t=/([^=?&]+)=?([^&]*)/g,n={},r;r=t.exec(e);n[decodeURIComponent(r[1])]=decodeURIComponent(r[2]));return n}function o(e,t){t=t||"";var n=[];for(var i in"string"!=typeof t&&(t="?"),e)r.call(e,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n.length?t+n.join("&"):""}n.stringify=o,n.parse=i},{}],56:[function(e,t,n){t.exports=function e(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],57:[function(e,t,n){var r=e("requires-port"),i=e("./lolcation"),o=e("querystringify"),s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]];function c(e){var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function u(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}function l(e,t,n){if(!(this instanceof l))return new l(e,t,n);var s,f,d,h,p,m,g=a.slice(),v=typeof t,y=this,w=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=i(t),f=c(e||""),s=!f.protocol&&!f.slashes,y.slashes=f.slashes||s&&t.slashes,y.protocol=f.protocol||t.protocol||"",e=f.rest,f.slashes||(g[2]=[/(.*)/,"pathname"]);w<g.length;w++)h=g[w],d=h[0],m=h[1],d!=d?y[m]=e:"string"==typeof d?~(p=e.indexOf(d))&&("number"==typeof h[2]?(y[m]=e.slice(0,p),e=e.slice(p+h[2])):(y[m]=e.slice(p),e=e.slice(0,p))):(p=d.exec(e))&&(y[m]=p[1],e=e.slice(0,p.index)),y[m]=y[m]||s&&h[3]&&t[m]||"",h[4]&&(y[m]=y[m].toLowerCase());n&&(y.query=n(y.query)),s&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=u(y.pathname,t.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(h=y.auth.split(":"),y.username=h[0]||"",y.password=h[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}l.prototype.set=function e(t,n,i){var s=this;switch(t){case"query":"string"==typeof n&&n.length&&(n=(i||o.parse)(n)),s[t]=n;break;case"port":s[t]=n,r(n,s.protocol)?n&&(s.host=s.hostname+":"+n):(s.host=s.hostname,s[t]="");break;case"hostname":s[t]=n,s.port&&(n+=":"+s.port),s.host=n;break;case"host":s[t]=n,/:\d+$/.test(n)?(n=n.split(":"),s.port=n.pop(),s.hostname=n.join(":")):(s.hostname=n,s.port="");break;case"protocol":s.protocol=n.toLowerCase(),s.slashes=!i;break;case"pathname":s.pathname=n.length&&"/"!==n.charAt(0)?"/"+n:n;break;default:s[t]=n}for(var c=0;c<a.length;c++){var u=a[c];u[4]&&(s[u[1]]=s[u[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},l.prototype.toString=function e(t){t&&"function"==typeof t||(t=o.stringify);var n,r=this,i=r.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var s=i+(r.slashes?"//":"");return r.username&&(s+=r.username,r.password&&(s+=":"+r.password),s+="@"),s+=r.host+r.pathname,n="object"==typeof r.query?t(r.query):r.query,n&&(s+="?"!==n.charAt(0)?"?"+n:n),r.hash&&(s+=r.hash),s},l.extractProtocol=c,l.location=i,l.qs=o,t.exports=l},{"./lolcation":58,querystringify:55,"requires-port":56}],58:[function(e,t,n){(function(n){var r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i={hash:1,query:1},o;t.exports=function t(s){s=s||n.location||{},o=o||e("./");var a={},c=typeof s,u;if("blob:"===s.protocol)a=new o(unescape(s.pathname),{});else if("string"===c)for(u in a=new o(s,{}),i)delete a[u];else if("object"===c){for(u in s)u in i||(a[u]=s[u]);void 0===a.slashes&&(a.slashes=r.test(s.href))}return a}}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":57}],59:[function(e,t,n){(function(n){var r=e("./transport-list");t.exports=e("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":13,"./transport-list":15}]},{},[59])(59)},"undefined"!=typeof window?n=window:"undefined"!=typeof self&&(n=self),n.SockJS=t()},function(e){!function(e,t){function n(){var t=Array.prototype.slice,n,r;try{r=bd,n=Yi}catch(t){r=e.EventEmitter,n=function e(t){setTimeout(t,0)}}function i(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);r.call(this),this.channel=t,this.id=n||this.uid(13),this.packets=e.packets,this.conn=e.conn,this.readyState=e.conn.readyState,this.channels=e.channels,this.writable=!0,this.readable=!0,this.reconnect=!1,this.initialise()}return i(o,r),o.prototype.initialise=function e(){var n=[],r=this,i=[],o;for(var s in this.conn.reserved.events)"data"!==s&&"end"!==s&&i.push(s);for(this.conn.on("readyStateChange",a),this.conn.on("reconnect",c),this.conn.on("open",u),this.connect(),o=0;o<i.length;o++)n.push(l(i[o])),this.conn.on(i[o],n[o]);function a(){r.readyState=r.conn.readyState}function c(){r.reconnect=!0}function u(){r.reconnect&&r.connect(),r.reconnect=!1}function l(e){return function n(){r.emit.apply(r,[e].concat(t.call(arguments)))}}return this.on("end",(function(){for(r.emit("close"),r.conn.removeListener("readyStateChange",a),r.conn.removeListener("reconnect",c),r.conn.removeListener("open",u),o=0;o<i.length;o++)r.conn.removeListener(i[o],n[o])})),this},o.prototype.connect=function e(){return this.conn.write(this.packet.call(this,"SUBSCRIBE")),this},o.prototype.write=function e(t){var n=this.packet("MESSAGE",t);return this.conn.write(n)},o.prototype.end=function e(t){var r=this;return t&&this.write(t),this.conn.write(this.packet("UNSUBSCRIBE")),n((function e(){r.emit("end"),r.writable=!1})),delete this.channels[this.channel][this.id],this},o.prototype.uid=function e(t){return Math.random().toString(35).substr(2,t||7)},o.prototype.packet=function e(t,n){var r=this.packets[t],i=[r,this.id,this.channel];return n&&i.push(n),i},o.prototype.reserved=function e(t){return/^(incoming|outgoing)::/.test(t)||t in this.conn.reserved.events||t in this.reserved.events},o.prototype.reserved.events={},o}function r(n){function r(e,t){if(!(this instanceof r))return new r(e,t);t=t||{},this.conn=e,this.channels={},this.reconnect=!1,this.conn&&this.bind()}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}return r.prototype.packets={MESSAGE:0,SUBSCRIBE:1,UNSUBSCRIBE:2},r.prototype.bind=function e(){var n=this;return this.conn.on("data",(function e(r){if(i(r)){var o=r[0],s=r[1],a=r[2],c=4===r.length?r[3]:t,u=n.channels[a][s];if(!u)return!1;switch(o){case n.packets.MESSAGE:u.emit("data",c);break;case n.packets.UNSUBSCRIBE:u.emit("end"),u.removeAllListeners(),delete n.channels[a][s]}return!1}})),this},r.prototype.channel=function t(r){if(!r)return this.conn;"emitter"in e.$&&e.$.emitter.spark(n,e.$.emitter.emitter());var i=new n(this,r),o=i.id;return this.channels[r]=this.channels[r]||{},this.channels[r][o]=i,i},r}if(t!==e){var i=n();e.$=e.$||{},e.$.multiplex={},e.$.multiplex.spark=n,e.$.multiplex.multiplex=r,e.$.multiplex.Multiplex=r(i)}}(e)},function(e){!function(e,t){function n(e,t){var n=e.prototype.initialise;function r(e,t,n){return/^(newListener|removeListener)/.test(e)||this.emitter.send.apply(this.emitter,arguments),this}e.prototype.initialise=function e(){this.emitter||(this.emitter=new t(this)),this.__initialise||n.apply(this,arguments)},e.readable?e.prototype.send||e.readable("send",r):e.prototype.send=r}function r(){var e=Object.prototype.toString,t=Array.prototype.slice,n=Array.isArray||function t(n){return"[object Array]"===e.call(n)},r={EVENT:0,ACK:1};function i(e){if(!(this instanceof i))return new i(e);this.ids=1,this.acks={},this.conn=e,this.conn&&this.bind()}return i.prototype.bind=function e(){var t=this;return this.conn.on("data",(function e(n){t.ondata.call(t,n)})),this},i.prototype.ondata=function e(t){if(!n(t.data)||t.id&&"number"!=typeof t.id)return this;switch(t.type){case r.EVENT:this.onevent(t);break;case r.ACK:this.onack(t)}return this},i.prototype.send=function e(){var n=t.call(arguments);return this.conn.write(this.packet(n)),this},i.prototype.packet=function e(t){var n={type:r.EVENT,data:t};if("function"==typeof t[t.length-1]){var i=this.ids++;this.acks[i]=t.pop(),n.id=i}return n},i.prototype.onevent=function e(t){var n=t.data;return this.conn.reserved(n[0])||(t.id&&n.push(this.ack(t.id)),this.conn.emit.apply(this.conn,n)),this},i.prototype.ack=function e(n){var i=this.conn,o=!1;return function(){o||(o=!0,i.write({id:n,type:r.ACK,data:t.call(arguments)}))}},i.prototype.onack=function e(t){var n=this.acks[t.id];return"function"==typeof n&&(n.apply(this,t.data),delete this.acks[t.id]),this},i.packets=r,i}t!==e&&(e.$=e.$||{},e.$.emitter={},e.$.emitter.spark=n,e.$.emitter.emitter=r,n(e,r()))}(e)}])})),Cd=function e(t){var n=Object.prototype.toString,r=t.emit;t.transform("incoming",(function e(i){var o=i.data;if(this===t&&"object"==typeof o&&~n.call(o.emit).indexOf(" Array]"))return this.reserved(o.emit[0])||r.apply(t,o.emit),!1})),t.emit=function e(n){return t.reserved(n)||"newListener"===n||"removeListener"===n?r.apply(this,arguments):(t.write({emit:Array.prototype.slice.call(arguments,0)}),!0)}},$d=function e(t){var n=t.Spark,r=n.prototype.emit;t.transform("incoming",(function e(t){var i=t.data;if(this instanceof n&&"object"==typeof i&&Array.isArray(i.emit))return this.reserved(i.emit[0])||r.apply(this,i.emit),!1})),n.prototype.emit=function e(t){return this.reserved(t)||"newListener"===t||"removeListener"===t?r.apply(this,arguments):(this.write({emit:Array.prototype.slice.call(arguments,0)}),!0)}},Ed={client:Cd,server:$d};class Sd extends Error{constructor(e){super(e),this.name="PositionTypeError",this.message=e}}class _d extends Error{constructor(e){super(e),this.name="SnapshotTypeError",this.message=e}}class kd extends Error{constructor(e){super(e),this.name="StopPointTypeError",this.message=e}}class Td extends Error{constructor(e){super(e),this.name="NoConceptDefinedError",this.message=e}}class Od extends Error{constructor(e){super(e),this.name="NoVariantDefinedError",this.message=e}}class Nd extends Error{constructor(e){super(e),this.name="NoDataSourceError",this.message=e}}class Ad extends Error{constructor(e){super(e),this.name="CouchDbSaveError",this.message=e}}class Id extends Error{constructor(e){super(e),this.name="CouchDbError",this.message=e}}class Md extends Error{constructor(e){super(e),this.name="NetworkError",this.message=e}}class jd extends Error{constructor(e){super(e),this.name="PreviewParameterError",this.message=e}}class Ld extends Error{constructor(e){super(e),this.name="UnexpectedError",this.message=e}}const Dd=function(){return[{id:sa(),text:"it is getting better",created:"2020-04-25T04:28:30+0000",modified:[],messages:[{id:sa(),text:"first line",aired:[],dirty:!1,deleted:!1,tags:[{id:"01",label:"on air",value:"on-air",checked:!0},{id:"02",label:"website",value:"website",checked:!1},{id:"03",label:"Twitter",value:"twitter",checked:!1}]},{id:sa(),text:"second line",aired:[],dirty:!1,deleted:!1,tags:[{id:"01",label:"on air",value:"on-air",checked:!0},{id:"02",label:"website",value:"website",checked:!1},{id:"03",label:"Twitter",value:"twitter",checked:!1}]}]},{id:sa(),text:"كوفيد 19 الولايات المتحدة الاميركية",created:"2020-04-25T04:28:30+0000",modified:[],messages:[{id:sa(),text:"خمسين حالة اصابة يوميا",aired:[],dirty:!1,deleted:!1,tags:[{id:"01",label:"on air",value:"on-air",checked:!0},{id:"02",label:"website",value:"website",checked:!1},{id:"03",label:"Twitter",value:"twitter",checked:!1}]}]},{id:sa(),text:"اسعار النفط",created:"2020-04-25T04:28:30+0000",modified:[],messages:[{id:sa(),text:"نتابع بعد الفاصل",aired:[],dirty:!1,deleted:!1,tags:[{id:"01",label:"on air",value:"on-air",checked:!0},{id:"02",label:"website",value:"website",checked:!1},{id:"03",label:"Twitter",value:"twitter",checked:!1}]}]},{id:sa(),text:"2020-04-25T04:28:30+0000",created:"2020-04-25T04:28:30+0000",modified:[],messages:[{id:sa(),text:"الاقصتاد المصري يسجل ارتفاع بنسبة عشرة بالمئة",aired:[],dirty:!1,deleted:!1,tags:[{id:"01",label:"on air",value:"on-air",checked:!0},{id:"02",label:"website",value:"website",checked:!1},{id:"03",label:"Twitter",value:"twitter",checked:!1}]},{id:sa(),text:"حالة الطقس",aired:[],dirty:!1,deleted:!1,tags:[{id:"01",label:"on air",value:"on-air",checked:!0},{id:"02",label:"website",value:"website",checked:!1},{id:"03",label:"Twitter",value:"twitter",checked:!1}]}]}]},Pd=function(){return[{value:"1001",valueName:"BreakingTickerIN",label:"ticker",vShift:"94%",hShift:"50%",stopPoint:"$pilot1",type:"ticker",mappings:{conceptvariantchoice:{Concept:"NEWS",Variant:"Default"},fields:["1"]}},{value:"1000",label:"cg",vShift:"80%",hShift:"50%",stopPoint:"$pilot1",type:"vcp",mappings:{conceptvariantchoice:{Concept:"NEWS",Variant:"Default"},layers:{layerId:"-vizlayer-BreakingNews_______",layer:"breakingin"},fields:["ALine1"]}}]};class Rd{constructor(e,t,n,r){this.host=e,this.db=r,this.axios=jc.create({baseUrl:e,timeout:15e3,auth:{username:t,password:n},headers:{Accept:"application/json","Content-Type":"application/json"}})}Health(){this.axios.get(vs(this.host,"up")).then((function(e){console.log("-----------------"),console.log(e.data),console.log("-----------------")})).catch((e=>console.log("health: couchdb timeout")))}async GetData(){try{const e=await this.axios.post(vs(this.host,this.db,"_find"),{selector:{_id:{$gt:null}},limit:200,sort:[{created:"desc"}]}),t=await e.data;return t.docs}catch(e){throw new Id(e.message)}}async getDoc(e){try{const t=await this.axios.get(vs(this.host,this.db,e)),n=await t.data;return n}catch(e){throw new Id(e)}}async SaveDoc(e){try{const t=performance.now(),n=zd(qs(e)),r=await this.axios.put(vs(this.host,this.db,n.id),n),i=await r.data;e._rev=i.rev,e.hasOwnProperty("_id")||(e._id=i.id);const o=performance.now();return console.log(`Call to SaveDoc() took ${o-t} milliseconds.`),i}catch(e){throw console.log("error while saving to CouchDb: ",e),new Ad(e)}}async GetTemplates(){try{const e=await this.axios.get(vs(this.host,this.db,"templates"),{limit:24}),t=await e.data;return t.templates}catch(e){throw new Ad(e.message)}}}function zd(e){return e.messages.forEach((e=>{delete e.selected})),e}function Ud(e,t,n){let r;return function i(){let o=this,s=arguments,a=function(){r=null,n||e.apply(o,s)},c=n&&!r;clearTimeout(r),r=setTimeout(a,t),c&&e.apply(o,s)}}function qd(e,t,n){if(t.length<2)return e;{const r=[];for(let i=0;i<e.length;i++)if("object"==typeof e[i]&&null!==e[i])if(e[i][n].indexOf(t)>=0)r.push(e[i]);else{let n=e[i].messages;for(let o=0;o<n.length;o++)n[o].text.indexOf(t)>=0&&r.push(e[i])}return r}}function Fd(e){let t=document.cookie.match(new RegExp(e+"=([^;]+)")),n=t?t.input.split("="):void 0,r=Array.isArray(n)?n[1].split("\\"):void 0;return r?r.join("/"):"unknown"}var Bd="X-Remote-User",Hd="selectedTemplate",Wd=15,Yd="inputfontsize";function Gd(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Vd(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Kd(e){Vd(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function Jd(e,t){Vd(2,arguments);var n=Kd(e).getTime(),r=Gd(t);return new Date(n+r)}var Xd=6e4;function Qd(e){return e.getTime()%Xd}function Zd(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var r=n>0,i=r?(Xd+Qd(t))%Xd:Qd(t);return n*Xd+i}function eh(e){Vd(1,arguments);var t=Kd(e);return!isNaN(t)}var th={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function nh(e,t,n){var r;return n=n||{},r="string"==typeof th[e]?th[e]:1===t?th[e].one:th[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r}function rh(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth,i=e.formats[r]||e.formats[e.defaultWidth];return i}}var ih={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ah={date:rh({formats:ih,defaultWidth:"full"}),time:rh({formats:oh,defaultWidth:"full"}),dateTime:rh({formats:sh,defaultWidth:"full"})},ch={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function uh(e,t,n,r){return ch[e]}function lh(e){return function(t,n){var r=n||{},i=r.context?String(r.context):"standalone",o;if("formatting"===i&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,a=r.width?String(r.width):s;o=e.formattingValues[a]||e.formattingValues[s]}else{var c=e.defaultWidth,u=r.width?String(r.width):e.defaultWidth;o=e.values[u]||e.values[c]}var l=e.argumentCallback?e.argumentCallback(t):t;return o[l]}}var fh={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ph={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function vh(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"}var yh={ordinalNumber:vh,era:lh({values:fh,defaultWidth:"wide"}),quarter:lh({values:dh,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:lh({values:hh,defaultWidth:"wide"}),day:lh({values:ph,defaultWidth:"wide"}),dayPeriod:lh({values:mh,defaultWidth:"wide",formattingValues:gh,defaultFormattingWidth:"wide"})};function wh(e){return function(t,n){var r=String(t),i=n||{},o=r.match(e.matchPattern);if(!o)return null;var s=o[0],a=r.match(e.parsePattern);if(!a)return null;var c=e.valueCallback?e.valueCallback(a[0]):a[0];return c=i.valueCallback?i.valueCallback(c):c,{value:c,rest:r.slice(s.length)}}}function bh(e){return function(t,n){var r=String(t),i=n||{},o=i.width,s=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],a=r.match(s);if(!a)return null;var c=a[0],u=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],l;return l="[object Array]"===Object.prototype.toString.call(u)?Ch(u,(function(e){return e.test(c)})):xh(u,(function(e){return e.test(c)})),l=e.valueCallback?e.valueCallback(l):l,l=i.valueCallback?i.valueCallback(l):l,{value:l,rest:r.slice(c.length)}}}function xh(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Ch(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var $h=/^(\d+)(th|st|nd|rd)?/i,Eh=/\d+/i,Sh={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_h={any:[/^b/i,/^(a|c)/i]},kh={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Th={any:[/1/i,/2/i,/3/i,/4/i]},Oh={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nh={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ah={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ih={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mh={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jh={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lh={ordinalNumber:wh({matchPattern:$h,parsePattern:Eh,valueCallback:function(e){return parseInt(e,10)}}),era:bh({matchPatterns:Sh,defaultMatchWidth:"wide",parsePatterns:_h,defaultParseWidth:"any"}),quarter:bh({matchPatterns:kh,defaultMatchWidth:"wide",parsePatterns:Th,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:bh({matchPatterns:Oh,defaultMatchWidth:"wide",parsePatterns:Nh,defaultParseWidth:"any"}),day:bh({matchPatterns:Ah,defaultMatchWidth:"wide",parsePatterns:Ih,defaultParseWidth:"any"}),dayPeriod:bh({matchPatterns:Mh,defaultMatchWidth:"any",parsePatterns:jh,defaultParseWidth:"any"})},Dh={code:"en-US",formatDistance:nh,formatLong:ah,formatRelative:uh,localize:yh,match:Lh,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ph(e,t){Vd(2,arguments);var n=Gd(t);return Jd(e,-n)}function Rh(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var zh=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Rh("yy"===t?r%100:r,t.length)},Uh=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Rh(n+1,2)},qh=function(e,t){return Rh(e.getUTCDate(),t.length)},Fh=function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},Bh=function(e,t){return Rh(e.getUTCHours()%12||12,t.length)},Hh=function(e,t){return Rh(e.getUTCHours(),t.length)},Wh=function(e,t){return Rh(e.getUTCMinutes(),t.length)},Yh=function(e,t){return Rh(e.getUTCSeconds(),t.length)},Gh=function(e,t){var n=t.length,r=e.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,n-3));return Rh(i,t.length)},Vh=864e5;function Kh(e){Vd(1,arguments);var t=Kd(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/Vh)+1}function Jh(e){Vd(1,arguments);var t=1,n=Kd(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Xh(e){Vd(1,arguments);var t=Kd(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Jh(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Jh(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Qh(e){Vd(1,arguments);var t=Xh(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Jh(n);return r}var Zh=6048e5;function ep(e){Vd(1,arguments);var t=Kd(e),n=Jh(t).getTime()-Qh(t).getTime();return Math.round(n/Zh)+1}function tp(e,t){Vd(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:Gd(i),s=null==n.weekStartsOn?o:Gd(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=Kd(e),c=a.getUTCDay(),u=(c<s?7:0)+c-s;return a.setUTCDate(a.getUTCDate()-u),a.setUTCHours(0,0,0,0),a}function np(e,t){Vd(1,arguments);var n=Kd(e,t),r=n.getUTCFullYear(),i=t||{},o=i.locale,s=o&&o.options&&o.options.firstWeekContainsDate,a=null==s?1:Gd(s),c=null==i.firstWeekContainsDate?a:Gd(i.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,c),u.setUTCHours(0,0,0,0);var l=tp(u,t),f=new Date(0);f.setUTCFullYear(r,0,c),f.setUTCHours(0,0,0,0);var d=tp(f,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function rp(e,t){Vd(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:Gd(i),s=null==n.firstWeekContainsDate?o:Gd(n.firstWeekContainsDate),a=np(e,t),c=new Date(0);c.setUTCFullYear(a,0,s),c.setUTCHours(0,0,0,0);var u=tp(c,t);return u}var ip=6048e5;function op(e,t){Vd(1,arguments);var n=Kd(e),r=tp(n,t).getTime()-rp(n,t).getTime();return Math.round(r/ip)+1}var sp="am",ap="pm",cp="midnight",up="noon",lp="morning",fp="afternoon",dp="evening",hp="night",pp={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return zh(e,t)},Y:function(e,t,n,r){var i=np(e,r),o=i>0?i:1-i;if("YY"===t){var s=o%100;return Rh(s,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Rh(o,t.length)},R:function(e,t){var n=Xh(e);return Rh(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return Rh(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Rh(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Rh(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Uh(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Rh(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=op(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Rh(i,t.length)},I:function(e,t,n){var r=ep(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Rh(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):qh(e,t)},D:function(e,t,n){var r=Kh(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Rh(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Rh(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Rh(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Rh(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours(),i=r/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r=e.getUTCHours(),i;switch(i=12===r?up:0===r?cp:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r=e.getUTCHours(),i;switch(i=r>=17?dp:r>=12?fp:r>=4?lp:hp,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Bh(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Hh(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Rh(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Rh(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Wh(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Yh(e,t)},S:function(e,t){return Gh(e,t)},X:function(e,t,n,r){var i=r._originalDate||e,o=i.getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return gp(o);case"XXXX":case"XX":return vp(o);case"XXXXX":case"XXX":default:return vp(o,":")}},x:function(e,t,n,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return gp(o);case"xxxx":case"xx":return vp(o);case"xxxxx":case"xxx":default:return vp(o,":")}},O:function(e,t,n,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mp(o,":");case"OOOO":default:return"GMT"+vp(o,":")}},z:function(e,t,n,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mp(o,":");case"zzzz":default:return"GMT"+vp(o,":")}},t:function(e,t,n,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return Rh(o,t.length)},T:function(e,t,n,r){var i=r._originalDate||e,o=i.getTime();return Rh(o,t.length)}};function mp(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+Rh(o,2)}function gp(e,t){if(e%60==0){var n=e>0?"-":"+";return n+Rh(Math.abs(e)/60,2)}return vp(e,t)}function vp(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),o=Rh(Math.floor(i/60),2),s=Rh(i%60,2);return r+o+n+s}function yp(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function wp(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function bp(e,t){var n=e.match(/(P+)(p+)?/),r=n[1],i=n[2],o;if(!i)return yp(e,t);switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",yp(r,t)).replace("{{time}}",wp(i,t))}var xp={p:wp,P:bp},Cp=["D","DD"],$p=["YY","YYYY"];function Ep(e){return-1!==Cp.indexOf(e)}function Sp(e){return-1!==$p.indexOf(e)}function _p(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var kp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Op=/^'([^]*?)'?$/,Np=/''/g,Ap=/[a-zA-Z]/;function Ip(e,t,n){Vd(2,arguments);var r=String(t),i=n||{},o=i.locale||Dh,s=o.options&&o.options.firstWeekContainsDate,a=null==s?1:Gd(s),c=null==i.firstWeekContainsDate?a:Gd(i.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=o.options&&o.options.weekStartsOn,l=null==u?0:Gd(u),f=null==i.weekStartsOn?l:Gd(i.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var d=Kd(e);if(!eh(d))throw new RangeError("Invalid time value");var h=Zd(d),p=Ph(d,h),m={firstWeekContainsDate:c,weekStartsOn:f,locale:o,_originalDate:d},g=r.match(Tp).map((function(e){var t=e[0];if("p"===t||"P"===t){var n=xp[t];return n(e,o.formatLong,m)}return e})).join("").match(kp).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return Mp(n);var s=pp[r];if(s)return!i.useAdditionalWeekYearTokens&&Sp(n)&&_p(n,t,e),!i.useAdditionalDayOfYearTokens&&Ep(n)&&_p(n,t,e),s(p,n,o.localize,m);if(r.match(Ap))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return g}function Mp(e){return e.match(Op)[1].replace(Np,"'")}class jp{constructor(e,t){this.id=sa(),this.message=e,this.level=t}get FormattedLogMessage(){let e,t;switch(this.level){case Ds.Info:e="INFO",t="grey";break;case Ds.Warn:e="WARNING",t="orange";break;case Ds.Error:e="ERROR",t="darkred";break;case Ds.Fatal:e="FATAL",t="red";break;default:e="UNKNOWN",t="black"}return`<span style='display: none'>${this.id}</span><span style='color: grey;'>${this.dateNow}</span> <span style='color: ${t};'>${e}:</span><br/><p style='margin-top: 0.3em;'>${this.message}</p>`}get dateNow(){const e=new Date;return Ip(e,"dd/MM/yyyy H:mm:ss")}}const Lp=function(e){return`<span><strong>${e}</strong> has just edited the story you are working on, please contact him</span>`},Dp=function(e){return`<span><strong>Playout: </strong>${e}</span>`},Pp=function(e){return`<span><strong>Take out:</strong> ${e}</span>`},Rp=function(e){return`<span><strong>Twitter:</strong> ${e}</span>`},zp=function(e){return`<span><strong>Website:</strong> ${e}</span>`};var Up={negative:{url:"build/assets/sounds/negative.mp3"}},qp=new AudioContext;for(var Fp in Up)Bp(Fp);function Bp(e){var t=Up[e],n=t.url,r=t.buffer,i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType="arraybuffer",i.onload=function(){qp.decodeAudioData(i.response,(function(e){t.buffer=e}))},i.send()}function Hp(e,t){var n=Up[e],r=Up[e].volume||1;qp.resume().then((()=>{var e=n.buffer;if(e){var i=qp.createBufferSource();i.buffer=e;var o=qp.createGain();t?t.volume&&(o.gain.value=r*t.volume):o.gain.value=r,o.connect(qp.destination),i.connect(o),i.start(0)}}))}var Wp=_t((function(e,t){!function(t,n){e.exports=n()}(Et,(function(){var e={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},t=Array.prototype.slice;function n(e){var n=e.length;return n?1===n?[e[0]]:2===n?[e[0],e[1]]:3===n?[e[0],e[1],e[2]]:t.call(e,0):[]}function r(t){var n={};for(var r in t)e[r]||(n[r]=t[r]);return n}function i(e){return"function"==typeof e&&e.isMemoized}function o(e,t){return e===t||e!=e&&t!=t}function s(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}var a=function(){function e(e){this.keys=[],this.values=[],this.options=e;var t="function"==typeof e.isMatchingKey;t?this.getKeyIndex=this._getKeyIndexFromMatchingKey:e.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey="function"==typeof e.transformKey,this.shouldCloneArguments=this.canTransformKey||t,this.shouldUpdateOnAdd="function"==typeof e.onCacheAdd,this.shouldUpdateOnChange="function"==typeof e.onCacheChange,this.shouldUpdateOnHit="function"==typeof e.onCacheHit}return Object.defineProperty(e.prototype,"size",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snapshot",{get:function(){return{keys:n(this.keys),size:this.size,values:n(this.values)}},enumerable:!0,configurable:!0}),e.prototype._getKeyIndexFromMatchingKey=function(e){var t=this.options,n=t.isMatchingKey,r=t.maxSize,i=this.keys,o=i.length;if(!o)return-1;if(n(i[0],e))return 0;if(r>1)for(var s=1;s<o;s++)if(n(i[s],e))return s;return-1},e.prototype._getKeyIndexForMany=function(e){var t=this.options.isEqual,n=this.keys,r=n.length;if(!r)return-1;if(1===r)return this._getKeyIndexForSingle(e);var i=e.length,o,s;if(i>1){for(var a=0;a<r;a++)if(o=n[a],o.length===i){for(s=0;s<i&&t(o[s],e[s]);s++);if(s===i)return a}}else for(var a=0;a<r;a++)if(o=n[a],o.length===i&&t(o[0],e[0]))return a;return-1},e.prototype._getKeyIndexForSingle=function(e){var t=this.keys;if(!t.length)return-1;var n=t[0],r=n.length;if(e.length!==r)return-1;var i=this.options.isEqual;if(r>1){for(var o=0;o<r;o++)if(!i(n[o],e[o]))return-1;return 0}return i(n[0],e[0])?0:-1},e.prototype.orderByLru=function(e,t,n){for(var r=this.keys,i=this.values,o=r.length,s=n;s--;)r[s+1]=r[s],i[s+1]=i[s];r[0]=e,i[0]=t;var a=this.options.maxSize;o===a&&n===o?(r.pop(),i.pop()):n>=a&&(r.length=i.length=a)},e.prototype.updateAsyncCache=function(e){var t=this,n=this.options,r=n.onCacheChange,i=n.onCacheHit,o=this.keys[0],s=this.values[0];this.values[0]=s.then((function(n){return t.shouldUpdateOnHit&&i(t,t.options,e),t.shouldUpdateOnChange&&r(t,t.options,e),n}),(function(e){var n=t.getKeyIndex(o);throw-1!==n&&(t.keys.splice(n,1),t.values.splice(n,1)),e}))},e}();function c(e,t){if(void 0===t&&(t={}),i(e))return c(e.fn,s(e.options,t));if("function"!=typeof e)throw new TypeError("You must pass a function to `memoize`.");var u=t.isEqual,l=void 0===u?o:u,f=t.isMatchingKey,d=t.isPromise,h=void 0!==d&&d,p=t.maxSize,m=void 0===p?1:p,g=t.onCacheAdd,v=t.onCacheChange,y=t.onCacheHit,w=t.transformKey,b=s({isEqual:l,isMatchingKey:f,isPromise:h,maxSize:m,onCacheAdd:g,onCacheChange:v,onCacheHit:y,transformKey:w},r(t)),x=new a(b),C=x.keys,$=x.values,E=x.canTransformKey,S=x.shouldCloneArguments,_=x.shouldUpdateOnAdd,k=x.shouldUpdateOnChange,T=x.shouldUpdateOnHit,O=function t(){var r=S?n(arguments):arguments;E&&(r=w(r));var i=C.length?x.getKeyIndex(r):-1;if(-1!==i)T&&y(x,b,t),i&&(x.orderByLru(C[i],$[i],i),k&&v(x,b,t));else{var o=e.apply(this,arguments),s=S?r:n(arguments);x.orderByLru(s,o,C.length),h&&x.updateAsyncCache(t),_&&g(x,b,t),k&&v(x,b,t)}return $[0]};return O.cache=x,O.fn=e,O.isMemoized=!0,O.options=b,O}return c}))})),Yp=_t((function(e,t){!function(e,n){n(t)}(Et,(function(e){var t="function"==typeof WeakSet,n=Object.keys;function r(e,t){e&&"object"==typeof e&&t.add(e)}function i(e,t,n,r){for(var i=e.length,o,s=0;s<i;s++)if(o=e[s],n(o[0],t[0],r)&&n(o[1],t[1],r))return!0;return!1}function o(e,t,n,r){for(var i=e.length,o=0;o<i;o++)if(n(e[o],t,r))return!0;return!1}function s(e,t){return e===t||e!=e&&t!=t}function a(e){return e.constructor===Object||null==e.constructor}function c(e){return!!e&&"function"==typeof e.then}function u(e){return!(!e||!e.$$typeof)}function l(){return Object.create({_values:[],add:function(e){this._values.push(e)},has:function(e){return-1!==this._values.indexOf(e)}})}var f=(d=t,d?function e(){return new WeakSet}:l),d;function h(e){return function t(n){var i=e||n;return function e(t,n,o){void 0===o&&(o=f());var s=o.has(t),a=o.has(n);return s||a?s&&a:(r(t,o),r(n,o),i(t,n,o))}}}function p(e){var t=new Array(e.size),n=0;return e.forEach((function(e,r){t[n++]=[r,e]})),t}function m(e){var t=new Array(e.size),n=0;return e.forEach((function(e){t[n++]=e})),t}function g(e,t,n,r){var i=e.length;if(t.length!==i)return!1;for(var o=0;o<i;o++)if(!n(e[o],t[o],r))return!1;return!0}function v(e,t,n,r){if(e.size!==t.size)return!1;for(var o=p(e),s=p(t),a=o.length,c=0;c<a;c++)if(!i(s,o[c],n,r)||!i(o,s[c],n,r))return!1;return!0}var y="_owner",w=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function b(e,t,r,i){var o=n(e),s=o.length,a;if(n(t).length!==s)return!1;for(var c=0;c<s;c++){if(a=o[c],!w(t,a))return!1;if(a===y&&u(e)){if(!u(t))return!1}else if(!r(e[a],t[a],i))return!1}return!0}function x(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex}function C(e,t,n,r){if(e.size!==t.size)return!1;for(var i=m(e),s=m(t),a=i.length,c=0;c<a;c++)if(!o(s,i[c],n,r)||!o(i,s[c],n,r))return!1;return!0}var $=Array.isArray,E="function"==typeof Map,S="function"==typeof Set,_="object";function k(e){var t="function"==typeof e?e(n):n;function n(e,n,r){if(s(e,n))return!0;if(e&&n&&typeof e===_&&typeof n===_){if(a(e)&&a(n))return b(e,n,t,r);var i=$(e),o=$(n);if(i||o)return i===o&&g(e,n,t,r);var u=e instanceof Date,l=n instanceof Date;if(u||l)return u===l&&s(e.getTime(),n.getTime());var f=e instanceof RegExp,d=n instanceof RegExp;if(f||d)return f===d&&x(e,n);if(c(e)||c(n))return e===n;if(E){var h=e instanceof Map,p=n instanceof Map;if(h||p)return h===p&&v(e,n,t,r)}if(S){var m=e instanceof Set,y=n instanceof Set;if(m||y)return m===y&&C(e,n,t,r)}return b(e,n,t,r)}return!1}return n}var T=k(),O=k((function(){return s})),N=k(h()),A=k(h(s));e.circularDeepEqual=N,e.circularShallowEqual=A,e.createCustomEqual=k,e.deepEqual=T,e.sameValueZeroEqual=s,e.shallowEqual=O,Object.defineProperty(e,"__esModule",{value:!0})}))})),Gp=_t((function(e,t){!function(t,n){e.exports=n(Wp,Yp)}(Et,(function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}var s={isDeepEqual:!1,isPromise:!1,isReact:!1,isSerialized:!1,isShallowEqual:!1,matchesArg:void 0,matchesKey:void 0,maxAge:void 0,maxArgs:void 0,maxSize:1,onExpire:void 0,profileName:void 0,serializer:void 0,updateCacheForKey:void 0,transformArgs:void 0,updateExpire:!1};function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return"function"==typeof e?"function"==typeof t?function(){e.apply(this,arguments),t.apply(this,arguments)}:e:"function"==typeof t?t:void 0}))}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return"function"==typeof e?"function"==typeof t?function(){return e(t.apply(this,arguments))}:e:"function"==typeof t?t:void 0}))}function u(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return n;return-1}function l(e,t){var n="function"==typeof t?t:function(t,n){for(var r=0;r<n.length;r++)if(!e(t[r],n[r]))return!1;return!0};return function(e,t){for(var r=0;r<e.length;r++)if(e[r].length===t.length&&n(e[r],t))return r;return-1}}function f(e,t){return t&&t!==s?i({},e,t,{onCacheAdd:a(e.onCacheAdd,t.onCacheAdd),onCacheChange:a(e.onCacheChange,t.onCacheChange),onCacheHit:a(e.onCacheHit,t.onCacheHit),transformArgs:c(e.transformArgs,t.transformArgs)}):e}function d(e){return"function"==typeof e&&e.isMoized}function h(e,t,n){var r=u(e,t);-1!==r&&(clearTimeout(e[r].timeoutId),n&&e.splice(r,1))}function p(e,t){var n=setTimeout(e,t);return"function"==typeof n.unref&&n.unref(),n}function m(e,t,n,r){var i=t.maxAge;return function o(s,a,c){var f=s.keys[0];if(-1===u(e,f)){var d=function i(){var u=l(n,r),d=u(s.keys,f),p=s.values[d];~d&&(s.keys.splice(d,1),s.values.splice(d,1),"function"==typeof t.onCacheChange&&t.onCacheChange(s,a,c)),h(e,f,!0),"function"==typeof t.onExpire&&!1===t.onExpire(f)&&(s.keys.unshift(f),s.values.unshift(p),o(s,a,c),"function"==typeof t.onCacheChange&&t.onCacheChange(s,a,c))};e.push({expirationMethod:d,key:f,timeoutId:p(d,i)})}}}function g(e,t){return function n(r){var i=r.keys[0],o=u(e,i);~o&&(h(e,i,!1),e[o].timeoutId=p(e[o].expirationMethod,t.maxAge))}}function v(e,t,n,r){var i="number"==typeof t.maxAge&&isFinite(t.maxAge)?m(e,t,n,r):void 0;return{onCacheAdd:i,onCacheHit:i&&t.updateExpire?g(e,t):void 0}}var y={anonymousProfileNameCounter:1,isCollectingStats:!1,profiles:{}},w=!1;function b(e){e?delete y.profiles[e]:y.profiles={}}function x(e){void 0===e&&(e=!0),y.isCollectingStats=e}function C(e){var t=e.profileName;return function(){t&&!y.profiles[t]&&(y.profiles[t]={calls:0,hits:0}),y.profiles[t].calls++}}function $(e){return function(){var t=y.profiles,n=e.profileName;t[n]||(t[n]={calls:0,hits:0}),t[n].calls++,t[n].hits++}}function E(e){var t=(new Error).stack,n=e.displayName||e.name||"Anonymous "+y.anonymousProfileNameCounter++;if(!t)return n;for(var r=t.split("\n").slice(3),i,o,s=0;s<r.length;s++)if(i=r[s],-1===i.indexOf("/moize/")&&-1===i.indexOf(" (native)")&&-1===i.indexOf(" Function.")){o=i.replace(/\n/g,"\\n").trim();break}return o?n+" "+o:n}function S(e,t){return e?(t/e*100).toFixed(4)+"%":"0.0000%"}function _(e){y.isCollectingStats||w||(console.warn('Stats are not currently being collected, please run "collectStats" to enable them.'),w=!0);var t=y.profiles;if(e){if(!t[e])return{calls:0,hits:0,usage:"0.0000%"};var n=t[e];return i({},n,{usage:S(n.calls,n.hits)})}var r=Object.keys(y.profiles).reduce((function(e,n){return e.calls+=t[n].calls,e.hits+=t[n].hits,e}),{calls:0,hits:0});return i({},r,{profiles:Object.keys(t).reduce((function(e,t){return e[t]=_(t),e}),{}),usage:S(r.calls,r.hits)})}function k(e){return y.isCollectingStats?{onCacheAdd:C(e),onCacheHit:$(e)}:{}}var T={constructor:!0,length:!0,name:!0,prototype:!0};function O(e,t,n){void 0===n&&(n=[]),Object.getOwnPropertyNames(e).forEach((function(r){if(!T[r]&&-1===n.indexOf(r)){var i=Object.getOwnPropertyDescriptor(e,r);i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}}))}function N(e,t){var n=t.expirations,r=e.options,i=l(r.isEqual,r.isMatchingKey),o=e;o.clear=function(){var e=o._microMemoizeOptions.onCacheChange,t=o.cache;return t.keys.length=0,t.values.length=0,e&&e(t,o.options,o),!0},o.clearStats=function(){b(o.options.profileName)},o.get=function(e){var t=o._microMemoizeOptions.transformKey,n=o.cache,r=t?t(e):e,s=i(n.keys,r);return-1!==s?o.apply(this,e):void 0},o.getStats=function(){return _(o.options.profileName)},o.has=function(e){var t=o._microMemoizeOptions.transformKey,n=t?t(e):e;return-1!==i(o.cache.keys,n)},o.keys=function(){return o.cacheSnapshot.keys},o.remove=function(e){var t=o._microMemoizeOptions,r=t.onCacheChange,s=t.transformKey,a=o.cache,c=i(a.keys,s?s(e):e);if(-1===c)return!1;var u=a.keys[c];return a.keys.splice(c,1),a.values.splice(c,1),r&&r(a,o.options,o),h(n,u,!0),!0},o.set=function(e,t){var n=o._microMemoizeOptions,r=o.cache,s=o.options,a=n.onCacheAdd,c=n.onCacheChange,u=n.transformKey,l=u?u(e):e,f=i(r.keys,l);if(-1===f){var d=s.maxSize-1;r.size>d&&(r.keys.length=d,r.values.length=d),r.keys.unshift(l),r.values.unshift(t),s.isPromise&&r.updateAsyncCache(o),a&&a(r,s,o),c&&c(r,s,o)}else{var h=r.keys[f];r.values[f]=t,f>0&&r.orderByLru(h,t,f),s.isPromise&&r.updateAsyncCache(o),"function"==typeof c&&c(r,s,o)}},o.values=function(){return o.cacheSnapshot.values}}function A(e,t){var n=t.expirations,r=t.options,i=t.originalFunction,o=e.options;Object.defineProperties(e,{_microMemoizeOptions:{configurable:!0,get:function e(){return o}},cacheSnapshot:{configurable:!0,get:function t(){var n=e.cache;return{keys:n.keys.slice(0),size:n.size,values:n.values.slice(0)}}},expirations:{configurable:!0,get:function e(){return n}},expirationsSnapshot:{configurable:!0,get:function e(){return n.slice(0)}},isMoized:{configurable:!0,get:function e(){return!0}},options:{configurable:!0,get:function e(){return r}},originalFunction:{configurable:!0,get:function e(){return i}}});var s=e;O(i,s)}function I(e,t){return N(e,t),A(e,t),e}var M="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function j(e,t,n){var r=e(i({maxArgs:2,isShallowEqual:!0},n,{isReact:!1}));function o(e,n,i){this.props=e,this.context=n,this.updater=i,this.MoizedComponent=r(t)}return t.displayName||(t.displayName=t.name||"Component"),o.prototype.isReactComponent={},o.prototype.render=function(){return{$$typeof:M,type:this.MoizedComponent,props:this.props,ref:null,key:null,_owner:null}},O(t,o,["contextType","contextTypes"]),o.displayName="Moized("+(t.displayName||t.name||"Component")+")",o}function L(e){return function(t){if(e>=t.length)return t;if(0===e)return[];if(1===e)return[t[0]];if(2===e)return[t[0],t[1]];if(3===e)return[t[0],t[1],t[2]];for(var n=[],r=0;r<e;r++)n[r]=t[r];return n}}function D(e,t){for(var n=e.length,r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function P(){var e=[],t=[];return function n(r,i){var o=typeof i;if("function"===o||"symbol"===o)return i.toString();if("object"==typeof i){if(e.length){var s=D(e,this);0===s?e[e.length]=this:(e.splice(s),t.splice(s)),t[t.length]=r;var a=D(e,i);if(0!==a)return"[ref="+(t.slice(0,a).join(".")||".")+"]"}else e[0]=i,t[0]=r;return i}return""+i}}function R(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?e:JSON.stringify(e,P())}function z(e){for(var t="|",n=0;n<e.length;n++)t+=R(e[n])+"|";return[t]}function U(e){return"function"==typeof e.serializer?e.serializer:z}function q(e,t){return e[0]===t[0]}function F(e){if("function"==typeof e)return function(t,n,r){return e(r.cache,r.options,r)}}function B(e){return e.matchesArg||e.isDeepEqual&&t.deepEqual||e.isShallowEqual&&t.shallowEqual||t.sameValueZeroEqual}function H(e){return e.matchesKey||e.isSerialized&&q||void 0}function W(e){return c(e.isSerialized&&U(e),"function"==typeof e.transformArgs&&e.transformArgs,"number"==typeof e.maxArgs&&L(e.maxArgs))}function Y(e){var t=e.options.updateCacheForKey;function n(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!t(r))return e.apply(this,r);var o=e.fn.apply(this,r);return e.set(r,o),o}return O(e,n),n}var G=function e(t,n){var c=n||s;if(d(t)){var u=t.originalFunction,l=f(t.options,c);return e(u,l)}if("object"==typeof t)return function(n,r){if("function"==typeof n){var i=f(t,r);return e(n,i)}var o=f(t,n);return e(o)};if(c.isReact)return j(e,t,c);var h=i({},s,c,{maxAge:"number"==typeof c.maxAge&&c.maxAge>=0?c.maxAge:s.maxAge,maxArgs:"number"==typeof c.maxArgs&&c.maxArgs>=0?c.maxArgs:s.maxArgs,maxSize:"number"==typeof c.maxSize&&c.maxSize>=0?c.maxSize:s.maxSize,profileName:c.profileName||E(t)}),p=[],m=h.matchesArg,g=h.isDeepEqual,y=h.isPromise,w=h.isReact,b=h.isSerialized,x=h.isShallowEqual,C=h.matchesKey,$=h.maxAge,S=h.maxArgs,_=h.maxSize,T=h.onCacheAdd,O=h.onCacheChange,N=h.onCacheHit,A=h.onExpire,M=h.profileName,L=h.serializer,D=h.updateCacheForKey,P=h.transformArgs,R=h.updateExpire,z=o(h,["matchesArg","isDeepEqual","isPromise","isReact","isSerialized","isShallowEqual","matchesKey","maxAge","maxArgs","maxSize","onCacheAdd","onCacheChange","onCacheHit","onExpire","profileName","serializer","updateCacheForKey","transformArgs","updateExpire"]),U=B(h),q=H(h),G=v(p,h,U,q),V=k(h),K=W(h),J=i({},z,{isEqual:U,isMatchingKey:q,isPromise:y,maxSize:_,onCacheAdd:F(a(T,G.onCacheAdd,V.onCacheAdd)),onCacheChange:F(O),onCacheHit:F(a(N,G.onCacheHit,V.onCacheHit)),transformKey:K}),X=r.default(t,J),Q=I(X,{expirations:p,options:h,originalFunction:t});return D?Y(Q):Q};function V(e,t){if(!0===t)return G({maxAge:e,updateExpire:t});if("object"==typeof t){var n=t.onExpire,r=t.updateExpire;return G({maxAge:e,onExpire:n,updateExpire:r})}return G("function"==typeof t?{maxAge:e,onExpire:t,updateExpire:!0}:{maxAge:e})}return G.clearStats=b,G.collectStats=x,G.compose=function(){return c.apply(void 0,arguments)||G},G.deep=G({isDeepEqual:!0}),G.getStats=_,G.infinite=G({maxSize:1/0}),G.isCollectingStats=function e(){return y.isCollectingStats},G.isMoized=function e(t){return"function"==typeof t&&!!t.isMoized},G.matchesArg=function(e){return G({matchesArg:e})},G.matchesKey=function(e){return G({matchesKey:e})},G.maxAge=V,G.maxArgs=function e(e){return G({maxArgs:e})},G.maxSize=function e(e){return G({maxSize:e})},G.profile=function(e){return G({profileName:e})},G.promise=G({isPromise:!0,updateExpire:!0}),G.react=G({isReact:!0}),G.serialize=G({isSerialized:!0}),G.serializeWith=function(e){return G({isSerialized:!0,serializer:e})},G.shallow=G({isShallowEqual:!0}),G.transformArgs=function(e){return G({transformArgs:e})},G.updateCacheForKey=function(e){return G({updateCacheForKey:e})},G}))})),Vp={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"},Kp={entityMap:Vp},Jp=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Xp=new RegExp("[\\-\\.0-9"+Jp.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Qp=new RegExp("^"+Jp.source+Xp.source+"*(?::"+Jp.source+Xp.source+"*)?$"),Zp=0,em=1,tm=2,nm=3,rm=4,im=5,om=6,sm=7;function am(){}function cm(e,t,n,r,i){function o(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function a(t){if(t>m){var n=e.substring(m,t).replace(/&#?\w+;/g,s);d&&c(m),r.characters(n,0,t-m),m=t}}function c(t,n){for(;t>=l&&(n=f.exec(e));)u=n.index,l=u+n[0].length,d.lineNumber++;d.columnNumber=t-u+1}for(var u=0,l=0,f=/.*(?:\r\n?|\n)|.*$/g,d=r.locator,h=[{currentNSMap:t}],p={},m=0;;){try{var g=e.indexOf("<",m);if(g<0){if(!e.substr(m).match(/^\s*$/)){var v=r.doc,y=v.createTextNode(e.substr(m));v.appendChild(y),r.currentElement=y}return}switch(g>m&&a(g),e.charAt(g+1)){case"/":var w=e.indexOf(">",g+3),b=e.substring(g+2,w),x=h.pop();w<0?(b=e.substring(g+2).replace(/[\s<].*/,""),i.error("end tag name: "+b+" is not complete:"+x.tagName),w=g+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),i.error("end tag name: "+b+" maybe not complete"),w=g+1+b.length);var C=x.localNSMap,$=x.tagName==b,E=$||x.tagName&&x.tagName.toLowerCase()==b.toLowerCase();if(E){if(r.endElement(x.uri,x.localName,b),C)for(var S in C)r.endPrefixMapping(S);$||i.fatalError("end tag name: "+b+" is not match the current start tagName:"+x.tagName)}else h.push(x);w++;break;case"?":d&&c(g),w=gm(e,g,r);break;case"!":d&&c(g),w=mm(e,g,r,i);break;default:d&&c(g);var _=new vm,k=h[h.length-1].currentNSMap,w=lm(e,g,_,k,s,i),T=_.length;if(!_.closed&&hm(e,w,_.tagName,p)&&(_.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),d&&T){for(var O=um(d,{}),N=0;N<T;N++){var A=_[N];c(A.offset),A.locator=um(d,{})}r.locator=O,fm(_,r,k)&&h.push(_),r.locator=d}else fm(_,r,k)&&h.push(_);"http://www.w3.org/1999/xhtml"!==_.uri||_.closed?w++:w=dm(e,w,_.tagName,s,r)}}catch(e){i.error("element parse error: "+e),w=-1}w>m?m=w:a(Math.max(g,m)+1)}}function um(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function lm(e,t,n,r,i,o){for(var s,a,c=++t,u=0;;){var l=e.charAt(c);switch(l){case"=":if(1===u)s=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(o.warning('attribute value must after "="'),s=e.slice(t,c)),t=c+1,c=e.indexOf(l,t),!(c>0))throw new Error("attribute value no end '"+l+"' match");a=e.slice(t,c).replace(/&#?\w+;/g,i),n.add(s,a,t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');a=e.slice(t,c).replace(/&#?\w+;/g,i),n.add(s,a,t),o.warning('attribute "'+s+'" missed start quot('+l+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:a=e.slice(t,c),"/"===a.slice(-1)&&(n.closed=!0,a=a.slice(0,-1));case 2:2===u&&(a=s),4==u?(o.warning('attribute "'+a+'" missed quot(")!!'),n.add(s,a.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead!!'),n.add(a,a,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":l=" ";default:if(l<=" ")switch(u){case 0:n.setTagName(e.slice(t,c)),u=6;break;case 1:s=e.slice(t,c),u=2;break;case 4:var a=e.slice(t,c).replace(/&#?\w+;/g,i);o.warning('attribute "'+a+'" missed quot(")!!'),n.add(s,a,t);case 5:u=6}else switch(u){case 2:var f=n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&s.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),n.add(s,s,t),t=c,u=1;break;case 5:o.warning('attribute space is required"'+s+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function fm(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var s=e[o],a=s.qName,c=s.value,u=a.indexOf(":");if(u>0)var l=s.prefix=a.slice(0,u),f=a.slice(u+1),d="xmlns"===l&&f;else f=a,l=null,d="xmlns"===a&&"";s.localName=f,!1!==d&&(null==i&&(i={},pm(n,n={})),n[d]=i[d]=c,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,c))}for(var o=e.length;o--;){s=e[o];var l=s.prefix;l&&("xml"===l&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(s.uri=n[l||""]))}var u=r.indexOf(":");u>0?(l=e.prefix=r.slice(0,u),f=e.localName=r.slice(u+1)):(l=null,f=e.localName=r);var h=e.uri=n[l||""];if(t.startElement(h,f,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(h,f,r),i)for(l in i)t.endPrefixMapping(l)}function dm(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),s=e.substring(t+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),o)}return t+1}function hm(e,t,n,r){var i=r[n];return null==i&&(i=e.lastIndexOf("</"+n+">"),i<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function pm(e,t){for(var n in e)t[n]=e[n]}function mm(e,t,n,r){var i=e.charAt(t+2);switch(i){case"-":if("-"===e.charAt(t+3)){var o=e.indexOf("--\x3e",t+4);return o>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var s=ym(e,t),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var c=s[1][0],u=!1,l=!1;a>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],l=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(l=s[3][0]));var f=s[a-1];return n.startDTD(c,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),f.index+f[0].length}}return-1}function gm(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var o=i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function vm(e){}function ym(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}am.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),pm(t,t={}),cm(e,t,n,r,this.errorHandler),r.endDocument()}},vm.prototype={setTagName:function(e){if(!Qp.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!Qp.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};var wm=am,bm={XMLReader:wm};function xm(e,t){for(var n in e)t[n]=e[n]}function Cm(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,r=new r,xm(n,r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var $m="http://www.w3.org/1999/xhtml",Em={},Sm=Em.ELEMENT_NODE=1,_m=Em.ATTRIBUTE_NODE=2,km=Em.TEXT_NODE=3,Tm=Em.CDATA_SECTION_NODE=4,Om=Em.ENTITY_REFERENCE_NODE=5,Nm=Em.ENTITY_NODE=6,Am=Em.PROCESSING_INSTRUCTION_NODE=7,Im=Em.COMMENT_NODE=8,Mm=Em.DOCUMENT_NODE=9,jm=Em.DOCUMENT_TYPE_NODE=10,Lm=Em.DOCUMENT_FRAGMENT_NODE=11,Dm=Em.NOTATION_NODE=12,Pm={},Rm={},zm=Pm.INDEX_SIZE_ERR=(Rm[1]="Index size error",1),Um=Pm.DOMSTRING_SIZE_ERR=(Rm[2]="DOMString size error",2),qm=Pm.HIERARCHY_REQUEST_ERR=(Rm[3]="Hierarchy request error",3),Fm=Pm.WRONG_DOCUMENT_ERR=(Rm[4]="Wrong document",4),Bm=Pm.INVALID_CHARACTER_ERR=(Rm[5]="Invalid character",5),Hm=Pm.NO_DATA_ALLOWED_ERR=(Rm[6]="No data allowed",6),Wm=Pm.NO_MODIFICATION_ALLOWED_ERR=(Rm[7]="No modification allowed",7),Ym=Pm.NOT_FOUND_ERR=(Rm[8]="Not found",8),Gm=Pm.NOT_SUPPORTED_ERR=(Rm[9]="Not supported",9),Vm=Pm.INUSE_ATTRIBUTE_ERR=(Rm[10]="Attribute in use",10),Km=Pm.INVALID_STATE_ERR=(Rm[11]="Invalid state",11),Jm=Pm.SYNTAX_ERR=(Rm[12]="Syntax error",12),Xm=Pm.INVALID_MODIFICATION_ERR=(Rm[13]="Invalid modification",13),Qm=Pm.NAMESPACE_ERR=(Rm[14]="Invalid namespace",14),Zm=Pm.INVALID_ACCESS_ERR=(Rm[15]="Invalid access",15);function eg(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,Rm[e]),this.message=Rm[e],Error.captureStackTrace&&Error.captureStackTrace(this,eg);return n.code=e,t&&(this.message=this.message+": "+t),n}function tg(){}function ng(e,t){this._node=e,this._refresh=t,rg(this)}function rg(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);Pg(e,"length",n.length),xm(n,e),e._inc=t}}function ig(){}function og(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function sg(e,t,n,r){if(r?t[og(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&pg(i,e,r),hg(i,e,n))}}function ag(e,t,n){var r=og(t,n);if(!(r>=0))throw eg(Ym,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(pg(o,e,n),n.ownerElement=null)}}function cg(e){if(this._features={},e)for(var t in e)this._features=e[t]}function ug(){}function lg(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function fg(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(fg(e,t))return!0}while(e=e.nextSibling)}function dg(){}function hg(e,t,n){e&&e._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function pg(e,t,n,r){e&&e._inc++;var i=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&delete t._nsMap[n.prefix?n.localName:""]}function mg(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function gg(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,mg(e.ownerDocument,e),t}function vg(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===Lm){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var s=n?n.previousSibling:e.lastChild;i.previousSibling=s,o.nextSibling=n,s?s.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return mg(e.ownerDocument||e,e),t.nodeType==Lm&&(t.firstChild=t.lastChild=null),t}function yg(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);var r=e.lastChild}var r=e.lastChild;return t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,mg(e.ownerDocument,e,t),t}function wg(){this._nsMap={}}function bg(){}function xg(){}function Cg(){}function $g(){}function Eg(){}function Sg(){}function _g(){}function kg(){}function Tg(){}function Og(){}function Ng(){}function Ag(){}function Ig(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,o=r.namespaceURI;if(o&&null==i){var i=r.lookupPrefix(o);if(null==i)var s=[{namespace:o,prefix:null}]}return jg(this,n,e,t,s),n.join("")}function Mg(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix==r)return s.namespace!=i}return!0}function jg(e,t,n,r,i){if(r){if(e=r(e),!e)return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case Sm:i||(i=[]);var o=i.length,s=e.attributes,a=s.length,c=e.firstChild,u=e.tagName;n=$m===e.namespaceURI||n,t.push("<",u);for(var l=0;l<a;l++){var f=s.item(l);"xmlns"==f.prefix?i.push({prefix:f.localName,namespace:f.value}):"xmlns"==f.nodeName&&i.push({prefix:"",namespace:f.value})}for(var l=0;l<a;l++){var f=s.item(l);if(Mg(f,n,i)){var d=f.prefix||"",h=f.namespaceURI,p=d?" xmlns:"+d:" xmlns";t.push(p,'="',h,'"'),i.push({prefix:d,namespace:h})}jg(f,t,n,r,i)}if(Mg(e,n,i)){var d=e.prefix||"",h=e.namespaceURI,p=d?" xmlns:"+d:" xmlns";t.push(p,'="',h,'"'),i.push({prefix:d,namespace:h})}if(c||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),n&&/^script$/i.test(u))for(;c;)c.data?t.push(c.data):jg(c,t,n,r,i),c=c.nextSibling;else for(;c;)jg(c,t,n,r,i),c=c.nextSibling;t.push("</",u,">")}else t.push("/>");return;case Mm:case Lm:for(var c=e.firstChild;c;)jg(c,t,n,r,i),c=c.nextSibling;return;case _m:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,lg),'"');case km:return t.push(e.data.replace(/[<&]/g,lg));case Tm:return t.push("<![CDATA[",e.data,"]]>");case Im:return t.push("\x3c!--",e.data,"--\x3e");case jm:var m=e.publicId,g=e.systemId;if(t.push("<!DOCTYPE ",e.name),m)t.push(' PUBLIC "',m),g&&"."!=g&&t.push('" "',g),t.push('">');else if(g&&"."!=g)t.push(' SYSTEM "',g,'">');else{var v=e.internalSubset;v&&t.push(" [",v,"]"),t.push(">")}return;case Am:return t.push("<?",e.target," ",e.data,"?>");case Om:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function Lg(e,t,n){var r;switch(t.nodeType){case Sm:r=t.cloneNode(!1),r.ownerDocument=e;case Lm:break;case _m:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(Lg(e,i,n)),i=i.nextSibling;return r}function Dg(e,t,n){var r=new t.constructor;for(var i in t){var o=t[i];"object"!=typeof o&&o!=r[i]&&(r[i]=o)}switch(t.childNodes&&(r.childNodes=new tg),r.ownerDocument=e,r.nodeType){case Sm:var s=t.attributes,a=r.attributes=new ig,c=s.length;a._ownerElement=r;for(var u=0;u<c;u++)r.setAttributeNode(Dg(e,s.item(u),!0));break;case _m:n=!0}if(n)for(var l=t.firstChild;l;)r.appendChild(Dg(e,l,n)),l=l.nextSibling;return r}function Pg(e,t,n){e[t]=n}eg.prototype=Error.prototype,xm(Pm,eg),tg.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)jg(this[r],n,e,t);return n.join("")}},ng.prototype.item=function(e){return rg(this),this[e]},Cm(ng,tg),ig.prototype={length:0,item:tg.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new eg(Vm);var n=this.getNamedItem(e.nodeName);return sg(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t=e.ownerElement,n;if(t&&t!=this._ownerElement)throw new eg(Vm);return n=this.getNamedItemNS(e.namespaceURI,e.localName),sg(this._ownerElement,this,e,n),n},removeNamedItem:function(e){var t=this.getNamedItem(e);return ag(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return ag(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},cg.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new dg;if(r.implementation=this,r.childNodes=new tg,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new Sg;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},ug.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return vg(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return gg(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return Dg(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==km&&e.nodeType==km?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==_m?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==_m?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},xm(Em,ug),xm(Em,ug.prototype),dg.prototype={nodeName:"#document",nodeType:Mm,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Lm){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==Sm&&(this.documentElement=e),vg(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),gg(this,e)},importNode:function(e,t){return Lg(this,e,t)},getElementById:function(e){var t=null;return fg(this.documentElement,(function(n){if(n.nodeType==Sm&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new ng(this,(function(e){var n=[];return fg(e.documentElement,(function(r){r!==e&&r.nodeType==Sm&&t.test(r.getAttribute("class"))&&n.push(r)})),n}))},createElement:function(e){var t=new wg;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new tg;var n=t.attributes=new ig;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new Og;return e.ownerDocument=this,e.childNodes=new tg,e},createTextNode:function(e){var t=new Cg;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new $g;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Eg;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Ng;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new bg;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Tg;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new wg,r=t.split(":"),i=n.attributes=new ig;return n.childNodes=new tg,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new bg,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},Cm(dg,ug),wg.prototype={nodeType:Sm,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Lm?this.insertBefore(e,null):yg(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new ng(this,(function(t){var n=[];return fg(t,(function(r){r===t||r.nodeType!=Sm||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new ng(this,(function(n){var r=[];return fg(n,(function(i){i===n||i.nodeType!==Sm||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},dg.prototype.getElementsByTagName=wg.prototype.getElementsByTagName,dg.prototype.getElementsByTagNameNS=wg.prototype.getElementsByTagNameNS,Cm(wg,ug),bg.prototype.nodeType=_m,Cm(bg,ug),xg.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(Rm[qm])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),i=this.data.substring(e+t);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}},Cm(xg,ug),Cg.prototype={nodeName:"#text",nodeType:km,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},Cm(Cg,xg),$g.prototype={nodeName:"#comment",nodeType:Im},Cm($g,xg),Eg.prototype={nodeName:"#cdata-section",nodeType:Tm},Cm(Eg,xg),Sg.prototype.nodeType=jm,Cm(Sg,ug),_g.prototype.nodeType=Dm,Cm(_g,ug),kg.prototype.nodeType=Nm,Cm(kg,ug),Tg.prototype.nodeType=Om,Cm(Tg,ug),Og.prototype.nodeName="#document-fragment",Og.prototype.nodeType=Lm,Cm(Og,ug),Ng.prototype.nodeType=Am,Cm(Ng,ug),Ag.prototype.serializeToString=function(e,t,n){return Ig.call(e,t,n)},ug.prototype.toString=Ig;try{if(Object.defineProperty){function Rg(e){switch(e.nodeType){case Sm:case Lm:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(Rg(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(ng.prototype,"length",{get:function(){return rg(this),this.$$length}}),Object.defineProperty(ug.prototype,"textContent",{get:function(){return Rg(this)},set:function(e){switch(this.nodeType){case Sm:case Lm:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Pg=function(e,t,n){e["$$"+t]=n}}}catch(e){}var zg=ug,Ug=cg,qg=Ag,Fg={Node:zg,DOMImplementation:Ug,XMLSerializer:qg},Bg=_t((function(e,t){function n(e){this.options=e||{locator:{}}}function r(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},o=e instanceof Function;function a(t){var i=e[t];!i&&o&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+s(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function a(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}n.prototype.parseFromString=function(e,t){var n=this.options,o=new u,s=n.domBuilder||new i,a=n.errorHandler,c=n.locator,l=n.xmlns||{},f=/\/x?html?$/.test(t),d=f?Kp.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&s.setDocumentLocator(c),o.errorHandler=r(a,s,c),o.domBuilder=n.domBuilder||s,f&&(l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e&&"string"==typeof e?o.parse(e,l,d):o.errorHandler.error("invalid doc source"),s.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,s=i.createElementNS(e,n||t),a=r.length;c(this,s),this.currentElement=s,this.locator&&o(this.locator,s);for(var u=0;u<a;u++){var e=r.getURI(u),l=r.getValue(u),n=r.getQName(u),f=i.createAttributeNS(e,n);this.locator&&o(r.getLocator(u),f),f.value=f.nodeValue=l,s.setAttributeNode(f)}},endElement:function(e,t,n){var r=this.currentElement,i=r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,n),c(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=a.apply(this,arguments),e){if(this.cdata)var r=this.doc.createCDATASection(e);else var r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=a.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&o(this.locator,r),c(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&o(this.locator,i),c(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var u=bm.XMLReader,l=t.DOMImplementation=Fg.DOMImplementation;t.XMLSerializer=Fg.XMLSerializer,t.DOMParser=n}));function Hg(e,t,n,r){let i=(new Bg.DOMImplementation).createDocument("","",null),o=i.createElementNS("http://www.vizrt.com/types","payload");return o.setAttribute("model",t),i.appendChild(o),n.fields.forEach(((e,t)=>{const n=Yg(t,r)?r[t]:"";o.appendChild(Wg(i,e,n))})),i}function Wg(e,t,n){const r=e.createElement("field");r.setAttribute("name",t);const i=e.createElement("value"),o=e.createTextNode(n);return i.appendChild(o),r.appendChild(i),e.appendChild(r),r}function Yg(e,t){return e>=0&&e<t.length}function Gg(e){let t=(new Bg.DOMImplementation).createDocument("","",null),n=t.createElementNS("http://www.vizrt.com/snapshotrequest","snapshotrequest");return n.appendChild(Vg(t,e.StopPointType,e.StopPointValue)),n.appendChild(Kg(t,e.Width,e.Height)),n.appendChild(Jg(t,e.SnapshotType)),n.appendChild(Xg(t,{concept:e.Context.concept,variant:e.Context.variant})),n}function Vg(e,t,n){const r=e.createElement("position"),i=e.createTextNode(n);let o;switch(t){case js.namedposition:o=e.createElement(js.namedposition.value);break;case js.fposition:o=e.createElement(js.fposition.value);break;case js.absoluteposition:o=e.createElement(js.absoluteposition.valuee);break;default:throw new Sd("unknown position description "+JSON.stringify(t))}return o.appendChild(i),r.appendChild(o),r}function Kg(e,t,n){const r=e.createElement("videomoderequest"),i=e.createElement("width"),o=e.createTextNode(t),s=e.createElement("height"),a=e.createTextNode(n);return r.appendChild(i).appendChild(o),r.appendChild(s).appendChild(a),r}function Jg(e,t){const n=e.createElement("snapshotdata");switch(t){case Ls.all:n.setAttribute("view",Ls.all.value);break;case Ls.key:n.setAttribute("view",Ls.key.value);break;case Ls.fill:n.setAttribute("view",Ls.fill.value);break;default:throw new _d("unknown snapshotdata value: "+JSON.stringify(t))}return n}function Xg(e,t){const n=e.createElement("context"),r=e.createElement("entry"),i=e.createElement("entry");return r.setAttribute("key","concept"),r.setAttribute("value",t.concept),i.setAttribute("key","variant"),i.setAttribute("value",t.variant),n.appendChild(r),n.appendChild(i),n}const Qg=jc.create({timeout:15e3,headers:{Accept:"*/*","Content-Type":"application/xml"}});async function Zg(e){try{const t=await Qg.get(e.pdsUrl,{responseType:"document"}),n=await t.data,r="//app:collection[@vizrt:type='external_ids']/@href",i=n.evaluate(r,n,hv,XPathResult.STRING_TYPE,null);return i.stringValue}catch(e){e.response?(console.log("GetExtIdFeedUrl"),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("error",e.message)}}async function ev(e,t){try{const n=await Qg.get(vs(t,e),{responseType:"document"}),r=await n.data,i="//ns:link[@rel='alternate']/@href",o=r.evaluate(i,r,nv,XPathResult.STRING_TYPE,null);return o.stringValue}catch(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("error",e.message)}}const tv=Gp(ev,{isPromise:!0});function nv(){return"http://www.w3.org/2005/Atom"}async function rv(e,t,n,r,i,o,s){try{if(iv(e,t,n,r,i,o,s))return new Promise((function(a){let c="",u={};const l=Gg(av(n,~~(r/wt),i,o)),f=new Bg.XMLSerializer;u.s=f.serializeToString(l);let d="";tv(t,e).then((e=>{d=e;let n=Hg(t,d,o,dv(s));const r=new Bg.XMLSerializer;u.p=r.serializeToString(n),c=vs(yt,"api/preview/snapshot",{query:u}),a(c)})).catch((e=>{console.log(e)}))}))}catch(e){return console.log("getPreviewUrl: ",e.message),new Promise((function(e){e("build/assets/png/checkerboard.png")}))}}function iv(e,t,n,r,i,o,s){if(!sv(e))throw new jd('externalId feed url not valid, feedUrl: "'+e+'"');if(!Number.isInteger(Number(t)))throw new jd("externalId is not an integer");if(isNaN(parseFloat(n)))throw new jd("preview width is not float");if(isNaN(parseFloat(r)))throw new jd("preview height is not float");if(i.length<=0)throw new jd("stop point is an empty string");if(ov(o))throw new jd("mappings object is empty");return!0}function ov(e){return 0===Object.keys(e).length&&e.constructor===Object}function sv(e){try{const t=new URL(e)}catch(e){return!1}return!0}function av(e,t,n,r,i=Ls.all){return{StopPointType:lv(n),StopPointValue:n,Width:e,Height:t,Context:{concept:cv(r),variant:uv(r)},SnapshotType:i}}function cv(e){if("conceptvariantchoice"in e&&"Concept"in e.conceptvariantchoice)return e.conceptvariantchoice.Concept;throw new Td}function uv(e){if("conceptvariantchoice"in e&&"Variant"in e.conceptvariantchoice)return e.conceptvariantchoice.Variant;throw new Od}function lv(e){if(Number.isInteger(e)&&e>=0)return js.fposition;if(e.toString().startsWith("$")&&e.length>1)return js.namedposition;if(fv(e))return js.absoluteposition;throw new kd(e)}function fv(e){return Number(e)===e&&e%1!=0}function dv(e){return Array.isArray(e)?e:[e]}function hv(e){var t={vaext:"http://www.vizrt.com/atom-ext",app:"http://www.w3.org/2007/app",a10:"http://www.w3.org/2005/Atom",vizrt:"http://www.vizrt.com/xmlns/types"};return t[e]||null}function pv(e){let n,r,i;return{c(){n=T("div"),r=T("img"),r.src!==(i=e[0])&&D(r,"src",i),D(r,"style",e[1]),D(r,"alt","Vizrt generated preview here"),D(r,"class","svelte-spm67"),D(n,"class","svelte-spm67")},m(e,t){S(e,n,t),E(n,r)},p(e,[t]){1&t&&r.src!==(i=e[0])&&D(r,"src",i),2&t&&D(r,"style",e[1])},i:t,o:t,d(e){e&&_(n)}}}function mv(e,t,n){let r={pdsUrl:ot,prvUrl:yt,extFeedUrl:""},{imageWidth:i}=t,{template:o}=t,{data:s}=t,a,c;const u=Gp.promise(rv);return ue((async()=>{let e=await Zg(r);if(n(5,r.extFeedUrl=e,r),o){let e=await ev(o.value,r.extFeedUrl);n(5,r.modelUrl=e,r)}})),e.$set=e=>{"imageWidth"in e&&n(2,i=e.imageWidth),"template"in e&&n(3,o=e.template),"data"in e&&n(4,s=e.data)},e.$$.update=()=>{60&e.$$.dirty&&(async()=>{n(0,a=await u(r.extFeedUrl,o?o.value:void 0,~~i,~~i,o?o.stopPoint:void 0,o?o.mappings:void 0,s))})(),8&e.$$.dirty&&n(1,c=o?`object-position: ${o.hShift} ${o.vShift};`:"object-position: 0% 0%;")},[a,c,i,o,s]}class gv extends rt{constructor(e){super(),nt(this,e,mv,pv,c,{imageWidth:2,template:3,data:4})}}function vv(e){let t,n,r;const i=new wi({});return{c(){t=T("div"),Qe(i.$$.fragment),D(t,"class","connection svelte-udz2xz")},m(e,n){S(e,t,n),Ze(i,t,null),r=!0},i(e){r||(Pe(i.$$.fragment,e),Ee((()=>{n||(n=Fe(t,Ct,{},!0)),n.run(1)})),r=!0)},o(e){Re(i.$$.fragment,e),n||(n=Fe(t,Ct,{},!1)),n.run(0),r=!1},d(e){e&&_(t),et(i),e&&n&&n.end()}}}function yv(e){let t,n={duration:Tt.get("AutoMsgDuration",15)};const r=new Rt({props:n});return e[80](r),r.$on("okay",e[38]),{c(){Qe(r.$$.fragment)},m(e,n){Ze(r,e,n),t=!0},p(e,t){const n={};r.$set(n)},i(e){t||(Pe(r.$$.fragment,e),t=!0)},o(e){Re(r.$$.fragment,e),t=!1},d(t){e[80](null),et(r,t)}}}function wv(e){let t;const n=new Ir({props:{tip:"version 0.22.0",color:"#ffffff",right:!0,$$slots:{default:[yv]},$$scope:{ctx:e}}});return{c(){Qe(n.$$.fragment)},m(e,r){Ze(n,e,r),t=!0},p(e,t){const r={};256&t[0]|1&t[3]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){t||(Pe(n.$$.fragment,e),t=!0)},o(e){Re(n.$$.fragment,e),t=!1},d(e){et(n,e)}}}function bv(e){let t;const n=new Wr({props:{id:e[5].id,expanded:"true",text:"عاجل",messages:e[21]}});return{c(){Qe(n.$$.fragment)},m(e,r){Ze(n,e,r),t=!0},p(e,t){const r={};32&t[0]&&(r.id=e[5].id),2097152&t[0]&&(r.messages=e[21]),n.$set(r)},i(e){t||(Pe(n.$$.fragment,e),t=!0)},o(e){Re(n.$$.fragment,e),t=!1},d(e){et(n,e)}}}function xv(e){let n,r;const i=new _i({props:{size:"40",color:"#c41b1a",unit:"px",duration:"1s"}});return{c(){n=T("div"),Qe(i.$$.fragment),D(n,"class","spinner svelte-udz2xz")},m(e,t){S(e,n,t),Ze(i,n,null),r=!0},p:t,i(e){r||(Pe(i.$$.fragment,e),r=!0)},o(e){Re(i.$$.fragment,e),r=!1},d(e){e&&_(n),et(i)}}}function Cv(e){let t,n;const i=[bs];function o(t){e[85].call(null,t)}let s={};for(let e=0;e<i.length;e+=1)s=r(s,i[e]);void 0!==e[1]&&(s.pressed=e[1]);const a=new ai({props:s});return ve.push((()=>Xe(a,"pressed",o))),a.$on("click",e[86]),{c(){Qe(a.$$.fragment)},m(e,t){Ze(a,e,t),n=!0},p(e,n){const r=0&n?Ke(i,[Je(bs)]):{};!t&&2&n[0]&&(t=!0,r.pressed=e[1],Se((()=>t=!1))),a.$set(r)},i(e){n||(Pe(a.$$.fragment,e),n=!0)},o(e){Re(a.$$.fragment,e),n=!1},d(e){et(a,e)}}}function $v(e){let t,n,i,o,a,c,u,l,f,d,h,p,g,v,y,w,b,x,C,$,k,O,N,I,L,P,R,z,U,q,H,W,G,V,K,J,X,Q,Z,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,fe,de,he,pe,me,ge,ye,we,be,xe,Ce,$e,_e,ke,Te,Oe,Ne,Ae,Ie,Me,je,ze,Ue,qe,Fe,Be,He,We,Ye,Ge,Ve,tt,nt;const rt=new As({props:{count:"6"}}),it=new ba({props:{count:"125",user:e[14]}});it.$on("emitmsg",e[24]);const ot=new vi({});ot.$on("fontsize",e[29]);let st=!e[9]&&vv();const at=new Wt({props:{$$slots:{default:[wv]},$$scope:{ctx:e}}}),ct=new Cr({props:{title:e[15].text,disabled:!0}});ct.$on("title",e[36]);const ut=new wi({});function lt(t){e[81].call(null,t)}let ft={CustomComponent:mr};void 0!==e[15]&&(ft.data=e[15]);const dt=new Qr({props:ft});ve.push((()=>Xe(dt,"data",lt))),dt.$on("msgfocus",e[28]),dt.$on("clicked",e[26]),dt.$on("keyup",e[35]),dt.$on("keydown",e[30]),dt.$on("shouldsave",e[42]),dt.$on("templateselected",e[31]);const ht=new Vt({props:{label:" + ",text:"new line",color:"rgba(196, 27, 26, 0.8)",bgColor:"white"}});ht.$on("click",e[25]);const pt=new Vt({props:{label:"",text:"remove group",color:"rgba(196, 27, 26, 0.8)",bgColor:"white"}});pt.$on("click",e[34]);const mt=new Vt({props:{label:"",text:"add to group",color:"rgba(196, 27, 26, 0.8)",bgColor:"white"}});mt.$on("click",e[32]);const gt=new Vt({props:{label:"",text:"rm from group",color:"rgba(196, 27, 26, 0.8)",bgColor:"white"}});gt.$on("click",e[33]);const vt=new Vt({props:{label:" × ",text:"delete marked",color:"white",bgColor:"rgba(196, 27, 26, 0.8)"}});vt.$on("click",e[27]);const yt=new Vt({props:{label:" + ",text:"new story",color:"rgba(196, 27, 26, 0.8)",bgColor:"white"}});yt.$on("click",e[23]);const wt=[xv,bv],bt=[];function xt(e,t){return e[5].length<=1?0:1}pe=xt(e),me=bt[pe]=wt[pe](e);const Ct=new pi({props:{infotext:e[11],visible:e[10]}}),$t=[xs];function Et(t){e[83].call(null,t)}let St={};for(let e=0;e<$t.length;e+=1)St=r(St,$t[e]);void 0!==e[3]&&(St.pressed=e[3]);const _t=new li({props:St});ve.push((()=>Xe(_t,"pressed",Et))),_t.$on("click",e[84]);const kt=new Ir({props:{tip:"autoplay",color:"#ffffff",left:!0,$$slots:{default:[Cv]},$$scope:{ctx:e}}});let Tt={};const Ot=new ar({props:Tt});e[87](Ot);const Nt=[ws];function At(t){e[88].call(null,t)}let It={};for(let e=0;e<Nt.length;e+=1)It=r(It,Nt[e]);void 0!==e[2]&&(It.pressed=e[2]);const Mt=new ii({props:It});ve.push((()=>Xe(Mt,"pressed",At))),Mt.$on("click",e[89]);const jt=[ys];function Lt(t){e[90].call(null,t)}let Dt={};for(let e=0;e<jt.length;e+=1)Dt=r(Dt,jt[e]);void 0!==e[0]&&(Dt.pressed=e[0]);const Pt=new ti({props:Dt});ve.push((()=>Xe(Pt,"pressed",Lt))),Pt.$on("click",e[91]);const Rt=new gv({props:{imageWidth:e[12],template:e[7],data:e[22]}});return{c(){t=T("meta"),n=T("meta"),i=T("meta"),o=T("meta"),a=T("meta"),c=A(),u=T("main"),l=T("header"),f=T("div"),Qe(rt.$$.fragment),d=A(),Qe(it.$$.fragment),h=A(),p=T("div"),Qe(ot.$$.fragment),g=A(),st&&st.c(),v=A(),y=T("div"),y.innerHTML='<img src="build/assets/png/logo.png" alt="Asharq" class="svelte-udz2xz">',w=A(),b=T("h1"),b.textContent="عاجل",x=A(),C=T("aside"),$=T("div"),Qe(at.$$.fragment),k=A(),O=T("label"),O.textContent="breaking news group name",N=A(),I=T("div"),Qe(ct.$$.fragment),L=A(),P=T("div"),Qe(ut.$$.fragment),R=A(),z=T("div"),Qe(dt.$$.fragment),q=A(),H=T("div"),Qe(ht.$$.fragment),W=A(),G=T("div"),V=T("div"),Qe(pt.$$.fragment),J=A(),X=T("div"),Qe(mt.$$.fragment),Z=A(),ee=T("div"),Qe(gt.$$.fragment),ne=A(),re=T("div"),Qe(vt.$$.fragment),oe=A(),se=T("nav"),ae=T("div"),ce=T("form"),ue=T("input"),le=A(),fe=T("div"),de=T("div"),Qe(yt.$$.fragment),he=A(),me.c(),ge=A(),ye=T("div"),we=T("div"),Qe(Ct.$$.fragment),be=A(),xe=T("div"),Ce=T("div"),$e=T("section"),Qe(_t.$$.fragment),ke=A(),Te=T("section"),Qe(kt.$$.fragment),Ne=A(),Ae=T("div"),Ie=T("section"),Qe(Ot.$$.fragment),Me=A(),je=T("section"),Qe(Mt.$$.fragment),Ue=A(),qe=T("section"),Qe(Pt.$$.fragment),Be=A(),He=T("div"),We=A(),Ye=T("footer"),Qe(Rt.$$.fragment),D(t,"charset","utf-8"),D(t,"class","svelte-udz2xz"),D(n,"name","viewport"),D(n,"content","width=device-width, initial-scale=1.0"),D(n,"class","svelte-udz2xz"),D(i,"name","description"),D(i,"content","Breaking News Asharq"),D(i,"class","svelte-udz2xz"),D(o,"name","keywords"),D(o,"content","Asharq,عاجل,BreakingNews,breaking,Svelte,svelte,svelte.js,sveltejs"),D(o,"class","svelte-udz2xz"),D(a,"name","author"),D(a,"content","Tomasz Plonka"),D(a,"class","svelte-udz2xz"),D(f,"class","notificationarea svelte-udz2xz"),D(p,"class","fontsize svelte-udz2xz"),D(y,"class","logoWrap svelte-udz2xz"),D(b,"class","svelte-udz2xz"),D(l,"class","header svelte-udz2xz"),D(O,"class","rightalign svelte-udz2xz"),D($,"class","ltr svelte-udz2xz"),D(P,"class","svelte-udz2xz"),D(I,"class","groupname svelte-udz2xz"),D(V,"class",K=m(e[18]&&!e[1]?"":"hidden")+" svelte-udz2xz"),D(X,"class",Q=m(e[16]?"":"hidden")+" svelte-udz2xz"),D(ee,"class",te=m(e[19]?"":e[17])+" svelte-udz2xz"),D(G,"class","groupwrapper svelte-udz2xz"),D(re,"class",ie="fab "+e[17]+" svelte-udz2xz"),D(H,"class","actionbuttonswrapper svelte-udz2xz"),D(z,"id","messages"),D(z,"class","messages svelte-udz2xz"),D(C,"class","textinput svelte-udz2xz"),D(ue,"type","text"),D(ue,"placeholder","بحث"),D(ue,"class","svelte-udz2xz"),D(ce,"class","svelte-udz2xz"),D(ae,"class","searchWrap svelte-udz2xz"),D(de,"class","fab svelte-udz2xz"),D(fe,"class","treeWrap svelte-udz2xz"),D(se,"class","navigation svelte-udz2xz"),D(we,"class","notifywrapper svelte-udz2xz"),D($e,"class","svelte-udz2xz"),D(Te,"class","svelte-udz2xz"),D(Ce,"class",Oe="rightalign "+(e[20]?"":"invisible")+" svelte-udz2xz"),B(Ie,"visibility","hidden"),D(Ie,"class","svelte-udz2xz"),D(je,"class","svelte-udz2xz"),D(qe,"class","svelte-udz2xz"),D(Ae,"class","ctlrbuttons leftalign svelte-udz2xz"),D(xe,"class","flex svelte-udz2xz"),D(He,"class","themed svelte-udz2xz"),D(ye,"class","select svelte-udz2xz"),D(Ye,"class","preview svelte-udz2xz"),Ee((()=>e[92].call(Ye))),D(u,"class","wrapper svelte-udz2xz")},m(r,s){E(document.head,t),E(document.head,n),E(document.head,i),E(document.head,o),E(document.head,a),S(r,c,s),S(r,u,s),E(u,l),E(l,f),Ze(rt,f,null),E(f,d),Ze(it,f,null),E(l,h),E(l,p),Ze(ot,p,null),E(l,g),st&&st.m(l,null),E(l,v),E(l,y),E(l,w),E(l,b),E(u,x),E(u,C),E(C,$),Ze(at,$,null),E($,k),E($,O),E(C,N),E(C,I),Ze(ct,I,null),E(I,L),E(I,P),Ze(ut,P,null),E(C,R),E(C,z),Ze(dt,z,null),E(z,q),E(z,H),Ze(ht,H,null),E(H,W),E(H,G),E(G,V),Ze(pt,V,null),E(G,J),E(G,X),Ze(mt,X,null),E(G,Z),E(G,ee),Ze(gt,ee,null),E(H,ne),E(H,re),Ze(vt,re,null),E(u,oe),E(u,se),E(se,ae),E(ae,ce),E(ce,ue),F(ue,e[6]),E(se,le),E(se,fe),E(fe,de),Ze(yt,de,null),E(fe,he),bt[pe].m(fe,null),E(u,ge),E(u,ye),E(ye,we),Ze(Ct,we,null),E(ye,be),E(ye,xe),E(xe,Ce),E(Ce,$e),Ze(_t,$e,null),E(Ce,ke),E(Ce,Te),Ze(kt,Te,null),E(xe,Ne),E(xe,Ae),E(Ae,Ie),Ze(Ot,Ie,null),E(Ae,Me),E(Ae,je),Ze(Mt,je,null),E(Ae,Ue),E(Ae,qe),Ze(Pt,qe,null),E(ye,Be),E(ye,He),E(u,We),E(u,Ye),Ze(Rt,Ye,null),Ge=Y(Ye,e[92].bind(Ye)),Ve=!0,tt||(nt=[M(ue,"input",e[82]),M(ce,"submit",j(e[79]))],tt=!0)},p(e,t){const n={};16384&t[0]&&(n.user=e[14]),it.$set(n),e[9]?st&&(Le(),Re(st,1,1,(()=>{st=null})),De()):st?512&t[0]&&Pe(st,1):(st=vv(),st.c(),Pe(st,1),st.m(l,v));const r={};256&t[0]|1&t[3]&&(r.$$scope={dirty:t,ctx:e}),at.$set(r);const i={};32768&t[0]&&(i.title=e[15].text),ct.$set(i);const o={};!U&&32768&t[0]&&(U=!0,o.data=e[15],Se((()=>U=!1))),dt.$set(o),(!Ve||262146&t[0]&&K!==(K=m(e[18]&&!e[1]?"":"hidden")+" svelte-udz2xz"))&&D(V,"class",K),(!Ve||65536&t[0]&&Q!==(Q=m(e[16]?"":"hidden")+" svelte-udz2xz"))&&D(X,"class",Q),(!Ve||655360&t[0]&&te!==(te=m(e[19]?"":e[17])+" svelte-udz2xz"))&&D(ee,"class",te),(!Ve||131072&t[0]&&ie!==(ie="fab "+e[17]+" svelte-udz2xz"))&&D(re,"class",ie),64&t[0]&&ue.value!==e[6]&&F(ue,e[6]);let s=pe;pe=xt(e),pe===s?bt[pe].p(e,t):(Le(),Re(bt[s],1,1,(()=>{bt[s]=null})),De(),me=bt[pe],me||(me=bt[pe]=wt[pe](e),me.c()),Pe(me,1),me.m(fe,null));const a={};2048&t[0]&&(a.infotext=e[11]),1024&t[0]&&(a.visible=e[10]),Ct.$set(a);const c=0&t?Ke($t,[Je(xs)]):{};!_e&&8&t[0]&&(_e=!0,c.pressed=e[3],Se((()=>_e=!1))),_t.$set(c);const u={};2&t[0]|1&t[3]&&(u.$$scope={dirty:t,ctx:e}),kt.$set(u),(!Ve||1048576&t[0]&&Oe!==(Oe="rightalign "+(e[20]?"":"invisible")+" svelte-udz2xz"))&&D(Ce,"class",Oe);const f={};Ot.$set(f);const d=0&t?Ke(Nt,[Je(ws)]):{};!ze&&4&t[0]&&(ze=!0,d.pressed=e[2],Se((()=>ze=!1))),Mt.$set(d);const h=0&t?Ke(jt,[Je(ys)]):{};!Fe&&1&t[0]&&(Fe=!0,h.pressed=e[0],Se((()=>Fe=!1))),Pt.$set(h);const p={};4096&t[0]&&(p.imageWidth=e[12]),128&t[0]&&(p.template=e[7]),4194304&t[0]&&(p.data=e[22]),Rt.$set(p)},i(e){Ve||(Pe(rt.$$.fragment,e),Pe(it.$$.fragment,e),Pe(ot.$$.fragment,e),Pe(st),Pe(at.$$.fragment,e),Pe(ct.$$.fragment,e),Pe(ut.$$.fragment,e),Pe(dt.$$.fragment,e),Pe(ht.$$.fragment,e),Pe(pt.$$.fragment,e),Pe(mt.$$.fragment,e),Pe(gt.$$.fragment,e),Pe(vt.$$.fragment,e),Pe(yt.$$.fragment,e),Pe(me),Pe(Ct.$$.fragment,e),Pe(_t.$$.fragment,e),Pe(kt.$$.fragment,e),Pe(Ot.$$.fragment,e),Pe(Mt.$$.fragment,e),Pe(Pt.$$.fragment,e),Pe(Rt.$$.fragment,e),Ve=!0)},o(e){Re(rt.$$.fragment,e),Re(it.$$.fragment,e),Re(ot.$$.fragment,e),Re(st),Re(at.$$.fragment,e),Re(ct.$$.fragment,e),Re(ut.$$.fragment,e),Re(dt.$$.fragment,e),Re(ht.$$.fragment,e),Re(pt.$$.fragment,e),Re(mt.$$.fragment,e),Re(gt.$$.fragment,e),Re(vt.$$.fragment,e),Re(yt.$$.fragment,e),Re(me),Re(Ct.$$.fragment,e),Re(_t.$$.fragment,e),Re(kt.$$.fragment,e),Re(Ot.$$.fragment,e),Re(Mt.$$.fragment,e),Re(Pt.$$.fragment,e),Re(Rt.$$.fragment,e),Ve=!1},d(r){_(t),_(n),_(i),_(o),_(a),r&&_(c),r&&_(u),et(rt),et(it),et(ot),st&&st.d(),et(at),et(ct),et(ut),et(dt),et(ht),et(pt),et(mt),et(gt),et(vt),et(yt),bt[pe].d(),et(Ct),et(_t),et(kt),e[87](null),et(Ot),et(Mt),et(Pt),et(Rt),Ge(),tt=!1,s(nt)}}}let Ev=7,Sv=1;function _v(){const e=new Date;return e.toISOString()}function kv(e,t){for(var n=0;n<t&&!e[n].selected;n++);return n}function Tv(e,t){for(var n=e.length-1;n>t&&!e[n].selected;n--);return n}function Ov(e,t){return e.findIndex((e=>e.id===t))>-1}function Nv(e){return console.dir(e,{depth:null}),e.response?`${e.message}, ${JSON.stringify(e.response.data)}`:e.message}function Av(e,t){const n=e.messages[t];return e.messages.length=0,e.messages.push(n),e}function Iv(e,t,n){do{e=++e%t.messages.length}while(t.messages[e].template&&t.messages[e].template.valueName!==n);return e}function Mv(e,t){const n=t.messages.findIndex((e=>e.cued&&e.grouped));if(n>-1)return n;do{e=++e%t.messages.length}while(!t.messages[e].grouped);return e}function jv(e,t){if(t>-1){const n=e.messages[t].template?e.messages[t].template.layer:void 0;return e.messages.forEach((e=>{e.template&&e.template.layer===n&&(delete e.onair,delete e.cued)})),e}}function Lv(e,t){t<e.messages.length&&e.messages[t].aired.push(_v())}function Dv(e,t,n){let r,i,o,s;l(e,Qt,(e=>n(49,r=e))),l(e,Xt,(e=>n(50,i=e))),l(e,Hs,(e=>n(52,o=e)));const a=function(e,t,n,r){return new Rd(e,t,n,r)};let c;!function(e){e.fn("getu",(function(e){return"undefined"===this.get(e)?void 0:this.get(e)}))}(Tt._);let u,f,d=!1,h=!1,p,m,v,y,w=[],b="";Qt.set([]);let x=null,C;const $=Tt.get(Yd);console.log("font size: ",$),$?Zt.set(Math.max(Tt.get(Yd),.75)):Zt.set(1.25);let E=!0,S,_,k;const T=new ts({rules:{playQueue:{rate:1,limit:3,priority:1},stopQueue:{rate:1,limit:1,priority:1},CouchDbQueue:{rate:1,limit:2,priority:4}}});function O(e){switch(e){case"mock":const t=Dd();return t;case"couchdb":return s=new Rd(lt,ft,dt,ht),s.GetData().then((e=>e));default:throw new Nd(`no such datasource "${e}"`)}}let N={pdsUrl:ot,prvUrl:yt,extFeedUrl:""},A,I=-1,M,j;function L(e){let t=w.find((t=>t.id===e));switch(t){case void 0:x||n(7,x=Tt.getu(Hd)),x&&x.value&&n(7,x=r.find((e=>e.value===x.value))),t=Ca(x),n(5,w=[t].concat(w)),Xt.set(t.id);break;default:const e=r[1];t.messages.forEach((n=>{n.template||(n.template=t.template||e);const i=r.find((e=>e.valueName===n.template.valueName));n.template=i||n.template}))}return t}function D(e){c&&c.emit("chatmessage",e.detail)}function P(){Ov(w,i)&&re()}function R(e){switch(!0){case e.detail.meta.ctrlKey:z(e.detail.MessageId);break;case e.detail.meta.shiftKey:const t=j.messages.findIndex((t=>t.id===e.detail.MessageId)),n=kv(j.messages,t);n<t&&q(n,t);const r=Tv(j.messages,t);r>t&&q(t,r);break;default:F(e.detail.MessageId)}}function z(e){const t=j.messages.findIndex((t=>t.id===e));n(15,j.messages[t].selected=!j.messages[t].selected,j)}function U(e){n(13,I=j.messages.findIndex((t=>t.id===e))),K(I)}function q(e,t){for(let n=e;n<=t;n++)K(n)}function F(e){j.messages.forEach((t=>t.id!==e?t.selected=!1:t.selected=!t.selected)),n(15,j),n(50,i)}function B(){n(15,j.messages=j.messages.filter((e=>!e.selected||e.onair)),j),n(16,Ue=!1),Ce().then().catch((e=>console.log(e)))}function H(e){n(13,I=j.messages.findIndex((t=>t.id===e.detail.MessageId))),j.messages.forEach((e=>{e.selected=!1})),f&&j.messages[I].grouped&&G(I),u&&V(I)}function W(e){Tt.set(Yd,e.detail.fontsize)}const Y=e=>{switch(e.keyCode){case 13:case 10:e.ctrlKey&&Ov(w,i)&&re(I+1),e.shiftKey&&Ov(w,i)&&re(I)}n(15,j),n(50,i)};function G(e){const t=j.messages[e];j.messages.forEach((e=>{e.grouped&&delete e.cued})),t.cued=!0,n(15,j),n(50,i)}function V(e){const t=j.messages[e];f?j.messages.forEach((e=>{e.grouped||delete e.cued})):j.messages.forEach((e=>{delete e.cued})),t.cued=!0,n(15,j),n(50,i)}function K(e){n(15,j.messages[e].selected=!0,j)}function J(e){const t=j.messages.findIndex((t=>t.id===e.detail.MessageId));n(15,j.messages[t].template=e.detail.template,j),j.messages.length>1||j.messages[0].text}function X(){let e=-1;j.messages.forEach(((t,n)=>{if(t.selected&&!t.grouped){const r=j.messages.splice(n,1)[0];r.grouped=!0,t.selected=!1,e=Z(),j.messages.splice(e+1,0,r)}})),n(15,j),n(50,i)}function Q(){let e=[];for(var t=0;t<j.messages.length;t++)if(j.messages[t].selected&&j.messages[t].grouped&&!j.messages[t].onair){const n=j.messages.splice(t,1)[0];n.selected=n.grouped=n.cued=!1,e.push(n),--t}const r=Z();r<0&&(r=j.messages.length-1),j.messages.splice(r+1,0,...e),n(15,j),n(50,i)}function Z(){let e=-1,t=j.messages.length-1;for(;t>=0;t--)if(j.messages[t].grouped){e=t;break}return e}function ee(){f||(j.messages.forEach((e=>delete e.grouped)),n(15,j),n(50,i))}const te=Ud((e=>{{e.keyCode;const t=j.messages[I];t.text!==e.target.value&&(t.text=e.target.value,t.author=M,n(15,j.author=M,j),Ov(w,i)||w.unshift(j),n(5,w),Ce().then().catch((e=>console.log(e))))}}),350);async function ne(e){await $e(),n(15,j.text=e.detail.title,j),Ov(w,j.id)||w.unshift(j),Ce()}function re(e){const t=$a(j.messages.slice(-1));void 0===e?n(15,j.messages=[...j.messages,t],j):j.messages.splice(e,0,t),Ii({container:"#messages",offset:280,duration:250})}function ie(){!f&&x&&j.messages.some((e=>e.grouped))&&C.toggle()}function oe(e){n(1,f=!0),Tt.set("AutoMsgDuration",e.detail.duration),se(I,e.detail.duration+1)}function se(e,t){ae(e),k=new Ea,e=Mv(e,j),G(e),k.Cue(t).then((()=>{e<j.messages.length&&f&&(k={},e=j.messages.findIndex((e=>e.cued&&e.grouped)),e<0&&(e=Mv(e,j)),se(e,t))}))}function ae(e){y(),setTimeout((()=>{m()}),100);{Lv(j,e),ye(j,e);let t=be(qs(j));t.template=t.messages[e].template,t=Av(t,e);const r=t.id,o="playQueue";T.request((()=>jc.put(st,t,{timeout:ct,headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{if(e.status&&e.status>=400)throw n(0,u=!1),new Ld(e.statusText);console.log("response.data on (auto) play: ",e.data),c.emit("takein",{user:M});const t=e.data;he(t.path_onair),pe(t.path_web),ge(t.path_twitter),n(15,j),n(50,i)})).catch((e=>{const t=Nv(e);console.error("play error:",t),Se(Dp(e.message),Ds.Error)}))),r,o)}}function ce(e){if(!x)return;let t=-1;if(t=f?j.messages.findIndex((e=>e.cued&&!e.grouped)):j.messages.findIndex((e=>e.cued)),-1==t&&(t=e.currEditedItemIndex),!(t<0)){n(0,u=!0),y(),setTimeout((()=>{m()}),50);{console.log("dataSendUrl: ",st),n(15,j.template=j.messages[t].template,j),Lv(j,t),ye(j,t),n(13,I=t),n(15,j),n(50,i);let e=be(qs(j));e=Av(e,t);const r=e.id,o="playQueue";T.request((()=>jc.put(st,e,{timeout:ct,headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{if(e.status&&e.status>=400)throw n(0,u=!1),new Ld(e.statusText);return c.emit("takein",{user:M}),t=Iv(t,j,x.valueName),V(t),n(15,j),n(50,i),e.data})).catch((e=>{const t=Nv(e);console.error("play error:",t),Se(Dp(e.message),Ds.Error)}))),r,o).then((e=>{console.log("response data on (manual) play: ",e),he(e.path_onair),pe(e.path_web),ge(e.path_twitter)})).catch((e=>console.error(e)))}}}function le(){if(d)return;if(f&&!u)return;let e=-1;e=I;const t=j.messages.filter((e=>e.onair&&!e.grouped));1===t.length&&(e=j.messages.findIndex((e=>e.id===t[0].id)),j.messages.forEach((e=>e.cued=!1))),-1!==e&&e>=0&&(n(2,d=!0),de(j,e).then((t=>{console.log("stop (manual) response: ",t),t&&(he(t.path_onair),pe(t.path_web),ge(t.path_twitter)),we(j,e),v(),j.messages.forEach((e=>e.protected=!1)),n(15,j),n(50,i),c.emit("takeout",{user:M}),Ce().catch((e=>console.log(e))),j.messages.some((e=>e.onair&&!e.grouped))||(console.log("still a manual one on air"),n(0,u=!1)),setTimeout((function(){y()}),500)})),n(2,d=!1))}function fe(){if(h)return;let e=j.messages.findIndex((e=>e.grouped&&e.onair));e<0||(n(1,f=!1),n(3,h=!0),de(j,e).then((t=>{console.log("stop (auto) response: ",t),t&&(he(t.path_onair),pe(t.path_web),ge(t.path_twitter)),we(j,e),v(),n(1,f=!1),n(3,h=!1),Ce().catch((e=>console.log(e))),n(15,j),n(50,i),c.emit("takeout",{user:M})})))}async function de(e,t){e=be(e);let n=qs(e);n=Av(n,t),n.template=n.messages[0].template;const r=n.messages[0].id,i="stopQueue",o=await T.request((()=>jc.put(at,n,{timeout:ct,headers:{"Content-Type":"application/json"}}).then((e=>{const t=e.data;if(e.status&&200!==e.status)throw console.log("stop: ",e),new Md(e.statusText);return t})).catch((e=>{const t=Nv(e);console.error("stop operation problem:",e),Se(Pp(e.message),Ds.Error)}))),r,i);return o}function he(e){Array.isArray(e)||(e=[e]),e.forEach((e=>{if(!e.success)switch(e.status){case 410:Se(Dp(""!==e.message?e.message:`${e.statusCode} - ${e.url}`),Ds.Warn);break;case 404:default:Se(Dp(""!==e.message?e.message:`${e.statusCode} - ${e.url}`),Ds.Error)}}))}function pe(e){Array.isArray(e)||(e=[e]),e.forEach((e=>{e.success||Se(zp("web: "+e.message),Ds.Error)}))}function ge(e){if(!e.success)switch(e.message){case"Status is a duplicate.":break;default:Se(Rp(""+e.message),Ds.Error)}}function ye(e,t){let n;if(e=jv(e,t),t>-1)return n=e.messages[t],n.onair=!0,n}function we(e,t){jv(e,t),n(13,I=-1)}function be(e){return e.template=x,e.duration=7,e.loop=1,e.author=M,e}function xe(e){Ce().then().catch((e=>console.log(e)))}async function Ce(){s.SaveDoc(j).then(n(5,w)).catch((e=>{switch(!0){case e instanceof Ad:console.error(e),(e.code=409)&&(console.log("error 409, conflict: ",e),console.log("current revision: ",j._rev),s.getDoc(j._id).then((e=>{n(15,j._rev=e._rev,j),console.log("new revision: ",j._rev)})).catch((e=>console.log("failed to resolve conflict",e))));break;default:console.error(e)}}))}function Ee(e){const t=w.findIndex((t=>t.id===e.id));return t>-1?e.deleted?w.splice(t,1):n(5,w[t]=e.doc,w):w.unshift(e.doc),w}function Se(e,t){$s.add(new jp(e,t).FormattedLogMessage)}function _e(t){me(e,t)}function ke(e){ve[e?"unshift":"push"]((()=>{n(8,C=e)}))}function Te(e){j=e,n(15,j),n(50,i)}function Oe(){b=this.value,n(6,b)}function Ne(e){h=e,n(3,h)}ue((async()=>{try{window.onunhandledrejection=e=>{console.log("window.onunhandledrejection: ",e.reason),e.preventDefault()};const e=ut;switch(e){case"mock":n(5,w=Dd()),r.set([{value:"1001",valueName:"BreakingTickerIN",label:"ticker",vShift:"94%",hShift:"50%",stopPoint:"$pilot1",type:"ticker",mappings:{conceptvariantchoice:{Concept:"NEWS",Variant:"Default"},fields:["1"]}},{value:"1000",label:"cg",vShift:"80%",hShift:"50%",stopPoint:"$pilot1",type:"vcp",mappings:{conceptvariantchoice:{Concept:"NEWS",Variant:"Default"},layers:{layerId:"-vizlayer-BreakingNews_______",layer:"breakingin"},fields:["ALine1"]}}]||[]);break;case"couchdb":s=new Rd(lt,ft,dt,ht),n(5,w=await s.GetData());let t=new Rd(pt,mt,gt,vt);const i=await t.GetTemplates();Qt.set(i),n(7,x=Tt.getu(Hd)),m=function(){p.TimerStart()},v=function(){p.TimerStop()},y=function(){p.TimerRestart()},n(14,M=null===decodeURIComponent(Fd(Bd))?"":decodeURIComponent(Fd(Bd))),console.log("user: "+M),c=new xd,c.plugin("emit",Ed),c.on("update",(e=>{console.log("update from db");let t=JSON.parse(e);t.id!=j.id?n(5,w=Ee(t)):(n(15,j._rev=t.doc._rev,j),console.log(`Current user: ${M}, incoming: ${t.doc.author}`),t.doc.author&&t.doc.author!==M&&(Hp("negative"),Se(Lp(t.doc.author),Ds.Warn)))})),c.on("version",(e=>{console.log("version: ",e)})),c.on("open",(function e(){console.log("Connection to server is alive"),n(9,E=!0),console.log("emitting current user: ",{username:M||""}),this.emit("user",{username:M||""})})),c.on("couchdb_error",(e=>{console.log("Something horrible has happened",e.stack)})),c.on("reconnect",(function(e){n(9,E=!1),console.log("Reconnection attempt started")})),c.on("userlist",(function(e){g(Hs,o=[]),console.log("userlist: ",e),console.log("adding user from server: ",e),g(Hs,o=[...o,...e])})),c.on("chatinit",(function(e){Bs.clear(),Bs.addarr(e)})),c.on("userconnected",(function(e){console.log("user connected: ",e),e.active=Ps.active;const t=o.findIndex((t=>t.id==e.id));-1===t&&g(Hs,o=[...o,e])})),c.on("usergone",(function(e){console.log("user gone: ",e),g(Hs,o=o.filter((t=>t.id!==e.id)))})),c.on("chatmessage",(function(e){Bs.add(e)})),c.on("takein",(function(e){n(10,S=!0),console.table("Take in data: ",e),n(11,_=Mr(e.user,"")+" is playing now")})),c.on("takeout",(function(){n(10,S=!1)}));break;default:throw new Nd(`no such datasource "${e}"`)}$s.init([])}catch(e){console.error(e)}}));const Ae=e=>{fe()};function Ie(e){f=e,n(1,f)}const Me=e=>{ie()};function je(e){ve[e?"unshift":"push"]((()=>{n(4,p=e)}))}function Le(e){d=e,n(2,d)}const De=()=>le();function Pe(e){u=e,n(0,u)}const Re=e=>{ce({currEditedItemIndex:I,play:!0})};function ze(){A=this.clientWidth,n(12,A)}let Ue,qe,Fe,Be,He,We,Ye,Ge;return e.$$.update=()=>{524288&e.$$.dirty[1]&&n(15,j=L(i)),32768&e.$$.dirty[0]&&n(16,Ue=j.messages.reduce(((e,t)=>e||t.selected),!1)),65536&e.$$.dirty[0]&&n(17,qe=Ue?"":"hidden"),32768&e.$$.dirty[0]&&n(18,Fe=j.messages.reduce(((e,t)=>e||t.grouped),!1)),32768&e.$$.dirty[0]&&n(19,Be=j.messages.some((e=>!0===e.selected&&!0===e.grouped))),262144&e.$$.dirty[0]&&n(20,He=Fe),40960&e.$$.dirty[0]&&n(7,x=j.messages[I]?j.messages[I].template:void 0),128&e.$$.dirty[0]&&null!==x&&Tt.set(Hd,x),96&e.$$.dirty[0]&&n(21,We=qd(w,b,"text")),40960&e.$$.dirty[0]&&n(22,Ye=j.messages[I]?j.messages[I].text:""),128&e.$$.dirty[0]&&(Ge=x?`object-position: ${x.hShift} ${x.vShift};`:"object-position: 0% 0%;")},[u,f,d,h,p,w,b,x,C,E,S,_,A,I,M,j,Ue,qe,Fe,Be,He,We,Ye,L,D,P,R,B,H,W,Y,J,X,Q,ee,te,ne,ie,oe,ce,le,fe,xe,s,c,m,v,y,k,r,i,Ge,o,a,$,T,O,N,z,U,q,F,G,V,K,Z,re,se,ae,de,he,pe,ge,ye,we,be,Ce,Ee,Se,_e,ke,Te,Oe,Ne,Ae,Ie,Me,je,Le,De,Pe,Re,ze]}class Pv extends rt{constructor(e){super(),nt(this,e,Dv,$v,c,{},[-1,-1,-1,-1])}}const Rv=new Pv({target:document.body,props:{}});return Rv}();
